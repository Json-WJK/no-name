(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-basicSetup"],{"546f":function(t,e,a){"use strict";var n=a("c36a"),i=a.n(n);i.a},8949:function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"basicSetup"},[a("div",{staticClass:"avatar",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseImage.apply(void 0,arguments)}}},[t.avatarPath?a("v-uni-image",{attrs:{src:t.$HTTP+t.avatarPath,mode:"aspectFill",alt:!0}}):a("v-uni-image",{attrs:{src:"https://dss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=4034879928,1229713244&fm=26&gp=0.jpg",alt:!0}})],1),a("div",{staticClass:"name"},[a("div",{staticClass:"hint"},[t._v("我们应该如何称呼您")]),a("v-uni-input",{attrs:{maxlength:"20",type:"text",placeholder:"设置昵称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-uni-button",{staticClass:"cu-btn block bg-blue margin-tb-sm lg button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("继续")])],1)},o=[];a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}))},"9f85":function(t,e,a){"use strict";a.r(e);var n=a("d0d7"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},ab66:function(t,e,a){"use strict";a("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("b7f0"),i={post:function(t,e){return new Promise((function(a){return uni.request({url:n.HTTP+t,data:e,header:{"content-type":"application/json"},method:"POST",timeout:1e4,success:function(t){console.log("走了"),a(t.data)}})}))},get:function(t,e){return new Promise((function(a){return uni.request({url:n.HTTP+t,data:e,header:{"content-type":"application/json"},method:"get",timeout:1e4,success:function(t){console.log("走了"),a(t.data)}})}))}},o=i;e.default=o},ac14:function(t,e,a){"use strict";a.r(e);var n=a("8949"),i=a("9f85");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("546f");var u,s=a("f0c5"),r=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"67060cfc",null,!1,n["a"],u);e["default"]=r.exports},ae17:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".basicSetup[data-v-67060cfc]{position:fixed;top:0;left:0;background:#fff;width:100%;height:100%}.basicSetup .avatar[data-v-67060cfc]{width:%?500?%;height:%?500?%;background:#eee;margin:%?200?% auto 0}.basicSetup .avatar uni-image[data-v-67060cfc]{width:100%;height:100%}.basicSetup .name[data-v-67060cfc]{width:%?500?%;margin:%?30?% auto 0}.basicSetup .name .hint[data-v-67060cfc]{color:#999}.basicSetup .name uni-input[data-v-67060cfc]{width:100%;height:%?65?%;margin-top:%?15?%;background:#eee;caret-color:#39b54a;box-sizing:border-box;padding:0 %?10?%}.basicSetup .button[data-v-67060cfc]{width:%?500?%;margin:%?50?% auto 0;background:#39b54a}",""]),t.exports=e},c36a:function(t,e,a){var n=a("ae17");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("4ffa0208",n,!0,{sourceMap:!1,shadowMode:!1})},d0d7:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("f7fb"),i={data:function(){return{uid:"",avatarPath:"",name:""}},onLoad:function(t){this.uid=t.uid,console.log(this.uid)},methods:{submit:function(){if(this.avatarPath)if(this.name){var t={uid:this.uid,avatar:this.avatarPath,uname:this.name};(0,n.basicSetup)(t).then((function(t){uni.setStorageSync("UID",t.msg);var e={uid:uni.getStorageSync("UID")};(0,n.getUserInfo)(e).then((function(t){console.log(t),t.ok&&uni.setStorageSync("USERINFO",t.data)})),t.ok&&(uni.showToast({title:"设置成功",icon:"none",duration:1500,mask:!0}),setTimeout((function(){uni.redirectTo({url:"/pages/plaza"})}),1200))}))}else uni.showToast({title:"请设置您的昵称",icon:"none",duration:1500,mask:!1});else uni.showToast({title:"请选择您的头像",icon:"none",duration:1500,mask:!1})},chooseImage:function(){var t=this;uni.chooseImage({success:function(e){var a=e.tempFilePaths;uni.uploadFile({url:t.$HTTP+"/user/uploadFile",filePath:a[0],name:"file",success:function(e){console.log(e),200==e.statusCode&&(t.avatarPath=JSON.parse(e.data).filePath,console.log(t.avatarPath))}})}})}}};e.default=i},f7fb:function(t,e,a){"use strict";var n=a("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.releaseMoment=e.getUserMoment=e.setUserInfo=e.getUserInfo=e.basicSetup=e.login=e.register=void 0;var i=n(a("ab66")),o=function(t){return i.default.post("/user/register",t)};e.register=o;var u=function(t){return i.default.post("/user/login",t)};e.login=u;var s=function(t){return i.default.post("/user/basicSetup",t)};e.basicSetup=s;var r=function(t){return i.default.post("/user/getUserInfo",t)};e.getUserInfo=r;var c=function(t){return i.default.post("/user/setUserInfo",t)};e.setUserInfo=c;var f=function(t){return i.default.get("/user/getUserMoment?userId=".concat(t))};e.getUserMoment=f;var d=function(t){return i.default.post("/user/releaseMoment",t)};e.releaseMoment=d}}]);