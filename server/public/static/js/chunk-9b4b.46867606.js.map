{"version":3,"sources":["webpack:///./src/api/marketManage/coupon.js","webpack:///./src/views/marketManage/coupon/components/customer.vue?d92d","webpack:///./src/views/marketManage/coupon/components/customer.vue?8aba","webpack:///src/views/marketManage/coupon/components/customer.vue","webpack:///./src/views/marketManage/coupon/components/customer.vue"],"names":["__webpack_require__","d","__webpack_exports__","getCouponInfoPage","getCouponProductPage","getCouponUserPage","addCouponInfo","editCouponInfo","couponData","findCouponInfo","deleteCouponInfo","userCouponProductPage","getCouponInfoSubGroupPage","getCouponInfoSubGroupInfo","getCouponCodeUrl","_utils_request__WEBPACK_IMPORTED_MODULE_0__","data","request","url","method","shopId","couponId","components_customervue_type_script_lang_js_","props","watch","customerShow","newvalue","oldValue","this","getData","fromLoading","searchList","shopCategoryIdArr","pageNum","pageSize","category","list","listTotal","multipleSelection","created","shop","methods","sub","console","log","length","$emit","$refs","multipleTable","clearSelection","$message","error","toggleSelection","rows","_this","forEach","row","toggleRowSelection","handleSelectionChange","val","handleSizeChange","handleCurrentChange","reset","vipType","cellPhone","_this2","userIds","Object","coupon","then","res","code","total","getCategory","_this3","getProductCategoryShopAllList","close","change","$forceUpdate","computed","extends_default","vuex_esm","component","componentNormalizer","_vm","_h","$createElement","_c","_self","attrs","append-to-body","title","visible","width","close-on-click-modal","close-on-press-escape","show-close","on","update:visible","$event","staticClass","shadow","_v","staticStyle","float","type","size","click","margin-right","margin-top","inline","model","label-width","label","placeholder","value","callback","$$v","$set","expression","clearable","input","ref","tooltip-effect","selection-change","prop","scopedSlots","_u","key","fn","scope","_s","padding","page-sizes","page-size","layout","size-change","current-change","slot","options","__file"],"mappings":"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","file":"static/js/chunk-9b4b.46867606.js","sourcesContent":["import request from '@/utils/request'\r\n// 分页查询优惠券\r\nexport function getCouponInfoPage(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponInfoPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 分页查询可添加优惠券商品\r\nexport function getCouponProductPage(data) {\r\n  return request({\r\n    url: `/sys/couponProduct/getCouponProductPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 分页查询优惠券可添加用户\r\nexport function getCouponUserPage(data) {\r\n  return request({\r\n    url: `/sys/couponProduct/getCouponUserPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 添加优惠券\r\nexport function addCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/addCouponInfo`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 编辑优惠券\r\nexport function editCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/editCouponInfo`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 优惠券使用数据\r\nexport function couponData(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/couponData?couponId=${data}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 查询优惠券详情\r\nexport function findCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/findCouponInfo?couponId=${data}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 优惠券失效\r\nexport function deleteCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/deleteCouponInfo?couponId=${data}`,\r\n    method: 'DELETE',\r\n  })\r\n}\r\n// 优惠券商品使用列表\r\nexport function userCouponProductPage(data) {\r\n  return request({\r\n    url: `/sys/couponProduct/userCouponProductPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 组件 - 列表\r\nexport function getCouponInfoSubGroupPage(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponInfoSubGroupPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 组件 - 回显\r\nexport function getCouponInfoSubGroupInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponInfoSubGroupInfo?couponIdStr=${data}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 优惠券推广\r\nexport function getCouponCodeUrl(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponCodeUrl?shopId=${data.shopId}&couponId=${data.couponId}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// export function getCouponCodeUrl(data) {\r\n//   return request({\r\n//     url: `/sys/couponInfo/getCouponCodeUrl`,\r\n//     method: 'post',\r\n//     data: data\r\n//   })\r\n// }\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"append-to-body\":true,\"title\":\"客户选择\",\"visible\":_vm.customerShow,\"width\":\"70%\",\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"show-close\":false},on:{\"update:visible\":function($event){_vm.customerShow=$event}}},[_c('el-card',{staticClass:\"filter-container\",attrs:{\"shadow\":\"never\"}},[_c('div',[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" \"),_c('span',[_vm._v(\"筛选搜索\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.getData}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"size\":\"small\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.searchList,\"size\":\"small\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"客户身份\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择客户身份\"},model:{value:(_vm.searchList.vipType),callback:function ($$v) {_vm.$set(_vm.searchList, \"vipType\", $$v)},expression:\"searchList.vipType\"}},[_c('el-option',{attrs:{\"label\":\"会员用户\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"普通用户\",\"value\":\"2\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系方式：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"联系方式\"},on:{\"input\":function($event){_vm.change($event)}},model:{value:(_vm.searchList.cellPhone),callback:function ($$v) {_vm.$set(_vm.searchList, \"cellPhone\", $$v)},expression:\"searchList.cellPhone\"}})],1)],1)],1)]),_vm._v(\" \"),_c('el-card',{staticClass:\"filter-container\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"shadow\":\"never\"}},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"tooltip-effect\":\"dark\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"用户昵称\",\"prop\":\"nikeName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"联系方式\",\"width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.cellPhone ? scope.row.cellPhone : '-'))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"来源\",\"prop\":\"sourType\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"客户身份\",\"prop\":\"vipTypeName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"注册时间\",\"prop\":\"createTime\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"padding\":\"10px 0 20px 0\"}},[_c('el-pagination',{attrs:{\"page-sizes\":[5, 10, 15, 20],\"page-size\":_vm.searchList.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.listTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sub}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/happypack/loader.js?id=js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/happypack/loader.js?id=js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customer.vue?vue&type=script&lang=js&\"","<template>\r\n  <el-dialog :append-to-body=\"true\" title=\"客户选择\" :visible.sync=\"customerShow\" width=\"70%\" :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :show-close=\"false\">\r\n    <!-- 筛选条件 -->\r\n    <el-card class=\"filter-container\" shadow=\"never\">\r\n      <div>\r\n        <i class=\"el-icon-search\"></i>\r\n        <span>筛选搜索</span>\r\n        <el-button style=\"float: right\" @click=\"getData\" type=\"primary\" size=\"small\">查询</el-button>\r\n        <el-button style=\"float: right;margin-right: 15px\" @click=\"reset\" size=\"small\">重置</el-button>\r\n      </div>\r\n      <div style=\"margin-top: 15px\">\r\n        <el-form :inline=\"true\" :model=\"searchList\" size=\"small\" label-width=\"140px\">\r\n          <el-form-item label=\"客户身份\">\r\n            <el-select v-model=\"searchList.vipType\" placeholder=\"请选择客户身份\">\r\n              <el-option label=\"会员用户\" value=\"1\"></el-option>\r\n              <el-option label=\"普通用户\" value=\"2\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"联系方式：\">\r\n            <el-input style=\"width: 203px\" v-model=\"searchList.cellPhone\" clearable placeholder=\"联系方式\" @input=\"change($event)\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </el-card>\r\n    <el-card class=\"filter-container\" shadow=\"never\" style=\"margin-top:10px;\">\r\n      <el-table\r\n        ref=\"multipleTable\"\r\n        :data=\"list\"\r\n        tooltip-effect=\"dark\"\r\n        style=\"width: 100%\"\r\n        @selection-change=\"handleSelectionChange\">\r\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n        <el-table-column label=\"用户昵称\" prop=\"nikeName\"></el-table-column>\r\n        <el-table-column label=\"联系方式\" width=\"240\">\r\n          <template slot-scope=\"scope\">{{scope.row.cellPhone ? scope.row.cellPhone : '-'}}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"来源\" prop=\"sourType\"></el-table-column>\r\n        <el-table-column label=\"客户身份\" prop=\"vipTypeName\"></el-table-column>\r\n        <el-table-column label=\"注册时间\" prop=\"createTime\"></el-table-column>\r\n      </el-table>\r\n      <div style=\"padding:10px 0 20px 0;\">\r\n        <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :page-sizes=\"[5, 10, 15, 20]\"\r\n          :page-size=\"searchList.pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"listTotal\">\r\n        </el-pagination>\r\n      </div>\r\n    </el-card>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"close\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"sub\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { getCouponUserPage } from '@/api/marketManage/coupon'\r\n\r\nexport default {\r\n  props: [\"userIds\",\"customerShow\"],\r\n  watch:{\r\n    customerShow(newvalue,oldValue){\r\n      if(newvalue){\r\n        this.getData();\r\n      }\r\n    },\r\n  },\r\n  data(){\r\n    return{\r\n      fromLoading:false,\r\n      searchList:{\r\n        shopCategoryIdArr:[],\r\n        pageNum:1,\r\n        pageSize:5\r\n      },\r\n      category:[],\r\n      list:[],\r\n      listTotal:0,\r\n      multipleSelection:[],           // 勾选的数据\r\n    }\r\n  },\r\n  created(){\r\n    this.searchList.shopId = this.shop.shopId\r\n  },\r\n  methods:{\r\n    sub(){\r\n      console.log('multipleSelection',this.multipleSelection)\r\n      if(this.multipleSelection.length == 0){\r\n        this.$message.error('请选择客户后再试');\r\n        return;\r\n      }\r\n      this.$emit('customerFun',this.multipleSelection)\r\n      this.$refs.multipleTable.clearSelection();\r\n    },\r\n    toggleSelection(rows) {\r\n      if (rows) {\r\n        rows.forEach(row => {\r\n          this.$refs.multipleTable.toggleRowSelection(row);\r\n        });\r\n      } else {\r\n        this.$refs.multipleTable.clearSelection();\r\n      }\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n      this.searchList.pageSize = val;\r\n      this.getData()\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.searchList.pageNum = val;\r\n      this.getData()\r\n    },\r\n    reset(){\r\n      this.searchList.vipType = ''\r\n      this.searchList.cellPhone = []\r\n      this.getData();\r\n    },\r\n    // 列表 - 获取数据\r\n    getData(){\r\n      this.fromLoading = true\r\n      this.searchList.userIds = this.userIds || ''\r\n      console.log('请求的数据',this.searchList)\r\n      getCouponUserPage(this.searchList).then(res=>{\r\n        console.log('可添加优惠券的商品列表',res)\r\n        if(res.code == 200){\r\n          this.list = res.data.list\r\n          this.listTotal = res.data.total\r\n        }\r\n        this.fromLoading = false\r\n      })\r\n    },\r\n    // 获取全部分类\r\n    getCategory(){\r\n      getProductCategoryShopAllList(this.shop.shopId).then(res=>{\r\n        console.log('获取店铺分类',res)\r\n        this.category = res.data\r\n      })\r\n    },\r\n    close(){\r\n      this.$emit('customerClose',true)\r\n    },\r\n    change(){\r\n      this.$forceUpdate()\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'user',\r\n      'shop'\r\n    ])\r\n  },\r\n}\r\n</script>","import { render, staticRenderFns } from \"./customer.vue?vue&type=template&id=47537326&\"\nimport script from \"./customer.vue?vue&type=script&lang=js&\"\nexport * from \"./customer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"customer.vue\"\nexport default component.exports"],"sourceRoot":""}