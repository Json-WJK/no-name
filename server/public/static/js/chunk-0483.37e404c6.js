(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0483"],{"8XqY":function(e,t,s){"use strict";s.d(t,"d",function(){return n}),s.d(t,"b",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"e",function(){return l}),s.d(t,"c",function(){return r});var a=s("t3Un");function n(e){return Object(a.a)({url:"/order/business/expressCompany/getExpressCompanyinfoTemplate?shopId="+e,method:"get"})}function o(e){return Object(a.a)({url:"/order/business/expressCompany/findByConditionPage",method:"post",data:e})}function i(e){return Object(a.a)({url:"/order/business/expressCompany/deleteExpressComPany",method:"post",data:e})}function l(e){return Object(a.a)({url:"/order/business/expressCompany/insertExpressCompanyInfo",method:"post",data:e})}function r(e){return Object(a.a)({url:"/order/business/expressCompany/findExpressCompanys?shopId="+e,method:"get"})}},QdzY:function(e,t,s){"use strict";var a=s("d7yZ");s.n(a).a},d7yZ:function(e,t,s){},gD7X:function(e,t,s){"use strict";s.r(t);var a=s("QbLZ"),n=s.n(a),o=s("L2JU"),i=s("8XqY"),l={data:function(){return{postList:[],getSelectLoading:!1,searchList:{pageNum:1,pageSize:5},list:[],listTotal:0,newExpShow:!1,addNewExpLoading:!1,newExpForm:{},dataLoading:!0}},created:function(){this.getData()},methods:{showAdd:function(){this.getSelect(),this.newExpShow=!0},getSelect:function(){var e=this;this.getSelectLoading=!0,Object(i.d)(this.shop.shopId).then(function(t){console.log("获取快递公司下拉框",t),e.postList=t.data,e.getSelectLoading=!1})},getData:function(){var e=this;this.dataLoading=!0,console.log("请求列表的数据",this.searchList),this.searchList.shopId=this.shop.shopId,Object(i.b)(this.searchList).then(function(t){console.log("获取数据列表",t),e.list=t.data.list,e.listTotal=t.data.total,e.dataLoading=!1})},reset:function(){this.searchList.expressName="",this.getData()},deleteItem:function(e){var t=this;console.log(e),this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.a)({id:e.id}).then(function(e){console.log("删除",e),200==e.code?(t.$message({type:"success",message:"删除成功!"}),t.getData(),t.getSelect()):t.$message.error(e.message)})}).catch(function(){})},addNewExp:function(){var e=this;console.log(this.newExpForm),0!=this.newExpForm.list.length?(this.addNewExpLoading=!0,this.newExpForm.shopId=this.shop.shopId,Object(i.e)(this.newExpForm).then(function(t){console.log("添加",t),200==t.code?(e.$message({type:"success",message:"新增成功!"}),e.getData(),e.getSelect(),e.newExpShow=!1,e.newExpForm.list=[],setTimeout(function(){e.addNewExpLoading=!1},1e3)):(e.addNewExpLoading=!1,e.$message.error(t.message))})):this.$message.error("请至少选择一家快递公司")},handleSizeChange:function(e){this.searchList.pageSize=e,this.getData(),console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.searchList.pageNum=e,this.getData(),console.log("当前页: "+e)}},computed:n()({},Object(o.c)(["user","shop"]))},r=(s("QdzY"),s("KHd+")),c=Object(r.a)(l,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pageContent"},[s("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[s("div",[s("i",{staticClass:"el-icon-search"}),e._v(" "),s("span",[e._v("筛选搜索")]),e._v(" "),s("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:e.getData}},[e._v("查询")]),e._v(" "),s("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:e.reset}},[e._v(" 重置")])],1),e._v(" "),s("div",{staticStyle:{"margin-top":"15px"}},[s("el-form",{attrs:{inline:!0,model:e.searchList,size:"small","label-width":"140px"}},[s("el-form-item",{attrs:{label:"物流名称："}},[s("el-input",{staticStyle:{width:"203px"},attrs:{clearable:"",placeholder:"物流名称"},model:{value:e.searchList.expressName,callback:function(t){e.$set(e.searchList,"expressName",t)},expression:"searchList.expressName"}})],1)],1)],1)]),e._v(" "),s("el-card",{staticClass:"operate-container",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[s("div",{staticClass:"flex-row-between",staticStyle:{width:"100%"}},[s("div",[s("i",{staticClass:"el-icon-tickets"}),e._v(" "),s("span",[e._v("数据列表")])]),e._v(" "),s("div",{staticStyle:{"padding-right":"20px"}},[s("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:e.showAdd}},[e._v("新增物流公司")])],1)])]),e._v(" "),s("div",[s("el-card",{staticClass:"filter-container",staticStyle:{"margin-top":"20px"},attrs:{shadow:"never"}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),s("el-table-column",{attrs:{label:"物流公司"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.expressName)+"\n          ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"物流公司编码"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.expressCode)+"\n          ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.deleteItem(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),s("div",{staticClass:"pageDown"},[s("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":e.searchList.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.listTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"新增物流基本信息",visible:e.newExpShow,width:"40%"},on:{"update:visible":function(t){e.newExpShow=t}}},[s("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.getSelectLoading,expression:"getSelectLoading"}],ref:"newExpForm",staticClass:"demo-ruleForm",attrs:{model:e.newExpForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"物流公司："}},[s("el-select",{staticStyle:{width:"70%"},attrs:{"value-key":"expressCode",multiple:"",placeholder:"请选择快递公司"},model:{value:e.newExpForm.list,callback:function(t){e.$set(e.newExpForm,"list",t)},expression:"newExpForm.list"}},e._l(e.postList,function(e,t){return s("el-option",{key:t,attrs:{label:e.expressName,value:e}})}))],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.newExpShow=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{loading:e.addNewExpLoading,type:"primary"},on:{click:e.addNewExp}},[e._v("确 定")])],1)],1)],1)},[],!1,null,"9a722540",null);c.options.__file="expressTemplate.vue";t.default=c.exports}}]);
//# sourceMappingURL=chunk-0483.37e404c6.js.map