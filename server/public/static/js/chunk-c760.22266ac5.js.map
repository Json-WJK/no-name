{"version":3,"sources":["webpack:///./src/api/customer/customerManageList.js","webpack:///./src/views/customer/customerManage/customerManage.vue?57c3","webpack:///./src/views/customer/customerManage/customerManage.vue?b53e","webpack:///src/views/customer/customerManage/customerManage.vue","webpack:///./src/views/customer/customerManage/customerManage.vue"],"names":["__webpack_require__","d","__webpack_exports__","getUserManagementList","getUserDetails","updateUserDetails","saveUserVipRecord","prohibitUserVip","_utils_request__WEBPACK_IMPORTED_MODULE_0__","data","request","url","method","customerManage_customerManagevue_type_script_lang_js_","block","firstOrderTime","lastOrderTime","list","searchList","pageSize","startOrderAmount","endOrderAmount","keyWord","sourceType","address","sex","total","totalPage","tag","pickerOptions","disabledDate","time","getTime","Date","now","shortcuts","text","onClick","picker","end","setTime","setHours","getHours","setMinutes","getMinutes","setSeconds","getSeconds","start","$emit","vipForm","vipShow","multipleSelection","created","this","shopId","shop","getData","methods","sendItem","e","id","createId","user","userId","sendAll","console","log","length","forEach","push","join","$message","error","send","_this","numberTime","unit","Object","customerManageList","then","res","code","message","type","undefined","stopItem","_this2","$confirm","confirmButtonText","cancelButtonText","catch","change","$forceUpdate","exportExcel","_this3","str","form","startOrderTotal","endOrderTotal","startFirstOrderTime","endFirstOrderTime","startLastOrderTime","endLastOrderTime","sort","sortType","window","open","tableSortChange","column","sortable","order","itemInfo","$router","path","query","handleSelectionChange","val","reset","isVip","vipStatus","_this4","proving","Math","floor","towMice","toFixed","handleSizeChange","handleCurrentChange","pageNum","computed","extends_default","vuex_esm","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticStyle","margin","staticClass","margin-top","attrs","shadow","height","_v","float","margin-right","margin-left","size","on","click","inline","label-width","label","width","clearable","placeholder","input","model","value","callback","$$v","$set","expression","controls","step-strictly","format","value-format","picker-options","range-separator","start-placeholder","end-placeholder","min","ref","tooltip-effect","fit","header-cell-style","font-size","selection-change","sort-change","scopedSlots","_u","key","fn","scope","_s","row","nickName","_e","cellPhone","prop","userName","data-type","effect","content","placement","firstTime","fixed","$event","padding-top","page-sizes","page-size","layout","size-change","current-change","title","visible","update:visible","slot","options","__file"],"mappings":"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","file":"static/js/chunk-c760.22266ac5.js","sourcesContent":["import request from '@/utils/request'\r\n//查询客户列表\r\nexport function getUserManagementList(data) {\r\n  return request({\r\n    url: `/user/business/userMember/getUserManagementList`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n//客户详情\r\nexport function getUserDetails(data) {\r\n  return request({\r\n    url: `/user/business/userMember/getUserDetails`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n//修改备注和客户信息\r\nexport function updateUserDetails(data) {\r\n  return request({\r\n    url: `/user/business/userMember/updateUserDetails`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 送会员\r\nexport function saveUserVipRecord(data) {\r\n  return request({\r\n    url: `/user/business/userMember/saveUserVipRecord`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 停用\r\nexport function prohibitUserVip(data) {\r\n  return request({\r\n    url: `/user/business/userMember/prohibitUserVip?id=${data}`,\r\n    method: 'post',\r\n  })\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"20px\"}},[_c('el-card',{staticClass:\"filter-container\",staticStyle:{\"margin-top\":\"20px\"},attrs:{\"shadow\":\"never\"}},[_c('div',{staticStyle:{\"height\":\"45px\"}},[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" \"),_c('span',[_vm._v(\"筛选搜索\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\",\"margin-left\":\"0\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.getData}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"size\":\"small\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1),_vm._v(\" \"),_c('div',[_c('el-form',{attrs:{\"inline\":true,\"size\":\"small\",\"label-width\":\"140px\"}},[_c('el-form-item',{staticStyle:{\"margin-right\":\"0\"},attrs:{\"label\":\"关键词：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"手机号 / 微信昵称 / 姓名\"},on:{\"input\":_vm.change},model:{value:(_vm.searchList.keyWord),callback:function ($$v) {_vm.$set(_vm.searchList, \"keyWord\", $$v)},expression:\"searchList.keyWord\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"累计消费订单数：\"}},[_c('el-input-number',{staticStyle:{\"width\":\"100px\"},attrs:{\"controls\":false,\"step-strictly\":\"\"},on:{\"input\":_vm.change},model:{value:(_vm.searchList.startOrderTotal),callback:function ($$v) {_vm.$set(_vm.searchList, \"startOrderTotal\", $$v)},expression:\"searchList.startOrderTotal\"}}),_vm._v(\"  - \\n          \"),_c('el-input-number',{staticStyle:{\"width\":\"100px\"},attrs:{\"controls\":false,\"step-strictly\":\"\"},on:{\"input\":_vm.change},model:{value:(_vm.searchList.endOrderTotal),callback:function ($$v) {_vm.$set(_vm.searchList, \"endOrderTotal\", $$v)},expression:\"searchList.endOrderTotal\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin-right\":\"0\"},attrs:{\"label\":\"成为客户时间：\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetimerange\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"picker-options\":_vm.pickerOptions,\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.firstOrderTime),callback:function ($$v) {_vm.firstOrderTime=$$v},expression:\"firstOrderTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin-right\":\"14px\"},attrs:{\"label\":\"来源：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择一个来源\"},model:{value:(_vm.searchList.sourceType),callback:function ($$v) {_vm.$set(_vm.searchList, \"sourceType\", $$v)},expression:\"searchList.sourceType\"}},[_c('el-option',{attrs:{\"label\":\"H5微商城\",\"value\":\"0\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"小程序\",\"value\":\"1\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"累计消费金额：\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"number\",\"min\":\"0\"},on:{\"change\":_vm.towMice,\"input\":_vm.change},model:{value:(_vm.searchList.startOrderAmount),callback:function ($$v) {_vm.$set(_vm.searchList, \"startOrderAmount\", $$v)},expression:\"searchList.startOrderAmount\"}}),_vm._v(\"   - \\n          \"),_c('el-input',{staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"number\",\"min\":\"0\"},on:{\"change\":_vm.towMice,\"input\":_vm.change},model:{value:(_vm.searchList.endOrderAmount),callback:function ($$v) {_vm.$set(_vm.searchList, \"endOrderAmount\", $$v)},expression:\"searchList.endOrderAmount\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin-right\":\"0\"},attrs:{\"label\":\"最后消费时间：\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetimerange\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"picker-options\":_vm.pickerOptions,\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.lastOrderTime),callback:function ($$v) {_vm.lastOrderTime=$$v},expression:\"lastOrderTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin-right\":\"0\"},attrs:{\"label\":\"所在地区：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"clearable\":\"\"},on:{\"input\":_vm.change},model:{value:(_vm.searchList.address),callback:function ($$v) {_vm.$set(_vm.searchList, \"address\", $$v)},expression:\"searchList.address\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"性别：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.searchList.sex),callback:function ($$v) {_vm.$set(_vm.searchList, \"sex\", $$v)},expression:\"searchList.sex\"}},[_c('el-option',{attrs:{\"label\":\"男\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"女\",\"value\":2}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"客户身份：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.searchList.isVip),callback:function ($$v) {_vm.$set(_vm.searchList, \"isVip\", $$v)},expression:\"searchList.isVip\"}},[_c('el-option',{attrs:{\"label\":\"普通客户\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"会员\",\"value\":2}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"会员状态：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.searchList.vipStatus),callback:function ($$v) {_vm.$set(_vm.searchList, \"vipStatus\", $$v)},expression:\"searchList.vipStatus\"}},[_c('el-option',{attrs:{\"label\":\"使用中\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"已过期\",\"value\":2}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"已停用\",\"value\":3}})],1)],1)],1)],1)]),_vm._v(\" \"),_c('el-card',{staticClass:\"operate-container\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"shadow\":\"never\"}},[_c('div',{staticClass:\"flex-row-between\",staticStyle:{\"width\":\"100%\"}},[_c('div',[_c('i',{staticClass:\"el-icon-tickets\"}),_vm._v(\" \"),_c('span',[_vm._v(\"数据列表\")])]),_vm._v(\" \"),_c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.exportExcel}},[_vm._v(\"导出Excel\")])],1)])]),_vm._v(\" \"),_c('el-card',{staticClass:\"filter-container\",staticStyle:{\"margin-top\":\"20px\"},attrs:{\"shadow\":\"never\"}},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"tooltip-effect\":\"dark\",\"fit\":\"\",\"header-cell-style\":{'font-size':'14px'}},on:{\"selection-change\":_vm.handleSelectionChange,\"sort-change\":_vm.tableSortChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"45\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"微信昵称\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.nickName ? scope.row.nickName : '-'))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"来源\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.sourceType == 0)?_c('div',[_vm._v(\"H5\")]):_vm._e(),_vm._v(\" \"),(scope.row.sourceType == 1)?_c('div',[_vm._v(\"小程序\")]):_vm._e(),_vm._v(\" \"),(scope.row.sourceType == 2)?_c('div',[_vm._v(\"小程序&H5\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"手机号\",\"width\":\"130\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.cellPhone ? scope.row.cellPhone : '-'))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"客户身份\",\"width\":\"130\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isVip == 1)?_c('div',[_vm._v(\"普通客户\")]):_vm._e(),_vm._v(\" \"),(scope.row.isVip == 2)?_c('div',[_vm._v(\"会员客户\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"会员状态\",\"width\":\"200\",\"prop\":\"vipStatusName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"姓名\",\"width\":\"130\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.userName ? scope.row.userName : '-'))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"orderTotal\",\"label\":\"累计消费订单数\",\"width\":\"165\",\"sortable\":\"orderTotal\"},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_vm._v(\"\\n          累计消费订单数\\n          \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"data-type\":scope.row,\"effect\":\"dark\",\"content\":\"累计消费订单数不包含全部退款的订单\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"orderAmount\",\"label\":\"累计消费金额\",\"width\":\"165\",\"sortable\":\"orderAmount\"},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_vm._v(\"\\n          累计消费金额\\n          \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"data-type\":scope.row,\"effect\":\"dark\",\"width\":\"165\",\"content\":\"累计消费金额不包含退款金额\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"最后消费时间\",\"sortable\":\"firstOrderTime\",\"width\":\"190\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.firstTime ? scope.row.firstTime : '-'))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.itemInfo(scope.row.id)}}},[_vm._v(\"查看\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.sendItem(scope.row)}}},[_vm._v(\"送会员\")]),_vm._v(\" \"),(scope.row.isVip == 2)?_c('el-button',{staticClass:\"dangerFont\",attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.stopItem(scope.row)}}},[_vm._v(\"停用\")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"flex-row-between\",staticStyle:{\"padding-top\":\"20px\"}},[_c('div',{staticClass:\"flex-row-start\"},[_c('el-button',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.sendAll}},[_vm._v(\"批量送会员\")])],1),_vm._v(\" \"),_c('div',[_c('el-pagination',{attrs:{\"page-sizes\":[5,10,15,20],\"page-size\":_vm.searchList.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"送会员\",\"visible\":_vm.vipShow,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.vipShow=$event}}},[_c('div',{staticClass:\"flex-row-center\"},[_c('div',{staticStyle:{\"margin-right\":\"4px\"}},[_vm._v(\"赠送\")]),_vm._v(\" \"),_c('el-input-number',{staticStyle:{\"margin-right\":\"4px\"},attrs:{\"min\":1,\"step-strictly\":\"\",\"controls\":false},model:{value:(_vm.vipForm.numberTime),callback:function ($$v) {_vm.$set(_vm.vipForm, \"numberTime\", $$v)},expression:\"vipForm.numberTime\"}}),_vm._v(\" \"),_c('el-select',{staticStyle:{\"margin-right\":\"4px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.vipForm.unit),callback:function ($$v) {_vm.$set(_vm.vipForm, \"unit\", $$v)},expression:\"vipForm.unit\"}},[_c('el-option',{attrs:{\"label\":\"天\",\"value\":\"D\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"月\",\"value\":\"M\"}})],1),_vm._v(\" \"),_c('div',[_vm._v(\"会员？\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"mt10 tac dangerFont\"},[_vm._v(\"赠送后将无法收回，请谨慎操作！\")]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.vipShow = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.send}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/happypack/loader.js?id=js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customerManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/happypack/loader.js?id=js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customerManage.vue?vue&type=script&lang=js&\"","<template>\r\n  <div style=\"margin:20px;\" >\r\n    <!-- 顶部筛选栏 -->\r\n    <el-card style=\"margin-top:20px;\" class=\"filter-container\" shadow=\"never\">\r\n      <div style=\"height:45px\">\r\n        <i class=\"el-icon-search\"></i>\r\n        <span>筛选搜索</span>\r\n        <el-button style=\"float: right;margin-right: 15px;margin-left:0\" @click=\"getData\" type=\"primary\" size=\"small\">查询</el-button>\r\n        <el-button style=\"float: right;margin-right: 15px\" @click=\"reset\" size=\"small\">重置</el-button>\r\n      </div>\r\n      <div>\r\n        <el-form :inline=\"true\" size=\"small\" label-width=\"140px\">\r\n          <el-form-item label=\"关键词：\" style=\"margin-right:0\">\r\n            <el-input v-model=\"searchList.keyWord\" style=\"width: 203px\" clearable placeholder=\"手机号 / 微信昵称 / 姓名\" @input=\"change\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"累计消费订单数：\">\r\n            <el-input-number style=\"width:100px\" v-model=\"searchList.startOrderTotal\" :controls=\"false\" step-strictly @input=\"change\"></el-input-number> &nbsp;-&nbsp;\r\n            <el-input-number style=\"width:100px\" v-model=\"searchList.endOrderTotal\" :controls=\"false\" step-strictly @input=\"change\"></el-input-number>\r\n          </el-form-item>\r\n          <el-form-item label=\"成为客户时间：\" style=\"margin-right:0\">\r\n            <el-date-picker v-model=\"firstOrderTime\"\r\n              type=\"datetimerange\"\r\n              format=\"yyyy-MM-dd\"\r\n              value-format=\"yyyy-MM-dd\"\r\n              :picker-options=\"pickerOptions\"\r\n              range-separator=\"至\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n          <el-form-item label=\"来源：\" style=\"margin-right: 14px;\">\r\n            <el-select v-model=\"searchList.sourceType\" placeholder=\"请选择一个来源\">\r\n              <el-option label=\"H5微商城\" value=\"0\"></el-option>\r\n              <el-option label=\"小程序\" value=\"1\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"累计消费金额：\">\r\n            <el-input type=\"number\" min=\"0\" v-model=\"searchList.startOrderAmount\" style=\"width:100px\" @change=\"towMice\" @input=\"change\"></el-input>  &nbsp;-&nbsp;\r\n            <el-input type=\"number\" min=\"0\" v-model=\"searchList.endOrderAmount\" style=\"width:100px\" @change=\"towMice\" @input=\"change\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"最后消费时间：\" style=\"margin-right:0\">\r\n            <el-date-picker v-model=\"lastOrderTime\"\r\n              type=\"datetimerange\"\r\n              format=\"yyyy-MM-dd\"\r\n              value-format=\"yyyy-MM-dd\"\r\n              :picker-options=\"pickerOptions\"\r\n              range-separator=\"至\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n          <el-form-item label=\"所在地区：\" style=\"margin-right:0\">\r\n            <el-input v-model=\"searchList.address\" style=\"width: 203px\" clearable @input=\"change\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"性别：\">\r\n            <el-select v-model=\"searchList.sex\" placeholder=\"请选择\">\r\n              <el-option label=\"男\" :value=\"1\"></el-option>\r\n              <el-option label=\"女\" :value=\"2\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"客户身份：\">\r\n            <el-select v-model=\"searchList.isVip\" placeholder=\"请选择\">\r\n              <el-option label=\"普通客户\" :value=\"1\"></el-option>\r\n              <el-option label=\"会员\" :value=\"2\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"会员状态：\">\r\n            <el-select v-model=\"searchList.vipStatus\" placeholder=\"请选择\">\r\n              <el-option label=\"使用中\" :value=\"1\"></el-option>\r\n              <el-option label=\"已过期\" :value=\"2\"></el-option>\r\n              <el-option label=\"已停用\" :value=\"3\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </el-card>\r\n    <!-- 数据列表 - head-->\r\n    <el-card class=\"operate-container\" style=\"margin-top:10px\" shadow=\"never\">\r\n      <div class=\"flex-row-between\" style=\"width:100%;\">\r\n        <div>\r\n          <i class=\"el-icon-tickets\"></i>\r\n          <span>数据列表</span>\r\n        </div>\r\n        <div>\r\n          <el-button type=\"primary\" size=\"small\" @click=\"exportExcel\">导出Excel</el-button>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n    <!-- 筛选结果 -->\r\n    <el-card style=\"margin-top:20px;\" class=\"filter-container\" shadow=\"never\">\r\n      <el-table ref=\"multipleTable\" :data=\"list\" tooltip-effect=\"dark\" fit style=\"width: 100%;\" :header-cell-style=\"{'font-size':'14px'}\" @selection-change=\"handleSelectionChange\" @sort-change='tableSortChange'>\r\n        <el-table-column type=\"selection\" width=\"45\"></el-table-column>\r\n        <el-table-column label=\"微信昵称\" width=\"200\">\r\n          <template slot-scope=\"scope\">{{scope.row.nickName ? scope.row.nickName : '-'}}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"来源\" width=\"90\">\r\n          <template slot-scope=\"scope\">\r\n            <div v-if=\"scope.row.sourceType == 0\">H5</div>\r\n            <div v-if=\"scope.row.sourceType == 1\">小程序</div>\r\n            <div v-if=\"scope.row.sourceType == 2\">小程序&H5</div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"手机号\" width=\"130\">\r\n          <template slot-scope=\"scope\">{{scope.row.cellPhone ? scope.row.cellPhone : '-'}}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"客户身份\" width=\"130\">\r\n          <template slot-scope=\"scope\">\r\n            <div v-if=\"scope.row.isVip == 1\">普通客户</div>\r\n            <div v-if=\"scope.row.isVip == 2\">会员客户</div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"会员状态\" width=\"200\" prop=\"vipStatusName\"></el-table-column>\r\n        <el-table-column label=\"姓名\" width=\"130\">\r\n          <template slot-scope=\"scope\">{{scope.row.userName ? scope.row.userName : '-'}}</template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"orderTotal\" label=\"累计消费订单数\" width=\"165\" sortable=\"orderTotal\">\r\n          <template slot=\"header\" slot-scope=\"scope\">\r\n            累计消费订单数\r\n            <el-tooltip :data-type=\"scope.row\" class=\"item\" effect=\"dark\" content=\"累计消费订单数不包含全部退款的订单\" placement=\"top\">\r\n              <i class=\"el-icon-question\" ></i>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"orderAmount\" label=\"累计消费金额\" width=\"165\" sortable=\"orderAmount\">\r\n          <template slot=\"header\" slot-scope=\"scope\">\r\n            累计消费金额\r\n            <el-tooltip :data-type=\"scope.row\" class=\"item\" effect=\"dark\" width=\"165\" content=\"累计消费金额不包含退款金额\" placement=\"top\">\r\n              <i class=\"el-icon-question\"></i>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"最后消费时间\" sortable=\"firstOrderTime\" width=\"190\">\r\n          <template slot-scope=\"scope\">{{scope.row.firstTime ? scope.row.firstTime : '-'}}</template>\r\n        </el-table-column>\r\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"160\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button @click=\"itemInfo(scope.row.id)\" type=\"text\" size=\"small\">查看</el-button>\r\n            <el-button @click=\"sendItem(scope.row)\" type=\"text\" size=\"small\">送会员</el-button>\r\n            <el-button v-if=\"scope.row.isVip == 2\" @click=\"stopItem(scope.row)\" class=\"dangerFont\" type=\"text\" size=\"small\">停用</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"flex-row-between\" style=\"padding-top:20px;\">\r\n        <div class=\"flex-row-start\">\r\n          <el-button style=\"margin-right:10px;\" @click=\"sendAll\">批量送会员</el-button>\r\n        </div>\r\n        <!-- 分页 -->\r\n        <div>\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :page-sizes=\"[5,10,15,20]\"\r\n            :page-size=\"searchList.pageSize\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"total\">\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n    <!-- 送会员弹框 -->\r\n    <el-dialog title=\"送会员\" :visible.sync=\"vipShow\" width=\"50%\">\r\n      <div class=\"flex-row-center\">\r\n        <div style=\"margin-right:4px;\">赠送</div>\r\n        <el-input-number style=\"margin-right:4px;\" v-model=\"vipForm.numberTime\" :min=\"1\" step-strictly :controls=\"false\"></el-input-number>\r\n        <el-select style=\"margin-right:4px;\" v-model=\"vipForm.unit\" placeholder=\"请选择\">\r\n          <el-option label=\"天\" value=\"D\"> </el-option>\r\n          <el-option label=\"月\" value=\"M\"> </el-option>\r\n        </el-select>\r\n        <div>会员？</div>\r\n      </div>\r\n      <div class=\"mt10 tac dangerFont\">赠送后将无法收回，请谨慎操作！</div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"vipShow = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"send\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { \r\n  getUserManagementList,\r\n  prohibitUserVip,\r\n  saveUserVipRecord\r\n} from '@/api/customer/customerManageList'\r\nexport default {\r\n  data(){\r\n    return{\r\n      block:false,\r\n      firstOrderTime:[],\r\n      lastOrderTime:[],\r\n      list:[],\r\n      searchList:{\r\n        pageSize: 5,\r\n        startOrderAmount: '',\r\n        endOrderAmount: '',\r\n        keyWord: '',\r\n        sourceType: '',\r\n        address: '',\r\n        sex: ''\r\n      },\r\n      total:1,\r\n      totalPage:1,\r\n      tag:'',\r\n      pickerOptions: {\r\n        disabledDate(time) {\r\n          return time.getTime() > Date.now()\r\n        },\r\n        shortcuts: [\r\n          {\r\n            text: '今天',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              end.setTime(end.getTime());\r\n              end.setHours(end.getHours());\r\n              end.setMinutes(end.getMinutes());\r\n              end.setSeconds(end.getSeconds());\r\n              const start = new Date();\r\n              start.setTime(start.getTime());\r\n              start.setHours(0); start.setMinutes(0); start.setSeconds(0);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '昨天',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              end.setTime(end.getTime()- 3600 * 1000 * 24);\r\n              end.setHours(23);\r\n              end.setMinutes(59);\r\n              end.setSeconds(59);\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24);\r\n              start.setHours(0); start.setMinutes(0); start.setSeconds(0);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          },\r\n          {\r\n            text: '最近一周',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }, {\r\n            text: '最近一个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          },\r\n        ]\r\n      },\r\n      vipForm:{},\r\n      vipShow:false,\r\n      multipleSelection:[]\r\n    }\r\n  },\r\n  created(){\r\n    this.searchList.shopId = this.shop.shopId\r\n    this.getData()\r\n  },\r\n  methods: {\r\n    // 送会员\r\n    sendItem(e){\r\n      this.vipForm.id = e.id\r\n      this.vipForm.createId = this.user.userId\r\n      this.vipShow = true\r\n    },\r\n    // 批量送会员\r\n    sendAll(){\r\n      console.log('this.multipleSelection',this.multipleSelection)\r\n      if(this.multipleSelection.length == 0){\r\n        this.$message.error('请选择后再试');\r\n        return;\r\n      }\r\n      let id = []\r\n      this.multipleSelection.forEach(e=> id.push(e.id))\r\n      this.vipForm.id = id.join(',')\r\n      this.vipForm.createId = this.user.userId\r\n      this.vipShow = true\r\n    },\r\n    // 送会员的接口请求\r\n    send(){\r\n      console.log('this.vipForm',this.vipForm)\r\n      if(!this.vipForm.numberTime){\r\n        this.$message.error('请输入要赠送的天或月数');\r\n        return;\r\n      }\r\n      if(!this.vipForm.unit){\r\n        this.$message.error('请选择要赠送天或月');\r\n        return;\r\n      }\r\n      saveUserVipRecord(this.vipForm).then(res=>{\r\n        console.log('赠送会员操作',res)\r\n        if(res.code == 200){\r\n          this.$message({\r\n            message: '赠送成功',\r\n            type: 'success'\r\n          });\r\n          this.vipForm.numberTime = undefined;\r\n          this.vipForm.unit = '';\r\n          this.vipShow = false;\r\n          this.getData()\r\n        }else{\r\n          this.$message.error(res.message);\r\n        }\r\n      })\r\n    },\r\n    // 停用会员\r\n    stopItem(e){\r\n      this.$confirm('一旦操作将无法再次启用，请谨慎操作！', '停用后此客户将不再享有会员相关权益', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        prohibitUserVip(e.id).then(res=>{\r\n          console.log('停用会员',res)\r\n          if(res.code == 200){\r\n            this.$message({\r\n              type: 'success',\r\n              message: '停用成功!'\r\n            });\r\n            this.getData()\r\n          }\r\n        })\r\n      }).catch(() => {});\r\n    },\r\n    change (e) {\r\n      this.$forceUpdate()\r\n    },\r\n    // 导出\r\n    exportExcel(){\r\n      this.$confirm('确认导出excel?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        let str = `shopId=${this.form.shopId}&keyWord=${this.form.keyWord || ''}&startOrderTotal=${this.form.startOrderTotal || ''}&endOrderTotal=${this.form.endOrderTotal || ''}&startFirstOrderTime=${this.form.startFirstOrderTime || ''}&endFirstOrderTime=${this.form.endFirstOrderTime || ''}&sourceType=${this.form.sourceType || ''}&startOrderAmount=${this.form.startOrderAmount || ''}&endOrderAmount=${this.form.endOrderAmount || ''}&startLastOrderTime=${this.form.startLastOrderTime || ''}&endLastOrderTime=${this.form.endLastOrderTime || ''}&sex=${this.form.sex || ''}&address=${this.form.address || ''}&sort=${this.form.sort || ''}&sortType=${this.form.sortType || ''}`\r\n        window.open(\r\n          `/user/business/userMember/exportUserManagementList?${str}`\r\n        )\r\n      }).catch(() => {});\r\n    },\r\n    // 表格数据进行排序\r\n    tableSortChange (column) {\r\n      console.log(column)\r\n      this.searchList.sortType = column.column.sortable\r\n      let sort = '';\r\n      if(column.column.order == \"ascending\") sort = 1\r\n      if(column.column.order == \"descending\") sort = 2\r\n      this.searchList.sort = sort\r\n      this.getData()\r\n    },\r\n    //查看\r\n    itemInfo(id) {\r\n      this.$router.push({\r\n        path:'/customer/customerManage/customerDetails',\r\n        query:{\r\n          id\r\n        }\r\n      })\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    // 搜索栏 - 重置\r\n    reset(){\r\n      this.searchList.keyWord = ''\r\n      this.searchList.endOrderTotal = ''\r\n      this.searchList.startOrderTotal = ''\r\n      this.firstOrderTime = [];\r\n      this.searchList.sourceType = ''\r\n      this.searchList.startOrderAmount = ''\r\n      this.searchList.endOrderAmount = ''\r\n      this.lastOrderTime = []\r\n      this.searchList.sex = ''\r\n      this.searchList.address = ''\r\n      this.searchList.isVip = ''\r\n      this.searchList.vipStatus = ''\r\n      this.getData()\r\n    },\r\n    // 列表 - 获取数据\r\n    getData(){\r\n      // 成为客户时间起始\r\n      this.searchList.startFirstOrderTime = this.firstOrderTime[0] || ''\r\n      // 成为客户时间结束\r\n      this.searchList.endFirstOrderTime = this.firstOrderTime[1] || ''\r\n      // \r\n      this.searchList.startLastOrderTime = this.lastOrderTime[0] || ''\r\n      this.searchList.endLastOrderTime = this.lastOrderTime[1] || ''\r\n      console.log('请求的数据',this.searchList)\r\n      getUserManagementList(this.searchList).then(res=>{\r\n        console.log('数据列表',res)\r\n        if(res.code == 200){\r\n          // console.log(data);\r\n          this.list = res.data.list\r\n          this.total = res.data.total\r\n        }\r\n      })\r\n    },\r\n    //去小数\r\n    proving() {\r\n      this.searchList.startOrderTotal = Math.floor(this.searchList.startOrderTotal);\r\n      this.searchList.endOrderTotal = Math.floor(this.searchList.endOrderTotal);\r\n    },\r\n    //保留两位小数\r\n    towMice() {\r\n      this.searchList.startOrderAmount = (this.searchList.startOrderAmount/1).toFixed(2);\r\n      this.searchList.endOrderAmount = (this.searchList.endOrderAmount/1).toFixed(2);\r\n    },\r\n    // 分页\r\n    handleSizeChange(val) {\r\n      this.searchList.pageSize = val\r\n      this.getData();\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.searchList.pageNum = val\r\n      this.getData();\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'user',\r\n      'shop'\r\n    ])\r\n  },\r\n}\r\n</script>","import { render, staticRenderFns } from \"./customerManage.vue?vue&type=template&id=05635332&\"\nimport script from \"./customerManage.vue?vue&type=script&lang=js&\"\nexport * from \"./customerManage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"customerManage.vue\"\nexport default component.exports"],"sourceRoot":""}