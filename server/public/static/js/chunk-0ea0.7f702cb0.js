(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0ea0"],{"22QA":function(t,e,a){"use strict";a.r(e);var s=a("QbLZ"),o=a.n(s),n=a("L2JU"),l=a("iaGo"),i={props:["getPost"],watch:{getPost:function(t,e){t&&(console.log("请求了日"),this.getData())}},data:function(){return{searchList:{pageSize:5,pageNum:1},list:[],listTotal:0,multipleSelection:[]}},created:function(){this.searchList.shopId=this.shop.shopId,this.getData()},methods:{goToList:function(t){this.$router.push({path:"/assetsManage/capitalManage/detailList",query:{balanceDay:t.balanceDay,in:t.incomeAmount,out:t.expenditureAmount,dateType:"day"}})},exportAll:function(){if(0!=this.multipleSelection.length){var t=[];this.multipleSelection.forEach(function(e){t.push(e.balanceDay)});var e="shopId="+this.shop.shopId+"&dataStr="+t.join(",");window.open("/sys/shopAsset/exportShopAsset?"+e)}else this.$message.error("请选择数据后再试")},exportDetail:function(t){var e="shopId="+this.shop.shopId+"&dataStr="+t;window.open("/sys/shopAsset/exportShopAsset?"+e)},getData:function(){var t=this;Object(l.b)(this.searchList).then(function(e){console.log("日账单列表",e),200==e.code&&(t.list=e.data.list,t.listTotal=e.data.total)})},reset:function(){this.searchList.startDate="",this.searchList.assetType="",this.getData()},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.searchList.pageSize=t,this.getData()},handleCurrentChange:function(t){console.log("当前页: "+t),this.searchList.pageNum=t,this.getData()},change:function(){this.$forceUpdate()}},computed:o()({},Object(n.c)(["user","shop"]))},r=a("KHd+"),c=Object(r.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"operate-container mt10",attrs:{shadow:"never"}},[a("div",[a("i",{staticClass:"el-icon-search"}),t._v(" "),a("span",[t._v("筛选搜索")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.getData}},[t._v("查询")]),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:t.reset}},[t._v("重置")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.searchList,size:"small","label-width":"140px"}},[a("el-form-item",{attrs:{label:"时间："}},[a("el-date-picker",{attrs:{type:"month","value-format":"yyyy-MM",placeholder:"选择月"},model:{value:t.searchList.startDate,callback:function(e){t.$set(t.searchList,"startDate",e)},expression:"searchList.startDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"交易分类："}},[a("el-select",{attrs:{clearable:""},model:{value:t.searchList.assetType,callback:function(e){t.$set(t.searchList,"assetType",e)},expression:"searchList.assetType"}},[a("el-option",{attrs:{label:"店铺余额",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"储值资金",value:"1"}})],1)],1)],1)],1)]),t._v(" "),a("el-card",{staticClass:"mt10",attrs:{shadow:"hover"}},[a("p",{staticClass:"warningFont"},[t._v("对账单明细可以实时查询货款账户收支情况，最长可支持查询时间跨度为31天。对账单已入账时间为准，如需查询以下单时间维度的汇总，请在账单明细中按下单时间筛选；因为有延迟，当日账单请在次日查询，以保证数据的准确性。")])]),t._v(" "),a("el-card",{staticClass:"operate-container mt10",attrs:{shadow:"never"}},[a("div",{staticClass:"flex-row-between",staticStyle:{width:"100%"}},[a("div",[a("i",{staticClass:"el-icon-tickets"}),t._v(" "),a("span",[t._v("数据列表")])])])]),t._v(" "),a("el-card",{staticClass:"mt10 filter-container",attrs:{shadow:"never"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"balanceDay",label:"入账日期",width:"240"}}),t._v(" "),a("el-table-column",{attrs:{label:"账户"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{attrs:{"data-id":e.row.id}},[t._v("店铺余额")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"incomeAmount",label:"收入（￥）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"incomeCount",label:"收入笔数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"expenditureAmount",label:"支出（￥）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"expenditureCount",label:"支出笔数"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.$router.push({path:"/assetsManage/capitalManage/dayDetail",query:{id:e.row.id}})}}},[t._v("日账务汇总")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.exportDetail(e.row.balanceDay)}}},[t._v("下载明细")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.goToList(e.row)}}},[t._v("查看明细")])]}}])})],1),t._v(" "),a("div",{staticClass:"flex-row-between",staticStyle:{"padding-top":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.exportAll}},[t._v("合并下载账单明细")]),t._v(" "),a("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":t.searchList.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.listTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)},[],!1,null,null,null);c.options.__file="day.vue";e.default=c.exports},iaGo:function(t,e,a){"use strict";a.d(e,"b",function(){return o}),a.d(e,"c",function(){return n}),a.d(e,"d",function(){return l}),a.d(e,"e",function(){return i}),a.d(e,"f",function(){return r}),a.d(e,"a",function(){return c});var s=a("t3Un");function o(t){return Object(s.a)({url:"/sys/shopAssetDay/getShopAssetDayPage",method:"post",data:t})}function n(t){return Object(s.a)({url:"/sys/shopAssetDay/getShopAssetDayTotal?id="+t,method:"get"})}function l(t){return Object(s.a)({url:"/sys/shopAssetMonth/getShopAssetMonthPage",method:"post",data:t})}function i(t){return Object(s.a)({url:"/sys/shopAssetMonth/getShopAssetMonthTotal?id="+t,method:"get"})}function r(t){return Object(s.a)({url:"/sys/shopAsset/getShopTradBill",method:"post",data:t})}function c(t){return Object(s.a)({url:"/sys/shopAssetMonth/getMonthDay?monthDate="+t,method:"get"})}}}]);
//# sourceMappingURL=chunk-0ea0.7f702cb0.js.map