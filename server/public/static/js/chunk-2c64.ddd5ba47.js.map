{"version":3,"sources":["webpack:///./src/api/marketManage/discount.js","webpack:///./src/views/marketManage/discount/discountInfo.vue?ff27","webpack:///./src/views/marketManage/discount/discountInfo.vue?700d","webpack:///src/views/marketManage/discount/discountInfo.vue","webpack:///./src/views/marketManage/discount/discountInfo.vue","webpack:///./src/views/marketManage/discount/discountInfo.vue?c48b","webpack:///./src/views/marketManage/discount/discountInfo.vue?8189"],"names":["__webpack_require__","d","__webpack_exports__","getShopActivityList","calculatedActivityDiscount","addShopActivity","updateShopActivity","deleteShopActivity","invalidShopActivity","getShopActivityById","getActivityProductListById","getShopActivityListById","findActiveAndProduct","_utils_request__WEBPACK_IMPORTED_MODULE_0__","data","request","url","method","activeId","ids","discount_discountInfovue_type_script_lang_js_","area","areaItem","AreaName","type","form","time","calculateType","commodityList","created","this","getData","methods","_this","Object","discount","id","$route","query","then","res","console","log","code","beginActivityTime","endActivityTime","$message","error","message","back","$router","push","path","itemBlur","e","row","obj","productList","productId","getPrice","$index","subForm","_this2","name","length","beginTime","endTime","undefined","limitNumber","errArr","filter","subLoading","shopId","shop","setTimeout","replace","getRowClassName","_ref","rowIndex","skuType","computed","extends_default","vuex_esm","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","margin-bottom","attrs","shadow","_v","ref","model","label-width","label","_s","disabled","value-format","range-separator","start-placeholder","end-placeholder","value","callback","$$v","$set","expression","wxMomentsTitle","wxFriendsTitle","wxFriendsContent","width","padding-right","_l","item","index","key","effect","content","placement","tooltip-effect","row-class-name","scopedSlots","_u","fn","props","list","border","prop","scope","finallyPrice","price","data-scope","productFinallyTotal","costPrice","minPrice","margin-top","on","click","options","__file","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_9_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_9_2_node_modules_less_loader_dist_cjs_js_ref_9_3_node_modules_vue_loader_lib_index_js_vue_loader_options_discountInfo_vue_vue_type_style_index_0_id_1bc11930_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","n","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_7_2_node_modules_vue_loader_lib_index_js_vue_loader_options_discountInfo_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"static/js/chunk-2c64.ddd5ba47.js","sourcesContent":["import request from '@/utils/request'\r\n// 发布商品\r\nexport function getShopActivityList(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/getShopActivityList`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 计算价格\r\nexport function calculatedActivityDiscount(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/calculatedActivityDiscount`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 新增活动\r\nexport function addShopActivity(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/addShopActivity`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 修改限时折扣活动\r\nexport function updateShopActivity(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/updateShopActivity`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 删除活动\r\nexport function deleteShopActivity(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/deleteShopActivity`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 活动失效\r\nexport function invalidShopActivity(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/invalidShopActivity`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 活动详情\r\nexport function getShopActivityById(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/getShopActivityById`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 活动详情\r\nexport function getActivityProductListById(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/getActivityProductListById`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 组件 - 弹出框列表\r\nexport function getShopActivityListById(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/getShopActivityListById`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 页面装修回显\r\nexport function findActiveAndProduct(data) {\r\n  return request({\r\n    url: `/product/mall/active/findActiveAndProduct?activeId=${data.activeId}&productIds=${data.ids}`,\r\n    method: 'get',\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pageContent\"},[_c('el-card',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"shadow\":\"always\"}},[_c('div',{staticClass:\"pageHead\"},[_vm._v(\"活动基本信息\")]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"活动名称：\"}},[_c('div',[_vm._v(_vm._s(_vm.form.name))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动时间：\"}},[_c('el-date-picker',{attrs:{\"disabled\":\"\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.form.time),callback:function ($$v) {_vm.$set(_vm.form, \"time\", $$v)},expression:\"form.time\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"重要提醒：\"}},[_c('div',[_vm._v(\"限时折扣活动与砍价活动互斥\")])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动限购：\"}},[_c('div',[_vm._v(_vm._s(_vm.form.limitNumber))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分享朋友圈标题：\"}},[_c('div',[_vm._v(_vm._s(_vm.form.wxMomentsTitle ? _vm.form.wxMomentsTitle : '-'))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分享好友标题：\"}},[_c('div',[_vm._v(_vm._s(_vm.form.wxFriendsTitle ? _vm.form.wxFriendsTitle : '-'))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分享好友文案：\"}},[_c('div',[_vm._v(_vm._s(_vm.form.wxFriendsContent ? _vm.form.wxFriendsContent : '-'))])])],1)],1),_vm._v(\" \"),_c('el-card',{attrs:{\"shadow\":\"always\"}},[_c('div',{staticClass:\"flex-row-end\",staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"20px\"}},[_c('div',{staticClass:\"flex-row-start\",staticStyle:{\"padding-right\":\"20px\"}},[_c('el-radio-group',{model:{value:(_vm.area),callback:function ($$v) {_vm.area=$$v},expression:\"area\"}},_vm._l((_vm.areaItem),function(item,index){return _c('el-radio',{key:index,attrs:{\"disabled\":\"\",\"label\":item.AreaName}},[_vm._v(_vm._s(item.AreaName))])})),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item ml\",attrs:{\"effect\":\"dark\",\"content\":\"抹零是指付钱时不计整数以外的尾数；抹零对折后价低于1.00的商品无效；\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])],1)]),_vm._v(\" \"),_c('div',[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.form.productList,\"tooltip-effect\":\"dark\",\"row-class-name\":_vm.getRowClassName}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":props.row.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"skuName\",\"label\":\"规格\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"costPrice\",\"label\":\"成本价（元）\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"商品原价（元）\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"finallyPrice\",\"label\":\"折后价格（元）\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.finallyPrice == 0 ? scope.row.price : scope.row.finallyPrice))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"skuStock\",\"label\":\"库存\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"prop\":\"productName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品库存\",\"prop\":\"productStock\",\"width\":\"140\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\"},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_c('span',{attrs:{\"data-scope\":scope}},[_vm._v(\"商品已售\")]),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"商品设置初始已抢数量，促进活动气氛，推荐填写。\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question\"})])]}},{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.productFinallyTotal))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"成本价（元）\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.costPrice ? '￥'+scope.row.costPrice : '-'))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品售价（元）\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"￥\"+_vm._s(scope.row.minPrice))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品折扣\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.discount)+\"%\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"折后价格\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"￥\"+_vm._s(scope.row.finallyPrice))]}}])})],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"flex-row-center\",staticStyle:{\"margin-top\":\"20px\"}},[_c('el-button',{on:{\"click\":_vm.back}},[_vm._v(\"返 回\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/happypack/loader.js?id=js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./discountInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/happypack/loader.js?id=js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./discountInfo.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"pageContent\">\r\n    <el-card shadow=\"always\" style=\"margin-bottom:20px;\">\r\n      <div class=\"pageHead\">活动基本信息</div>\r\n      <el-form ref=\"form\" :model=\"form\" label-width=\"140px\">\r\n        <el-form-item label=\"活动名称：\">\r\n          <div>{{form.name}}</div>\r\n        </el-form-item>\r\n        <el-form-item label=\"活动时间：\">\r\n          <el-date-picker\r\n            disabled\r\n            v-model=\"form.time\"\r\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n            type=\"datetimerange\"\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"重要提醒：\">\r\n          <div>限时折扣活动与砍价活动互斥</div>\r\n        </el-form-item>\r\n        <el-form-item label=\"活动限购：\">\r\n          <div>{{form.limitNumber}}</div>\r\n        </el-form-item>\r\n        <el-form-item label=\"分享朋友圈标题：\">\r\n          <div>{{form.wxMomentsTitle ? form.wxMomentsTitle : '-'}}</div>\r\n        </el-form-item>\r\n        <el-form-item label=\"分享好友标题：\">\r\n          <div>{{form.wxFriendsTitle ? form.wxFriendsTitle : '-'}}</div>\r\n        </el-form-item>\r\n        <el-form-item label=\"分享好友文案：\">\r\n          <div>{{form.wxFriendsContent ? form.wxFriendsContent : '-'}}</div>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n    <el-card shadow=\"always\">\r\n      <div class=\"flex-row-end\" style=\"width:100%;margin-bottom:20px;\">\r\n        <div class=\"flex-row-start\" style=\"padding-right:20px;\">\r\n          <el-radio-group v-model=\"area\">                    \r\n            <el-radio disabled :label=\"item.AreaName\"  v-for=\"(item,index) in areaItem\" :key=\"index\">{{item.AreaName}}</el-radio>\r\n          </el-radio-group>\r\n          <el-tooltip class=\"item ml\" effect=\"dark\" content=\"抹零是指付钱时不计整数以外的尾数；抹零对折后价低于1.00的商品无效；\" placement=\"top\">\r\n            <i class=\"el-icon-question\"></i>\r\n          </el-tooltip>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <el-table \r\n          ref=\"multipleTable\" \r\n          :data=\"form.productList\" \r\n          tooltip-effect=\"dark\" \r\n          style=\"width: 100%\" \r\n          :row-class-name=\"getRowClassName\"\r\n        >\r\n          <el-table-column type=\"expand\">\r\n            <template slot-scope=\"props\">\r\n              <el-table :data=\"props.row.list\" border style=\"width: 100%\">\r\n                <el-table-column prop=\"skuName\" label=\"规格\"></el-table-column>\r\n                <el-table-column prop=\"costPrice\" label=\"成本价（元）\"></el-table-column>\r\n                <el-table-column prop=\"price\" label=\"商品原价（元）\"></el-table-column>\r\n                <el-table-column prop=\"finallyPrice\" label=\"折后价格（元）\">\r\n                  <template slot-scope=\"scope\">{{ scope.row.finallyPrice == 0 ? scope.row.price : scope.row.finallyPrice}}</template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"skuStock\" label=\"库存\"></el-table-column>\r\n              </el-table>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"商品名称\" prop=\"productName\"></el-table-column>\r\n          <el-table-column label=\"商品库存\" prop=\"productStock\" width=\"140\"></el-table-column>\r\n          <el-table-column width=\"140\">\r\n            <template slot=\"header\" slot-scope=\"scope\">\r\n              <span :data-scope=\"scope\">商品已售</span>\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"商品设置初始已抢数量，促进活动气氛，推荐填写。\" placement=\"top\">\r\n                <i class=\"el-icon-question\"></i>\r\n              </el-tooltip>\r\n            </template>\r\n            <template slot-scope=\"scope\">\r\n              <div>{{scope.row.productFinallyTotal}}</div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"成本价（元）\" width=\"140\">\r\n            <template slot-scope=\"scope\">{{ scope.row.costPrice ? '￥'+scope.row.costPrice : '-' }}</template>\r\n          </el-table-column>\r\n          <el-table-column label=\"商品售价（元）\" width=\"140\">\r\n            <template slot-scope=\"scope\">￥{{ scope.row.minPrice }}</template>\r\n          </el-table-column>\r\n          <el-table-column label=\"商品折扣\" width=\"140\">\r\n            <template slot-scope=\"scope\">{{scope.row.discount}}%</template>\r\n          </el-table-column>\r\n          <el-table-column label=\"折后价格\" width=\"140\">\r\n            <template slot-scope=\"scope\">￥{{ scope.row.finallyPrice}}</template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </el-card>\r\n    <div class=\"flex-row-center\" style=\"margin-top:20px;\">\r\n      <el-button @click=\"back\">返 回</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { getShopActivityById } from '@/api/marketManage/discount'\r\nexport default {\r\n  data(){\r\n    return{\r\n      area:'',\r\n      areaItem:[\r\n        {AreaName: \"抹去角和分\", type: 1},\r\n        {AreaName: \"抹去分\", type: 2},\r\n      ],\r\n      form:{\r\n        time:[],\r\n        calculateType:0\r\n      },\r\n      commodityList:[]\r\n    }\r\n  },\r\n  created(){\r\n    this.getData()\r\n  },\r\n  methods:{\r\n    getData(){\r\n      getShopActivityById({id:this.$route.query.id}).then(res=>{\r\n        console.log('活动详情',res)\r\n        if(res.code == 200){\r\n          this.form = res.data;\r\n          this.form.time = [res.data.beginActivityTime,res.data.endActivityTime]\r\n          if(res.data.calculateType == 1) this.area = '抹去角和分'\r\n          if(res.data.calculateType == 2) this.area = '抹去分'\r\n        }else{\r\n          this.$message.error(res.message);\r\n        }\r\n      })\r\n    },\r\n    back(){\r\n      this.$router.push({\r\n        path:'/marketManage/discount'\r\n      })\r\n    },\r\n    itemBlur(e){\r\n      if(e.row.discount){\r\n        let obj = {\r\n          calculateType:this.form.calculateType,\r\n          productList : [{\r\n            discount:e.row.discount,\r\n            id:e.row.productId\r\n          }]\r\n        }\r\n        this.getPrice(obj,e.$index)\r\n      }\r\n    },\r\n    subForm(){\r\n      console.log('请求的数据',this.form)\r\n      if(!this.form.name){\r\n        this.$message.error('请输入活动名称');\r\n        return;\r\n      }\r\n      if(this.form.time.length == 0){\r\n        this.$message.error('请设置活动时间');\r\n        return;\r\n      }\r\n      this.form.beginTime = this.form.time[0]\r\n      this.form.endTime = this.form.time[1]\r\n      if(this.form.limitNumber == undefined){\r\n        this.$message.error('请输入限购数');\r\n        return;\r\n      }\r\n      if(this.commodityList.length == 0){\r\n        this.$message.error('请添加参加活动的商品');\r\n        return;\r\n      }\r\n      let errArr = this.commodityList.filter(e => !e.discount)\r\n      if(errArr.length > 0){\r\n        this.$message.error('列表中存在不完整数据');\r\n        return;\r\n      }\r\n      this.subLoading = true\r\n      this.form.productList = this.commodityList\r\n      this.form.shopId = this.shop.shopId\r\n      console.log('errArr',errArr)\r\n      addShopActivity(this.form).then(res=>{\r\n        console.log('新建活动',res)\r\n        if(res.code == 200){\r\n          this.$message({\r\n            message: res.message,\r\n            type: 'success'\r\n          });\r\n          setTimeout(()=>{\r\n            this.subLoading = false;\r\n            this.$router.replace({\r\n              path:'/marketManage/discount'\r\n            })\r\n          },1000)\r\n        }else{\r\n          this.subLoading = false;\r\n          this.$message.error(res.message);\r\n        }\r\n      })\r\n    },\r\n    getRowClassName({row, rowIndex}){\r\n      if (row.skuType == 0) {\r\n        return 'row-expand-cover';\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'user',\r\n      'shop'\r\n    ])\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  .pageContent /deep/ .el-range-separator{\r\n    line-height: 24px;\r\n  }\r\n  .ml{\r\n    margin-left: 60px;\r\n  }\r\n  .row-expand-cover td:last-child .el-icon-arrow-right{\r\n    visibility: hidden;\r\n  }\r\n  .row-expand-cover .el-table__expand-column .el-icon{\r\n    visibility:hidden;\r\n  }\r\n</style>\r\n<style>\r\n  .row-expand-cover .el-table__expand-icon{visibility:hidden;}\r\n</style>","import { render, staticRenderFns } from \"./discountInfo.vue?vue&type=template&id=1bc11930&scoped=true&\"\nimport script from \"./discountInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./discountInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./discountInfo.vue?vue&type=style&index=0&id=1bc11930&lang=less&scoped=true&\"\nimport style1 from \"./discountInfo.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1bc11930\",\n  null\n  \n)\n\ncomponent.options.__file = \"discountInfo.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--9-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--9-2!../../../../node_modules/less-loader/dist/cjs.js??ref--9-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./discountInfo.vue?vue&type=style&index=0&id=1bc11930&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--9-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--9-2!../../../../node_modules/less-loader/dist/cjs.js??ref--9-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./discountInfo.vue?vue&type=style&index=0&id=1bc11930&lang=less&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--7-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--7-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./discountInfo.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--7-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--7-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./discountInfo.vue?vue&type=style&index=1&lang=css&\""],"sourceRoot":""}