(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1cb1"],{"1cVz":function(t,e,a){"use strict";a.r(e);var o=a("QbLZ"),s=a.n(o),n=a("L2JU"),i=a("Az8M"),l={data:function(){return{searchList:{pageNum:1,pageSize:5},list:[],listTotal:0}},created:function(){this.searchList.shopId=this.shop.shopId,this.getData()},methods:{getData:function(){var t=this;Object(i.f)(this.searchList).then(function(e){console.log("获取列表",e),t.list=e.data.list,t.listTotal=e.data.total})},reset:function(){this.searchList.roomName="",this.getData()},changeType:function(t,e){var a=this;this.$confirm("此操作将"+(0==e?"启用":"停用")+"该门店, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.e)(t,e).then(function(t){console.log("启用停用店铺",t),200==t.code?(a.getData(),a.$message({message:"操作成功",type:"success"})):a.$message.error(t.message)})}).catch(function(){})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.searchList.pageSize=t,this.getData()},handleCurrentChange:function(t){console.log("当前页: "+t),this.searchList.pageNum=t,this.getData()}},computed:s()({},Object(n.c)(["user","shop"]))},r=(a("p0iG"),a("KHd+")),c=Object(r.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pageContent"},[a("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[a("div",[a("i",{staticClass:"el-icon-search"}),t._v(" "),a("span",[t._v("筛选搜索")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.getData}},[t._v("查询")]),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:t.reset}},[t._v(" 重置")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.searchList,size:"small","label-width":"140px"}},[a("el-form-item",{attrs:{label:"门店名称："}},[a("el-input",{staticStyle:{width:"203px"},attrs:{clearable:"",placeholder:"门店名称"},model:{value:t.searchList.roomName,callback:function(e){t.$set(t.searchList,"roomName",e)},expression:"searchList.roomName"}})],1)],1)],1)]),t._v(" "),a("el-card",{staticClass:"operate-container",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[a("div",{staticClass:"flex-row-between",staticStyle:{width:"100%"}},[a("div",[a("i",{staticClass:"el-icon-tickets"}),t._v(" "),a("span",[t._v("数据列表")])]),t._v(" "),a("div",{staticStyle:{"padding-right":"20px"}},[a("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.$router.push({path:"/shop/shopManage/newShop"})}}},[t._v("新增门店")])],1)])]),t._v(" "),a("el-card",{staticClass:"filter-container",staticStyle:{"margin-top":"20px"},attrs:{shadow:"never"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{label:"门店名称",prop:"roomName"}}),t._v(" "),a("el-table-column",{attrs:{label:"联系地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.provinceName+e.row.cityName+e.row.areaName+e.row.locationDesc)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"联系电话",prop:"telephone"}}),t._v(" "),a("el-table-column",{attrs:{label:"营业时间",prop:"hourOperate"}}),t._v(" "),a("el-table-column",{attrs:{label:"门店状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.invalid?t._e():a("span",[t._v("启用")]),t._v(" "),e.row.invalid?a("span",{staticStyle:{color:"#F56C6C"}},[t._v("停用")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.$router.push({path:"/shop/shopManage/editShop",query:{id:e.row.id}})}}},[t._v("编辑")]),t._v(" "),e.row.invalid?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.changeType(e.row.id,0)}}},[t._v("启用")]):t._e(),t._v(" "),e.row.invalid?t._e():a("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text",size:"small"},on:{click:function(a){t.changeType(e.row.id,1)}}},[t._v("停用")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pageDown"},[a("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":t.searchList.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.listTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},[],!1,null,"49757c26",null);c.options.__file="shopManage.vue";e.default=c.exports},Az8M:function(t,e,a){"use strict";a.d(e,"e",function(){return s}),a.d(e,"f",function(){return n}),a.d(e,"a",function(){return i}),a.d(e,"d",function(){return l}),a.d(e,"c",function(){return r}),a.d(e,"b",function(){return c});var o=a("t3Un");function s(t,e){return Object(o.a)({url:"/sys/shopRoom/invalidShopRoomById?shopRoomId="+t+"&invalid="+e,method:"get"})}function n(t){return Object(o.a)({url:"/sys/shopRoom/selectBusinessShopRoomList",method:"post",data:t})}function i(t){return Object(o.a)({url:"/sys/shopRoom/addShopRoom",method:"post",data:t})}function l(t){return Object(o.a)({url:"/sys/shopRoom/findShopRoomByIds?shopRoomIds="+t,method:"get"})}function r(t){return Object(o.a)({url:"/sys/shopRoom/findShopRoomById?shopRoomId="+t,method:"get"})}function c(t){return Object(o.a)({url:"/sys/shopRoom/editShopRoom",method:"post",data:t})}},Mi8Q:function(t,e,a){},p0iG:function(t,e,a){"use strict";var o=a("Mi8Q");a.n(o).a}}]);
//# sourceMappingURL=chunk-1cb1.926cee2d.js.map