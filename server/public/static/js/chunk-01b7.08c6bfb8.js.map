{"version":3,"sources":["webpack:///./src/views/distributionManagement/commission/commissionProduct.vue?9a0e","webpack:///./src/api/distributionManagement/commission.js","webpack:///./src/api/commodity/commodityClassify.js","webpack:///./src/views/distributionManagement/commission/commissionProduct.vue?8389","webpack:///./src/views/distributionManagement/commission/commissionProduct.vue?d11c","webpack:///src/views/distributionManagement/commission/commissionProduct.vue","webpack:///./src/views/distributionManagement/commission/commissionProduct.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_11_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_2_node_modules_sass_loader_lib_loader_js_ref_11_3_node_modules_vue_loader_lib_index_js_vue_loader_options_commissionProduct_vue_vue_type_style_index_0_id_09314695_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","d","__webpack_exports__","getSysCommissionRate","setSysCommissionRate","fetchList","setProductRate","_utils_request__WEBPACK_IMPORTED_MODULE_0__","data","request","url","shopId","method","getProductCategoryInfoList","insertProductCategoryShop","deleteProductCategoryShop","isCategoryNameExist","updateProductCategoryShopOrderNo","updateProductCategoryShop","getProductCategoryShopAllList","getProductCategoryInfoPageList","name","level","parentId","id","commission_commissionProductvue_type_script_lang_js_","props","category","list","productCode","skuCode","shopCategoryIdArr","isJoin","salesStatus","direction","tableList","loading","multipleSelection","searchSkuIdList","dialogFormVisible","form","radio","commissionRate","inviteRate","productIds","isRetailstoreList","label","value","salesStatusList","pageNum","page_size","total","created","this","searchList","shop","getCategory","mounted","methods","_this","Object","commodityClassify","then","res","console","log","_this2","commission","pageSize","shopCategoryPid","shopCategoryId","setCommission","row","push","productId","length","$message","message","type","duration","map","item","isRetailstore","getCommission","_this3","code","$notify","error","title","setProductRateSave","_this4","undefined","toString","num","Number","isDefault","reset","handleSizeChange","page","pageChange","handleSelectionChange","val","computed","startTime","status","watch","newValue","oldValue","component","componentNormalizer","_vm","_h","$createElement","_c","_self","attrs","closable","_v","staticClass","shadow","staticStyle","float","size","on","click","margin-right","margin-top","inline","model","label-width","clearable","placeholder","callback","$$v","$set","expression","_l","key","options","checkStrictly","directives","rawName","ref","width","border","selection-change","min-width","show-overflow-tooltip","align","scopedSlots","_u","fn","scope","_s","height","src","imageUrl","prop","maxPrice","_e","$event","margin-left","background","layout","page-size","page-sizes","current-page","size-change","current-change","visible","update:visible","change","min","max","precision","controls","disabled","slot","__file"],"mappings":"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","file":"static/js/chunk-01b7.08c6bfb8.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--11-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../../node_modules/sass-loader/lib/loader.js??ref--11-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commissionProduct.vue?vue&type=style&index=0&id=09314695&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--11-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../../node_modules/sass-loader/lib/loader.js??ref--11-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commissionProduct.vue?vue&type=style&index=0&id=09314695&lang=scss&scoped=true&\"","/*\r\n * @Description: 分销佣金接口\r\n * @Author: your name\r\n * @Date: 2019-11-26 \r\n * @LastEditors: Please set LastEditors\r\n */\r\nimport request from '@/utils/request'\r\n\r\n//分销员默认佣金比例\r\nexport function getSysCommissionRate(data) {\r\n  return request({\r\n    url: `/sys/business/shopInfo/getShopConfigInfo?shopId=${data.shopId}`,\r\n    method: 'get',\r\n    data: data\r\n  })\r\n}\r\n\r\n//分销员设置佣金\r\nexport function setSysCommissionRate(data) {\r\n  return request({\r\n    url: `/sys/business/shopInfo/updateShopConfigInfo`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n\r\n//分销员商品列表\r\nexport function fetchList(data) {\r\n  return request({\r\n    url: '/sys/business/channelCommission/getCommissionProductList',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n\r\n\r\n//设置分销商品佣金比例\r\nexport function setProductRate(data) {\r\n  return request({\r\n    url: `/sys/business/channelCommission/insertChannelProductConfig`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n","import request from '@/utils/request'\r\n// 店铺分类列表\r\nexport function getProductCategoryInfoList(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/getProductCategoryInfoList`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 新增分类\r\nexport function insertProductCategoryShop(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/insertProductCategoryShop`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 删除分类\r\nexport function deleteProductCategoryShop(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/deleteProductCategoryShop`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 查询店内分类名称是否存在\r\nexport function isCategoryNameExist(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/isCategoryNameExist?name=${data.name}&level=${data.level}&shopId=${data.shopId}&parentId=${data.parentId}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 更新商品分类排序\r\nexport function updateProductCategoryShopOrderNo(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/updateProductCategoryShopOrderNo`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 更新分类名称\r\nexport function updateProductCategoryShop(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/updateProductCategoryShop`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 查询店内分类名称是否存在\r\nexport function getProductCategoryShopAllList(id) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/getProductCategoryShopAllList?shopId=${id}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 分页查询商品店铺分类\r\nexport function getProductCategoryInfoPageList(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/getProductCategoryInfoPageList`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('el-alert',{attrs:{\"title\":\"温馨提示：可同时设置店铺和单商品佣金比例，单商品的佣金比例优先级高于店铺佣金比例；系统根据你设置的佣金比例，自动与分销员进行结算。\",\"type\":\"warning\",\"closable\":false}})],1),_vm._v(\" \"),_c('el-card',{staticClass:\"filter-container\",attrs:{\"shadow\":\"never\"}},[_c('div',[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" \"),_c('span',[_vm._v(\"筛选搜索\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.searchList}},[_vm._v(\"\\n        查询\\n      \")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"size\":\"small\"},on:{\"click\":_vm.reset}},[_vm._v(\"\\n        重置\\n      \")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.list,\"size\":\"small\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称：\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"商品名称\"},model:{value:(_vm.list.name),callback:function ($$v) {_vm.$set(_vm.list, \"name\", $$v)},expression:\"list.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品编码：\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"商品编码\"},model:{value:(_vm.list.productCode),callback:function ($$v) {_vm.$set(_vm.list, \"productCode\", $$v)},expression:\"list.productCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规格编码：\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"规格编码\"},model:{value:(_vm.list.skuCode),callback:function ($$v) {_vm.$set(_vm.list, \"skuCode\", $$v)},expression:\"list.skuCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否参与推广：\"}},[_c('el-select',{model:{value:(_vm.list.isJoin),callback:function ($$v) {_vm.$set(_vm.list, \"isJoin\", $$v)},expression:\"list.isJoin\"}},_vm._l((_vm.isRetailstoreList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上下架状态：\"}},[_c('el-select',{model:{value:(_vm.list.salesStatus),callback:function ($$v) {_vm.$set(_vm.list, \"salesStatus\", $$v)},expression:\"list.salesStatus\"}},_vm._l((_vm.salesStatusList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品分类：\"}},[_c('el-cascader',{attrs:{\"options\":_vm.category,\"props\":{ checkStrictly: true },\"clearable\":\"\"},model:{value:(_vm.list.shopCategoryIdArr),callback:function ($$v) {_vm.$set(_vm.list, \"shopCategoryIdArr\", $$v)},expression:\"list.shopCategoryIdArr\"}})],1)],1)],1)]),_vm._v(\" \"),_c('el-card',{staticClass:\"operate-container\",attrs:{\"shadow\":\"never\"}},[_c('i',{staticClass:\"el-icon-tickets\"}),_vm._v(\" \"),_c('span',[_vm._v(\"数据列表\")])]),_vm._v(\" \"),_c('el-card',{staticClass:\"operate-container\",attrs:{\"shadow\":\"never\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableList,\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"min-width\":\"140\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.name))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品主图\",\"width\":\"140\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-image',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":scope.row.imageUrl}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"上下架状态\",\"width\":\"100\",\"prop\":\"salesStatusName\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"分类\",\"width\":\"120\",\"prop\":\"productCategoryShopName\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品编码\",\"width\":\"110\",\"prop\":\"productCode\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"销售价\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          ￥\"+_vm._s(scope.row.maxPrice)+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"佣金比例\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isJoin == 0)?_c('span',[_vm._v(_vm._s(scope.row.commissionRate)+\"%\")]):_vm._e(),_vm._v(\" \"),(scope.row.isJoin == 1)?_c('span',[_vm._v(\"--\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"邀请奖励佣金比例\",\"width\":\"160\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isJoin == 0)?_c('span',[_vm._v(_vm._s(scope.row.inviteRate)+\"%\")]):_vm._e(),_vm._v(\" \"),(scope.row.isJoin == 1)?_c('span',[_vm._v(\"--\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"库存\",\"width\":\"110\",\"prop\":\"sumStock\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"总销量\",\"width\":\"120\",\"prop\":\"salesCount\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"是否参与推广\",\"width\":\"130\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isJoin == 0)?_c('span',[_vm._v(\"参与\")]):_vm._e(),_vm._v(\" \"),(scope.row.isJoin == 1)?_c('span',[_vm._v(\"不参与\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"button_mian\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.setCommission(scope.row)}}},[_vm._v(\"设置推广佣金\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"flex-row-between\",staticStyle:{\"margin-top\":\"10px\"}},[_c('el-button',{staticClass:\"btn-add\",attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.setCommission()}}},[_vm._v(\"\\n        批量设置推广佣金\\n      \")]),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"margin-top\":\"10px\",\"margin-left\":\"20px\"},attrs:{\"background\":\"\",\"layout\":\"total,sizes,prev,pager,next,jumper\",\"page-size\":_vm.page_size,\"page-sizes\":[10, 30, 50],\"current-page\":_vm.pageNum,\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.pageChange}})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"商品佣金设置\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"是否参与推广\"}},[_c('el-radio',{attrs:{\"label\":\"0\"},model:{value:(_vm.form.isJoin),callback:function ($$v) {_vm.$set(_vm.form, \"isJoin\", $$v)},expression:\"form.isJoin\"}},[_vm._v(\"参与\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.form.isJoin),callback:function ($$v) {_vm.$set(_vm.form, \"isJoin\", $$v)},expression:\"form.isJoin\"}},[_vm._v(\"不参与\")])],1),_vm._v(\" \"),(_vm.form.isJoin === '0')?_c('el-form-item',{attrs:{\"label\":\"佣金设置\"}},[_c('el-radio',{attrs:{\"label\":\"0\"},on:{\"change\":_vm.getCommission},model:{value:(_vm.form.radio),callback:function ($$v) {_vm.$set(_vm.form, \"radio\", $$v)},expression:\"form.radio\"}},[_vm._v(\"按默认比例设置\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.form.radio),callback:function ($$v) {_vm.$set(_vm.form, \"radio\", $$v)},expression:\"form.radio\"}},[_vm._v(\"自定义\")])],1):_vm._e(),_vm._v(\" \"),(_vm.form.isJoin === '0')?_c('el-form-item',{attrs:{\"label\":\"佣金比例\"}},[_c('el-input-number',{staticStyle:{\"width\":\"80px\"},attrs:{\"min\":0.01,\"max\":99,\"precision\":2,\"controls\":false,\"disabled\":_vm.form.radio != 1,\"size\":\"mini\"},model:{value:(_vm.commissionRate),callback:function ($$v) {_vm.commissionRate=$$v},expression:\"commissionRate\"}}),_vm._v(\"%\\n        \"),_c('span',{staticClass:\"item-contain-red\"},[_vm._v(\"\\n          输入范围最小为0.01，可保留2位小数\\n        \")])],1):_vm._e(),_vm._v(\" \"),(_vm.form.isJoin === '0')?_c('el-form-item',{attrs:{\"label\":\"邀请奖励佣金比例\"}},[_c('el-input-number',{staticStyle:{\"width\":\"80px\"},attrs:{\"min\":0.01,\"max\":99,\"precision\":2,\"disabled\":_vm.form.radio != 1,\"controls\":false,\"size\":\"mini\"},model:{value:(_vm.inviteRate),callback:function ($$v) {_vm.inviteRate=$$v},expression:\"inviteRate\"}}),_vm._v(\"%\\n        \"),_c('span',{staticClass:\"item-contain-red\"},[_vm._v(\"\\n          输入范围最小为0.01，可保留2位小数\\n        \")])],1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.setProductRateSave}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/happypack/loader.js?id=js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commissionProduct.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/happypack/loader.js?id=js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commissionProduct.vue?vue&type=script&lang=js&\"","<!--\r\n * @Description: 按商品设置佣金\r\n * @Author: your name\r\n * @Date: 2019-11-26 10:15:18\r\n * @LastEditors: Please set LastEditors\r\n -->\r\n<template>\r\n  <div>\r\n    <div>\r\n      <el-alert title=\"温馨提示：可同时设置店铺和单商品佣金比例，单商品的佣金比例优先级高于店铺佣金比例；系统根据你设置的佣金比例，自动与分销员进行结算。\"\r\n                type=\"warning\"\r\n                :closable=\"false\"></el-alert>\r\n    </div>\r\n    <!-- 筛选条件 -->\r\n    <el-card class=\"filter-container\"\r\n             shadow=\"never\">\r\n      <div>\r\n        <i class=\"el-icon-search\"></i>\r\n        <span>筛选搜索</span>\r\n        <el-button style=\"float: right\"\r\n                   @click=\"searchList\"\r\n                   type=\"primary\"\r\n                   size=\"small\">\r\n          查询\r\n        </el-button>\r\n        <el-button style=\"float: right;margin-right: 15px\"\r\n                   @click=\"reset\"\r\n                   size=\"small\">\r\n          重置\r\n        </el-button>\r\n      </div>\r\n      <div style=\"margin-top: 15px\">\r\n        <el-form :inline=\"true\"\r\n                 :model=\"list\"\r\n                 size=\"small\"\r\n                 label-width=\"140px\">\r\n          <el-form-item label=\"商品名称：\">\r\n            <el-input v-model=\"list.name\"\r\n                      clearable\r\n                      placeholder=\"商品名称\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"商品编码：\">\r\n            <el-input v-model=\"list.productCode\"\r\n                      clearable\r\n                      placeholder=\"商品编码\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"规格编码：\">\r\n            <el-input v-model=\"list.skuCode\"\r\n                      clearable\r\n                      placeholder=\"规格编码\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"是否参与推广：\">\r\n            <el-select v-model=\"list.isJoin\">\r\n              <el-option v-for=\"item in isRetailstoreList\"\r\n                         :key=\"item.value\"\r\n                         :label=\"item.label\"\r\n                         :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"上下架状态：\">\r\n            <el-select v-model=\"list.salesStatus\">\r\n              <el-option v-for=\"item in salesStatusList\"\r\n                         :key=\"item.value\"\r\n                         :label=\"item.label\"\r\n                         :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"商品分类：\">\r\n            <el-cascader v-model=\"list.shopCategoryIdArr\"\r\n                         :options=\"category\"\r\n                         :props=\"{ checkStrictly: true }\"\r\n                         clearable></el-cascader>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </el-card>\r\n    <!-- 数据列表 -->\r\n    <el-card class=\"operate-container\"\r\n             shadow=\"never\">\r\n      <i class=\"el-icon-tickets\"></i>\r\n      <span>数据列表</span>\r\n\r\n    </el-card>\r\n\r\n    <el-card class=\"operate-container\"\r\n             shadow=\"never\">\r\n      <el-table :data=\"tableList\"\r\n                style=\"width: 100%\"\r\n                ref=\"multipleTable\"\r\n                @selection-change=\"handleSelectionChange\"\r\n                v-loading=\"loading\"\r\n                border>\r\n        <el-table-column type=\"selection\"\r\n                         width=\"55\">\r\n        </el-table-column>\r\n        <el-table-column type=\"index\"\r\n                         width=\"50\">\r\n        </el-table-column>\r\n        <el-table-column label=\"商品名称\"\r\n                         min-width=\"140\"\r\n                         show-overflow-tooltip\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">{{scope.row.name}}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"商品主图\"\r\n                         width=\"140\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-image style=\"width: 100px; height: 100px\"\r\n                      :src=\"scope.row.imageUrl\"></el-image>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"上下架状态\"\r\n                         width=\"100\"\r\n                         prop=\"salesStatusName\"\r\n                         align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"分类\"\r\n                         width=\"120\"\r\n                         prop=\"productCategoryShopName\"\r\n                         align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"商品编码\"\r\n                         width=\"110\"\r\n                         prop=\"productCode\"\r\n                         align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"销售价\"\r\n                         width=\"100\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            ￥{{scope.row.maxPrice}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"佣金比例\"\r\n                         width=\"100\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span v-if=\"scope.row.isJoin == 0\">{{scope.row.commissionRate}}%</span>\r\n            <span v-if=\"scope.row.isJoin == 1\">--</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"邀请奖励佣金比例\"\r\n                         width=\"160\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span v-if=\"scope.row.isJoin == 0\">{{scope.row.inviteRate}}%</span>\r\n            <span v-if=\"scope.row.isJoin == 1\">--</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"库存\"\r\n                         width=\"110\"\r\n                         prop=\"sumStock\"\r\n                         align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"总销量\"\r\n                         width=\"120\"\r\n                         prop=\"salesCount\"\r\n                         align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"是否参与推广\"\r\n                         width=\"130\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span v-if=\"scope.row.isJoin == 0\">参与</span>\r\n            <span v-if=\"scope.row.isJoin == 1\">不参与</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\"\r\n                         width=\"150\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button class=\"button_mian\"\r\n                       type=\"text\"\r\n                       @click=\"setCommission(scope.row)\">设置推广佣金</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 固定在下面 -->\r\n      <div class=\"flex-row-between\"\r\n           style=\"margin-top:10px\">\r\n        <el-button class=\"btn-add\"\r\n                   @click=\"setCommission()\"\r\n                   type=\"primary\"\r\n                   size=\"mini\">\r\n          批量设置推广佣金\r\n        </el-button>\r\n        <!-- 页码 -->\r\n        <el-pagination background\r\n                       style=\"margin-top: 10px;margin-left:20px\"\r\n                       @size-change=\"handleSizeChange\"\r\n                       @current-change=\"pageChange\"\r\n                       layout=\"total,sizes,prev,pager,next,jumper\"\r\n                       :page-size=\"page_size\"\r\n                       :page-sizes=\"[10, 30, 50]\"\r\n                       :current-page=\"pageNum\"\r\n                       :total=\"total\">\r\n        </el-pagination>\r\n      </div>\r\n    </el-card>\r\n\r\n    <!-- 商品佣金弹窗 -->\r\n    <el-dialog title=\"商品佣金设置\"\r\n               :visible.sync=\"dialogFormVisible\">\r\n      <el-form ref=\"form\"\r\n               :model=\"form\"\r\n               label-width=\"140px\">\r\n        <el-form-item label=\"是否参与推广\">\r\n          <el-radio v-model=\"form.isJoin\"\r\n                    label=\"0\">参与</el-radio>\r\n          <el-radio v-model=\"form.isJoin\"\r\n                    label=\"1\">不参与</el-radio>\r\n        </el-form-item>\r\n        <el-form-item label=\"佣金设置\"\r\n                      v-if=\"form.isJoin === '0'\">\r\n          <el-radio v-model=\"form.radio\"\r\n                    label=\"0\"\r\n                    @change=\"getCommission\">按默认比例设置</el-radio>\r\n          <el-radio v-model=\"form.radio\"\r\n                    label=\"1\">自定义</el-radio>\r\n        </el-form-item>\r\n        <el-form-item label=\"佣金比例\"\r\n                      v-if=\"form.isJoin === '0'\">\r\n          <el-input-number v-model=\"commissionRate\"\r\n                           :min=\"0.01\"\r\n                           :max=\"99\"\r\n                           :precision=\"2\"\r\n                           :controls=\"false\"\r\n                           :disabled=\"form.radio != 1\"\r\n                           size=\"mini\"\r\n                           style=\"width:80px\">\r\n          </el-input-number>%\r\n          <span class=\"item-contain-red\">\r\n            输入范围最小为0.01，可保留2位小数\r\n          </span>\r\n        </el-form-item>\r\n        <el-form-item label=\"邀请奖励佣金比例\"\r\n                      v-if=\"form.isJoin === '0'\">\r\n          <el-input-number v-model=\"inviteRate\"\r\n                           :min=\"0.01\"\r\n                           :max=\"99\"\r\n                           :precision=\"2\"\r\n                           :disabled=\"form.radio != 1\"\r\n                           :controls=\"false\"\r\n                           size=\"mini\"\r\n                           style=\"width:80px\">\r\n          </el-input-number>%\r\n          <span class=\"item-contain-red\">\r\n            输入范围最小为0.01，可保留2位小数\r\n          </span>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <div slot=\"footer\"\r\n           class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\"\r\n                   @click=\"setProductRateSave\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { getProductCategoryShopAllList } from '@/api/commodity/commodityClassify'\r\nimport { getSysCommissionRate, fetchList, setProductRate } from '@/api/distributionManagement/commission'\r\nexport default {\r\n  props: [\"status\", \"user\", \"shop\"],\r\n  data() {\r\n    return {\r\n      category: [],\r\n      list: {\r\n        name: '',\r\n        productCode: '',\r\n        skuCode: '',\r\n        shopCategoryIdArr: [],\r\n        isJoin: '',\r\n        salesStatus: ''\r\n      },\r\n      direction: '',\r\n      tableList: [],\r\n      loading: false,\r\n      multipleSelection: [],\r\n      searchSkuIdList: [],\r\n      dialogFormVisible: false,\r\n      form: {\r\n        isJoin: '',\r\n        radio: '0',\r\n      },\r\n      commissionRate: '',\r\n      inviteRate: '',\r\n      productIds: [],\r\n\r\n\r\n      isRetailstoreList: [\r\n        {\r\n          label: '全部',\r\n          value: ''\r\n        },\r\n        {\r\n          label: '参与推广',\r\n          value: 0\r\n        },\r\n        {\r\n          label: '不参与推广',\r\n          value: 1\r\n        },\r\n      ],\r\n      salesStatusList: [\r\n        {\r\n          label: '全部',\r\n          value: ''\r\n        },\r\n        {\r\n          label: '出售中',\r\n          value: 0\r\n        },\r\n        {\r\n          label: '下架',\r\n          value: 1\r\n        },\r\n        {\r\n          label: '待出售',\r\n          value: 2\r\n        },\r\n        {\r\n          label: '回收站',\r\n          value: 3\r\n        },\r\n      ],\r\n      pageNum: 1,\r\n      page_size: 10,\r\n      total: 0,\r\n    }\r\n  },\r\n  created() {\r\n    this.searchList()\r\n    this.shopId = this.shop.shopId\r\n    this.getCategory()\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  methods: {\r\n    // 获取全部分类\r\n    getCategory() {\r\n      getProductCategoryShopAllList(this.shop.shopId).then(res => {\r\n        console.log('获取店铺分类', res)\r\n        this.category = res.data\r\n      })\r\n    },\r\n\r\n    //查询数据列表\r\n    searchList() {\r\n      this.loading = true\r\n      fetchList({\r\n        shopId: this.shop.shopId,\r\n        pageNum: this.pageNum,\r\n        pageSize: this.page_size,\r\n        name: this.list.name,\r\n        productCode: this.list.productCode,\r\n        isJoin: this.list.isJoin,\r\n        salesStatus: this.list.salesStatus,\r\n        shopCategoryPid: this.list.shopCategoryIdArr[0] || '',\r\n        shopCategoryId: this.list.shopCategoryIdArr[1] || '',\r\n      }).then(res => {\r\n        this.loading = false\r\n        this.tableList = res.data.list\r\n        this.total = res.data.total\r\n      })\r\n    },\r\n\r\n    setCommission(row) {\r\n      this.productIds = []\r\n      if (row) {\r\n        this.productIds.push(row.productId)\r\n      } else {\r\n        if (this.multipleSelection == null || this.multipleSelection.length < 1) {\r\n          this.$message({\r\n            message: '请选择要操作的商品',\r\n            type: 'warning',\r\n            duration: 1000\r\n          });\r\n          return;\r\n        }\r\n        this.productIds = this.multipleSelection.map(item => item.productId)\r\n      }\r\n      this.dialogFormVisible = true\r\n      this.form.radio = '0'\r\n      this.form.isRetailstore = ''\r\n      this.getCommission()\r\n    },\r\n\r\n    getCommission() {\r\n      //获取系统默认比例\r\n      getSysCommissionRate({\r\n        shopId: this.shop.shopId\r\n      }).then(res => {\r\n        console.log(res, '佣金默认比例')\r\n        if (res.code == 200) {\r\n          this.commissionRate = res.data.commissionRate\r\n          this.inviteRate = res.data.inviteRate\r\n        } else {\r\n          this.$notify.error({\r\n            title: '失败',\r\n            message: '佣金默认比例获取失败',\r\n          });\r\n        }\r\n      })\r\n    },\r\n\r\n    //设置分销商品比例\r\n    setProductRateSave() {\r\n      if (this.form.isJoin === '') {\r\n        this.$notify.error({\r\n          title: '失败',\r\n          message: '请选择是否参与推广',\r\n        });\r\n        return\r\n      }\r\n      if (this.form.isJoin === '0' && this.form.radio === '') {\r\n        this.$notify.error({\r\n          title: '失败',\r\n          message: '请选择佣金设置',\r\n        });\r\n        return\r\n      }\r\n      if (this.commissionRate === '' || this.commissionRate == undefined) {\r\n        this.$notify.error({\r\n          title: '失败',\r\n          message: '请输入佣金比例',\r\n        });\r\n        return\r\n      }\r\n      if (this.inviteRate === '' || this.inviteRate == undefined) {\r\n        this.$notify.error({\r\n          title: '失败',\r\n          message: '请输入邀请奖励佣金比例',\r\n        });\r\n        return\r\n      }\r\n      //不参与分销\r\n      if (this.form.isJoin === '1') {\r\n        setProductRate({\r\n          shopId: this.shop.shopId,\r\n          productIds: this.productIds.toString(),\r\n          isJoin: this.form.isJoin,\r\n        }).then(res => {\r\n          if (res.code == 200) {\r\n            this.searchList()\r\n            this.$notify({\r\n              title: '成功',\r\n              message: '商品设置分销佣金成功',\r\n              type: 'success'\r\n            });\r\n          } else {\r\n            this.$notify.error({\r\n              title: '失败',\r\n              message: res.message\r\n            });\r\n          }\r\n          this.dialogFormVisible = false\r\n        })\r\n      }\r\n      let num = Number(this.commissionRate) + Number(this.inviteRate)\r\n      if (this.form.isJoin === '0' && num > 100) {\r\n        this.$notify.error({\r\n          title: '失败',\r\n          message: '佣金比例与邀请奖励比例之和不能大于100%'\r\n        });\r\n        return\r\n      }\r\n      //参与分销\r\n      if (this.form.isJoin === '0') {\r\n        setProductRate({\r\n          shopId: this.shop.shopId,\r\n          productIds: this.productIds.toString(),\r\n          isDefault: this.form.radio,\r\n          isJoin: this.form.isJoin,\r\n          commissionRate: this.commissionRate,\r\n          inviteRate: this.inviteRate,\r\n        }).then(res => {\r\n          if (res.code == 200) {\r\n            this.searchList()\r\n            this.$notify({\r\n              title: '成功',\r\n              message: '商品设置分销佣金成功',\r\n              type: 'success'\r\n            });\r\n          } else {\r\n            this.$notify.error({\r\n              title: '失败',\r\n              message: res.message\r\n            });\r\n          }\r\n          this.dialogFormVisible = false\r\n        })\r\n      }\r\n    },\r\n\r\n    //重置\r\n    reset() {\r\n      this.list = {\r\n        name: '',\r\n        productCode: '',\r\n        skuCode: '',\r\n        shopCategoryIdArr: [],\r\n        isJoin: '',\r\n        salesStatus: ''\r\n      }\r\n      this.page_size = 10\r\n      this.pageNum = 1\r\n      this.searchList()\r\n    },\r\n\r\n    //修改每页页数\r\n    handleSizeChange(page) {\r\n      this.page_size = page\r\n      this.searchList()\r\n    },\r\n    //点击跳转页码\r\n    pageChange(page) {\r\n      this.pageNum = page\r\n      this.searchList()\r\n    },\r\n    //选择按钮\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n  },\r\n  computed: {\r\n    startTime() {\r\n      return this.status;\r\n    },\r\n  },\r\n  watch: {\r\n    startTime(newValue, oldValue) {\r\n      this.searchList()\r\n      return newValue;\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.item-contain-red {\r\n  color: red;\r\n  margin-left: 30px;\r\n}\r\n.operate-container {\r\n  margin-top: 10px;\r\n}\r\n.table-container {\r\n  margin-top: 10px;\r\n}\r\n.btn-add {\r\n  float: left;\r\n  margin-left: 10px;\r\n}\r\n.fixedB {\r\n  width: 100%;\r\n  padding-right: 300px;\r\n  box-sizing: border-box;\r\n  position: fixed;\r\n  bottom: 0;\r\n  background: #eee;\r\n  z-index: 100;\r\n  margin-left: -20px;\r\n  .el-pagination {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./commissionProduct.vue?vue&type=template&id=09314695&scoped=true&\"\nimport script from \"./commissionProduct.vue?vue&type=script&lang=js&\"\nexport * from \"./commissionProduct.vue?vue&type=script&lang=js&\"\nimport style0 from \"./commissionProduct.vue?vue&type=style&index=0&id=09314695&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09314695\",\n  null\n  \n)\n\ncomponent.options.__file = \"commissionProduct.vue\"\nexport default component.exports"],"sourceRoot":""}