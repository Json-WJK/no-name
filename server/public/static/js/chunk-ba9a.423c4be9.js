(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ba9a"],{"/Lil":function(e,t,s){},"7O8E":function(e,t,s){"use strict";s.r(t);var i=s("QbLZ"),r=s.n(i),o=s("gDS+"),a=s.n(o),l=s("L2JU"),n=s("pgPq"),c=s("Og+O"),u=s("DKYH"),p=s("PRgn"),d=s("FqQn"),m=s("PgIU"),h=s("i/Tg"),v={data:function(){return{spms:!1,fxms:!1,subLoading:!1,ue1:"ue1",ruleForm:{salesStatus:"0",evaluate:"1",isFreeShipping:"1",showSales:"1",freightTemplateId:"",isCompanyType:!1,isSelffetchType:!1,skuType:"0"},skuType0:{unit:"件"},showImgMaterial:!1,limitType:!1,getPost:!1,selectNum:0,goodsImg:[],imgMaterialType:[],bigImg:[],logisticsTemplate:[],category:[],parameter:[],attrs:[],btnStatus:!1,originPrice:"",linePrice:"",salePrice:"",inventory:"",unit:"",props:{multiple:!0},checkList:[],weight:"",specArr:[],specData:[],showAddSpec:!0,publicObj:{},selffedchStatus:"",codeType:!1,richContent:"",videoForm:[],showVideoMaterial:!1}},created:function(){this.getLogisticsTemplate(),this.getCategory(),this.getStatus()},methods:{showVideoMaterialDia:function(){this.showVideoMaterial=!0},onlyCloseVideo:function(){this.showImgMaterial=!1,this.getPost=!1},subMitVideo:function(e){console.log("点击了确定",e),this.showVideoMaterial=!1,this.getPost=!1,this.videoForm=e},getData:function(){var e=this;Object(h.c)(this.$route.query.productId).then(function(t){console.log("商品详情",t),200==t.code&&(e.ruleForm=t.data,e.codeType=!0,e.oldCode=t.data.code,e.goodsImg=t.data.goodsImg,0==t.data.skuType&&(e.skuType0=t.data.productSkuList[0]),1==t.data.skuType&&(e.specArr=t.data.specArr,e.specData=t.data.productSkuList,console.log("this.specData",e.specData)),e.parameter=t.data.parameter||[],e.videoForm=t.data.videoForm||[],e.richContent=t.data.content,setTimeout(function(){e.ue1.setContent(e.richContent)},1e3))})},blurCode:function(){var e=this;this.ruleForm.code!=this.oldCode&&Object(d.b)(this.shop.shopId,this.ruleForm.code).then(function(t){console.log("验证code",t),200!=t.code&&e.$message.error(t.message),e.codeType=200==t.code})},getStatus:function(){var e=this;Object(m.e)(this.shop.shopId).then(function(t){console.log("是否开启了自提",t),e.selffedchStatus=t.data})},addSpecRow:function(){this.specArr.push({specName:"",specList:[{specValue:""}]}),this.specArr.length>=2&&(this.showAddSpec=!1)},deletRow:function(e){this.specArr.splice(e,1),this.specArr.length<2&&(this.showAddSpec=!0),this.creatData()},addSpecValue:function(e){this.specArr[e].specList.push({specValue:""})},deletSpecValue:function(e,t){this.specArr[e].specList.splice(t,1),this.creatData()},creatData:function(){var e=this;console.log(this.specArr),this.specData=[],this.specArr[0].specList.forEach(function(t){var s={specKey:e.specArr[0].specName,specValue:t.specValue,children:[]};if(e.specData.push(s),e.specArr[1])e.specArr[1].specList.forEach(function(t){var i={specKey:e.specArr[1].specName,specValue:t.specValue,originPrice:void 0,linePrice:void 0,salePrice:void 0,inventory:void 0,unit:"件",skuCode:"",isOpen:!0};s.children.push(i)});else{var i={originPrice:void 0,linePrice:void 0,salePrice:void 0,inventory:void 0,unit:"件",skuCode:"",isOpen:!0};s.children.push(i)}}),console.log(this.specData)},removeRepeat:function(e){for(var t=!1,s=0;s<e.length;s++){for(var i=s+1;i<e.length;i++)if(e[s].specName==e[i].specName){t=!0;break}if(t)break}return t},changeParmas:function(){var e=this;this.publicObj.originPrice||this.publicObj.linePrice||this.publicObj.salePrice||this.publicObj.inventory||this.publicObj.unit?this.specData.forEach(function(t){t.children.forEach(function(t){e.publicObj.originPrice&&(t.originPrice=e.publicObj.originPrice),e.publicObj.linePrice&&(t.linePrice=e.publicObj.linePrice),e.publicObj.salePrice&&(t.salePrice=e.publicObj.salePrice),e.publicObj.inventory&&(t.inventory=e.publicObj.inventory),e.publicObj.unit&&(t.unit=e.publicObj.unit)})}):this.$message.error("请输入批量设置参数")},cancel:function(){for(var e in this.publicObj)this.publicObj[e]=void 0},submitForm:function(e){var t=this;if(console.log(this.ruleForm),this.ruleForm.name)if(this.ruleForm.abstracts)if(this.ruleForm.shareDescription)if(this.ruleForm.code)if(this.codeType)if(console.log(this.ruleForm.shopCategoryIdsArr),this.ruleForm.shopCategoryIdsArr&&0!=this.ruleForm.shopCategoryIdsArr.length){var s=[];if(this.ruleForm.shopCategoryIdsArr.forEach(function(e){var t={pid:e[0],id:e[1]};s.push(t)}),this.ruleForm.shopCategoryIds=s,0!=this.goodsImg.length){if(this.ruleForm.imageUrl=this.goodsImg[0].imageUrl,this.ruleForm.goodsImg=this.goodsImg,0==this.ruleForm.skuType){if(!this.skuType0.salePrice)return void this.$message.error("请填写销售价");if(this.skuType0.linePrice&&this.skuType0.linePrice<=this.skuType0.salePrice)return void this.$message.error("划线价应大于销售价");if(console.log(this.skuType0.inventory),void 0==this.skuType0.inventory)return void this.$message.error("请填写库存");var i=[];i.push(this.skuType0),this.ruleForm.productSkuList=i}if(1==this.ruleForm.skuType){if(console.log("specArr",this.specArr),console.log("specData",this.specData),0==this.specData.length)return void this.$message.error("请添加商品规格");if(this.specArr.filter(function(e){return!e.specName}).length>0)return void this.$message.error("请完善商品规格列表中的规格名");var r=[];if(this.specArr.forEach(function(e){e.specList.forEach(function(e){r.push(e)})}),r.filter(function(e){return!e.specValue}).length>0)return void this.$message.error("请完善商品规格列表中的规格值");var o=[];if(this.specData.forEach(function(e){e.children.forEach(function(e){o.push(e)})}),o.filter(function(e){return void 0==e.inventory||!e.salePrice||!e.unit}).length>0)return void this.$message.error("请完善商品规格中的必填值");if(o.filter(function(e){return e.linePrice&&e.linePrice<=e.salePrice}).length>0)return void this.$message.error("规格中的划线价应大于销售价");this.ruleForm.productSkuList=this.specData,this.ruleForm.specArr=this.specArr}if(0!=this.parameter.length){var l=this.parameter.filter(function(e){return!e.key||!e.value});if(console.log("errArr",l),l.length>0)return void this.$message.error("请完善填写参数");this.ruleForm.parameter=this.parameter}var n=this.ue1.getContent();if(n)if(this.ruleForm.content=n,this.ruleForm.isCompanyType||this.ruleForm.isSelffetchType)if(this.ruleForm.isCompany=this.ruleForm.isCompanyType?"1":"0",this.ruleForm.isSelffetch=this.ruleForm.isSelffetchType?"1":"0",0!=this.ruleForm.isFreeShipping||this.ruleForm.freightTemplateId){this.ruleForm.videoForm=this.videoForm||[],this.ruleForm.shopId=this.shop.shopId,console.log("牛逼成功率 ！！",a()(this.ruleForm)),this.subLoading=!0;var c=a()(this.ruleForm);Object(h.h)(c).then(function(e){console.log("编辑商品",e),200==e.code?(t.$message({message:"编辑成功",type:"success"}),setTimeout(function(){t.$router.replace({path:"/commodity/commodityList"})},1e3)):(t.subLoading=!1,t.$message.error(e.message))})}else this.$message.error("请选择运费模板");else this.$message.error("请选择物流信息");else this.$message.error("请完善商品详情")}else this.$message.error("请上传商品图片")}else this.$message.error("请选择商品分类");else this.$message.error("商品编码重复，请重新输入");else this.$message.error("请填写商品编码");else this.$message.error("请填写分享描述");else this.$message.error("请填写商品描述");else this.$message.error("请填写商品标题")},addParameter:function(){this.parameter.push({key:"",val:""})},deleteParameter:function(e){console.log(e),this.parameter.splice(e,1)},newPage:function(){var e=this.$router.resolve({name:"新建运费模板"});window.open(e.href,"_blank")},newPage1:function(){var e=this.$router.resolve({name:"商品分类"});window.open(e.href,"_blank")},newPage2:function(){var e=this.$router.resolve({name:"自提点设置"});window.open(e.href,"_blank")},getLogisticsTemplate:function(){var e=this;Object(u.e)(this.shop.shopId).then(function(t){console.log("获取运费模板",t),e.logisticsTemplate=t.data.list;var s=t.data.list.find(function(e){return 0==e.isDefault});s&&(e.ruleForm.freightTemplateId=s.id),console.log("defaultA",s)})},getCategory:function(){var e=this;Object(p.d)(this.shop.shopId).then(function(t){console.log("获取店铺分类",t),e.category=t.data})},showBig:function(e){this.bigImg=[],this.bigImg.push(e)},deleteImg:function(e){this.goodsImg.splice(e,1)},showImgMaterialDia:function(){this.getPost=!0,this.limitType=!0,this.selectNum=this.goodsImg.length,this.imgMaterialType="goodsImg",this.showImgMaterial=!0},onlyclose:function(e){console.log("值点了关闭",e),this.showImgMaterial=!1,this.getPost=!1},subMit:function(e){var t=this;if(console.log("点击了确定",e),this.showImgMaterial=!1,this.getPost=!1,"goodsImg"==this.imgMaterialType&&e.forEach(function(e){return t.goodsImg.push(e)}),"richText"==this.imgMaterialType){var s="";e.forEach(function(e){s+='<p><img style="max-width:100%;" src="'+e.imageUrl+'" alt=""></p>'}),this.ue1.execCommand("inserthtml",s),console.log("上传给富文本的图片",s)}},change:function(e){this.$forceUpdate()}},mounted:function(){var e=this,t=this;this.$dragging.$on("dragged",function(e){e.value}),this.$dragging.$on("dragend",function(e){}),this.$nextTick(function(){UE.registerUI("diyimg",function(e,s){return new UE.ui.Button({name:s,title:"添加图片",cssRules:"background-position: -380px 0;",onclick:function(){t.imgMaterialType="richText",t.selectNum=0,t.getPost=!0,t.showImgMaterial=!0,t.limitType=!1}})},2),e.ue1=UE.getEditor("editor",{zIndex:9}),console.log("richContent",e.richContent),console.log("实例化成功！"),e.getData()})},destroyed:function(){this.ue1.destroy(),console.log("销毁")},computed:r()({},Object(l.c)(["user","shop"]),{tableData:function(){var e=this.attrs,t=e.length;if(0!=t){for(var s=[],i=0;i<t;i++){var r={};r.pName=e[i].pName,r.spec=[],r.originPrice="",r.salePrice="",r.inventory="",r.unit="",r.skuCode="";for(var o=e[i].spec.length,a=0,l=0;l<o;l++){var n={},c=e[i].spec[l].cName;c&&(++a,n.cName=c,r.spec.push(n))}r.specLen=a,s.push(r)}for(var u=0,p=s.length;u<p;u++){for(var d=1,m=u+1;m<p;m++){d*=s[m].specLen||1}s[u].rowspan=d}return s}},rows:function(){if(this.tableData){for(var e=1,t=this.tableData,s=t.length,i=0;i<s;i++){e*=t[i].specLen||1}return 1==e?t[0].spec.length:e}},tableList:function(){if(this.tableData){for(var e=this.rows,t=[],s=this.tableData,i=0;i<e;i++){for(var r={},o=0;o<s.length;o++){var a=s[o].pName,l=s[o].rowspan,n=s[o].specLen;if(n){var c=s[o].spec,u=parseInt(i/l)%n;console.log("cName",c[u].cName),console.log("key",r[a]),r[a]=c[u].cName}}r.originPrice=void 0,r.linePrice=void 0,r.salePrice=void 0,r.inventory=void 0,r.unit="件",r.skuCode=void 0,t.push(r)}return t}}}),components:{imageMaterial:n.a,videoMaterial:c.a}},g=(s("Iu7e"),s("KHd+")),f=Object(g.a)(v,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pageContent"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"140px"}},[i("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[i("div",{staticClass:"pageHead"},[e._v("基本信息")]),e._v(" "),i("el-form-item",{attrs:{label:"商品标题：",required:""}},[i("el-input",{staticStyle:{width:"40%"},attrs:{maxlength:"50","show-word-limit":"",placeholder:"请输入商品标题"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name","string"==typeof t?t.trim():t)},expression:"ruleForm.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"商品描述：",required:""}},[i("el-input",{staticStyle:{width:"40%"},attrs:{maxlength:"50","show-word-limit":"",placeholder:"商品标语用来介绍商品特点，吸引用户购买，若有促销宣传语时将会覆盖商品标语"},model:{value:e.ruleForm.abstracts,callback:function(t){e.$set(e.ruleForm,"abstracts","string"==typeof t?t.trim():t)},expression:"ruleForm.abstracts"}}),e._v(" "),i("el-button",{attrs:{type:"text"},on:{click:function(t){e.spms=!0}}},[e._v("查看示例")])],1),e._v(" "),i("el-form-item",{attrs:{label:"分享描述：",required:""}},[i("el-input",{staticStyle:{width:"40%"},attrs:{type:"textarea",maxlength:"100","show-word-limit":"",placeholder:"请输入分享描述"},model:{value:e.ruleForm.shareDescription,callback:function(t){e.$set(e.ruleForm,"shareDescription",t)},expression:"ruleForm.shareDescription"}}),e._v(" "),i("el-button",{attrs:{type:"text"},on:{click:function(t){e.fxms=!0}}},[e._v("查看示例")])],1),e._v(" "),i("el-form-item",{attrs:{label:"商品编码：",required:""}},[i("el-input",{staticStyle:{width:"40%"},attrs:{maxlength:"20","show-word-limit":"",placeholder:"为了方便商品查找时的准确性，请维护商品编码"},on:{blur:e.blurCode},model:{value:e.ruleForm.code,callback:function(t){e.$set(e.ruleForm,"code","string"==typeof t?t.trim():t)},expression:"ruleForm.code"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"商品分类：",required:""}},[i("el-cascader",{attrs:{options:e.category,props:e.props,clearable:""},model:{value:e.ruleForm.shopCategoryIdsArr,callback:function(t){e.$set(e.ruleForm,"shopCategoryIdsArr",t)},expression:"ruleForm.shopCategoryIdsArr"}}),e._v(" "),i("el-button",{staticStyle:{margin:"0 20px"},on:{click:function(t){e.getCategory()}}},[e._v("刷新")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.newPage1}},[e._v("添加分类")])],1),e._v(" "),i("el-form-item",{attrs:{label:"商品图片：",required:""}},[i("div",[i("el-button",{attrs:{disabled:5==e.goodsImg.length,type:"primary"},on:{click:e.showImgMaterialDia}},[e._v("添加图片"),i("i",{staticClass:"el-icon-upload el-icon--right"})]),e._v(" "),i("span",{staticStyle:{color:"#909399"}},[e._v("已上传"+e._s(e.goodsImg.length)+"张，还可上传"+e._s(5-e.goodsImg.length)+"张")])],1),e._v(" "),i("div",{staticClass:"flex-row-start",staticStyle:{padding:"20px 0"}},e._l(e.goodsImg,function(t,s){return i("div",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:t,list:e.goodsImg,group:"index"},expression:"{ item: li, list: goodsImg, group: 'index' }"}],key:s,staticClass:"li"},[i("el-popover",{attrs:{placement:"bottom",trigger:"hover"}},[i("el-button",{staticStyle:{color:"#909399"},attrs:{type:"text",icon:"el-icon-circle-close"},on:{click:function(t){t.stopPropagation(),e.deleteImg(s)}}},[e._v("删除")]),e._v(" "),i("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{slot:"reference","preview-src-list":e.bigImg,src:t.imageUrl,fit:"fill"},on:{click:function(s){e.showBig(t.imageUrl)}},slot:"reference"})],1)],1)}))]),e._v(" "),i("el-form-item",{attrs:{label:"商品视频："}},[i("div",[i("el-button",{attrs:{disabled:1==e.videoForm.length,type:"primary"},on:{click:e.showVideoMaterialDia}},[e._v("添加视频"),i("i",{staticClass:"el-icon-upload el-icon--right"})]),e._v(" "),1==e.videoForm.length?i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.videoForm=[]}}},[e._v("删除视频")]):e._e(),e._v(" "),i("span",{staticStyle:{color:"#909399"}},[e._v("仅可上传1条视频")])],1),e._v(" "),i("div",{staticClass:"flex-row-start",staticStyle:{padding:"20px 0"}},[1==e.videoForm.length?i("video",{staticClass:"avatar video-avatar",staticStyle:{width:"300px",height:"200px"},attrs:{slot:"reference",src:e.videoForm[0].imageUrl,controls:"controls"},slot:"reference"},[e._v("\n            您的浏览器不支持视频播放\n          ")]):e._e()]),e._v(" "),i("div",{staticClass:"infoFont"},[e._v("视频最大支持20M，建议时长9-30秒，建议视频宽高比16:9")])]),e._v(" "),1==e.videoForm.length?i("el-form-item",{attrs:{label:"视频封面："}},[i("el-image",{staticStyle:{width:"200px",height:"200px"},attrs:{src:e.videoForm[0].coversUrl,fit:"fill"}})],1):e._e()],1),e._v(" "),i("el-card",{staticClass:"box-card gg",staticStyle:{"margin-bottom":"20px"}},[i("div",{staticClass:"pageHead"},[e._v("规格 & 价格 & 库存")]),e._v(" "),i("el-form-item",{attrs:{label:"商品规格：",required:""}},[i("el-radio-group",{attrs:{disabled:""},model:{value:e.ruleForm.skuType,callback:function(t){e.$set(e.ruleForm,"skuType",t)},expression:"ruleForm.skuType"}},[i("el-radio",{attrs:{label:"0"}},[e._v("统一规格")]),e._v(" "),i("el-radio",{attrs:{label:"1"}},[e._v("多规格")])],1)],1),e._v(" "),0==e.ruleForm.skuType?i("div",[i("el-form-item",{attrs:{label:"成本价："}},[e._v("\n          "+e._s(e.skuType0.originPrice?e.skuType0.originPrice:"-")+"\n        ")]),e._v(" "),i("el-form-item",{attrs:{label:"划线价："}},[e._v("\n          "+e._s(e.skuType0.linePrice?e.skuType0.linePrice:"-")+"\n        ")]),e._v(" "),i("el-form-item",{attrs:{label:"销售价：",required:""}},[e._v("\n          "+e._s(e.skuType0.salePrice)+"\n        ")]),e._v(" "),i("el-form-item",{attrs:{label:"库存：",required:""}},[e._v("\n          "+e._s(e.skuType0.inventory)+"\n        ")]),e._v(" "),i("el-form-item",{attrs:{label:"单位："}},[e._v("\n          "+e._s(e.skuType0.unit)+"\n        ")]),e._v(" "),i("el-form-item",{attrs:{label:"规格编码："}},[e._v("\n          "+e._s(e.skuType0.skuCode?e.skuType0.skuCode:"-")+"\n        ")])],1):e._e(),e._v(" "),1==e.ruleForm.skuType?i("div",{staticClass:"info_box"},[i("div",{staticClass:"spec_con"},[i("span",{staticClass:"name"},[e._v("商品规格：")]),e._v(" "),i("div",{staticClass:"spec_box"},e._l(e.specArr,function(t,s){return i("div",{key:s,staticClass:"spec_row_box"},[i("div",{staticClass:"spec_name_box"},[i("span",{staticClass:"spec_name"},[e._v("规格名：")]),e._v(" "),i("el-input",{staticStyle:{width:"160px"},attrs:{disabled:"",type:"text",placeholder:"规格名",maxlength:"4","show-word-limit":""},model:{value:t.specName,callback:function(s){e.$set(t,"specName",s)},expression:"item.specName"}})],1),e._v(" "),i("div",{staticClass:"spec_value_box"},[i("span",{staticClass:"spec_value_name"},[e._v("规格值：")]),e._v(" "),i("div",{staticClass:"right_box"},e._l(t.specList,function(t,s){return i("div",{key:s,staticClass:"input_box"},[i("el-input",{staticStyle:{width:"160px"},attrs:{disabled:"",type:"text",placeholder:"规格值",maxlength:"20","show-word-limit":""},on:{input:e.creatData},model:{value:t.specValue,callback:function(s){e.$set(t,"specValue",s)},expression:"sp.specValue"}})],1)}))])])}))]),e._v(" "),i("div",{staticClass:"spec_con"},[i("span",{staticClass:"name"},[e._v("规格明细：")]),e._v(" "),i("div",{staticClass:"spec_box",staticStyle:{padding:"0","border-bottom":"0 none"}},[i("div",{staticClass:"title_box"},[i("span",{staticClass:"one_spec_name"},[e._v(e._s(e.specArr[0]&&e.specArr[0].specName))]),e._v(" "),e.specArr[1]&&e.specArr[1].specName?i("span",{staticClass:"two_spec_name"},[e._v(e._s(e.specArr[1]&&e.specArr[1].specName))]):e._e(),e._v(" "),i("span",{staticClass:"origin_price_name"},[e._v("成本价")]),e._v(" "),i("span",{staticClass:"line_price_name"},[e._v("划线价")]),e._v(" "),i("span",{staticClass:"sale_price_name"},[i("i",{staticStyle:{color:"red"}},[e._v("* ")]),e._v(" 销售价")]),e._v(" "),i("span",{staticClass:"inventory_name"},[i("i",{staticStyle:{color:"red"}},[e._v("* ")]),e._v(" 库存")]),e._v(" "),i("span",{staticClass:"unit_name"},[i("i",{staticStyle:{color:"red"}},[e._v("* ")]),e._v(" 单位")]),e._v(" "),i("span",{staticClass:"specNo_name"},[e._v("规格编码")])]),e._v(" "),e._l(e.specData,function(t,s){return i("div",{key:s,staticClass:"rows"},[i("p",{staticClass:"td"},[e._v(e._s(t.specValue))]),e._v(" "),e.specArr[1]&&e.specArr[1].specName?i("p",{staticClass:"td border"},e._l(t.children,function(t,s){return i("span",{directives:[{name:"show",rawName:"v-show",value:t.specValue,expression:"nameChild.specValue"}],key:s,staticClass:"color"},[e._v(e._s(t.specValue))])})):e._e(),e._v(" "),i("p",{staticClass:"td"},e._l(t.children,function(t,s){return i("span",{key:s},[e._v(e._s(t.originPrice?t.originPrice:"-"))])})),e._v(" "),i("p",{staticClass:"td"},e._l(t.children,function(t,s){return i("span",{key:s},[e._v(e._s(t.linePrice?t.linePrice:"-"))])})),e._v(" "),i("p",{staticClass:"td"},e._l(t.children,function(t,s){return i("span",{key:s},[e._v(e._s(t.salePrice))])})),e._v(" "),i("p",{staticClass:"td"},e._l(t.children,function(t,s){return i("span",{key:s},[e._v(e._s(t.inventory))])})),e._v(" "),i("p",{staticClass:"td flex2"},e._l(t.children,function(t,s){return i("span",{key:s},[e._v(e._s(t.unit))])})),e._v(" "),i("p",{staticClass:"td"},e._l(t.children,function(t,s){return i("span",{key:s},[e._v(e._s(t.skuCode?t.skuCode:"-"))])}))])})],2)])]):e._e()],1),e._v(" "),i("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[i("div",{staticClass:"pageHead"},[e._v("商品参数")]),e._v(" "),i("el-form-item",{attrs:{label:"参数："}},[i("el-button",{attrs:{type:"primary",disabled:8==e.parameter.length},on:{click:e.addParameter}},[e._v("添加参数"),i("i",{staticClass:"el-icon-circle-plus-outline el-icon--right"})]),e._v(" "),i("span",{staticStyle:{"margin-left":"20px",color:"#909399"}},[e._v("最多可添加8条参数")])],1),e._v(" "),e.parameter.length>0?i("el-form-item",{attrs:{label:""}},[i("el-table",{staticStyle:{width:"800px"},attrs:{data:e.parameter}},[i("el-table-column",{attrs:{label:"参数名",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{type:"text",placeholder:"请输入参数名",maxlength:"10","show-word-limit":""},model:{value:t.row.key,callback:function(s){e.$set(t.row,"key",s)},expression:"scope.row.key"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"参数值",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{type:"text",placeholder:"请输入参数值",maxlength:"15","show-word-limit":""},model:{value:t.row.value,callback:function(s){e.$set(t.row,"value",s)},expression:"scope.row.value"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text"},on:{click:function(s){e.deleteParameter(t.$index)}}},[e._v("删除")])]}}])})],1)],1):e._e()],1),e._v(" "),i("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[i("div",{staticClass:"pageHead"},[e._v("商品详情")]),e._v(" "),i("el-form-item",{attrs:{label:"商品详情：",required:""}},[i("div",{staticStyle:{width:"600px",height:"300px"},attrs:{id:"editor"}})])],1),e._v(" "),i("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[i("div",{staticClass:"pageHead"},[e._v("物流信息")]),e._v(" "),0==e.selffedchStatus?i("el-form-item",{attrs:{label:"提示："}},[i("div",[e._v("“到店自提”需在店铺设置开启后生效 \n          "),i("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.newPage2}},[e._v("去开启")]),e._v(" "),i("el-button",{attrs:{type:"text"},on:{click:e.getStatus}},[e._v("刷新")])],1)]):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"商品物流信息：",required:""}},[i("el-checkbox",{model:{value:e.ruleForm.isCompanyType,callback:function(t){e.$set(e.ruleForm,"isCompanyType",t)},expression:"ruleForm.isCompanyType"}},[e._v("物流")]),e._v(" "),i("el-checkbox",{attrs:{disabled:0==e.selffedchStatus},model:{value:e.ruleForm.isSelffetchType,callback:function(t){e.$set(e.ruleForm,"isSelffetchType",t)},expression:"ruleForm.isSelffetchType"}},[e._v("到店自提")])],1),e._v(" "),e.ruleForm.isCompanyType?i("el-form-item",{attrs:{label:"商品物流信息：",required:""}},[i("el-radio-group",{model:{value:e.ruleForm.isFreeShipping,callback:function(t){e.$set(e.ruleForm,"isFreeShipping",t)},expression:"ruleForm.isFreeShipping"}},[i("el-radio",{attrs:{label:"1"}},[e._v("包邮")]),e._v(" "),i("el-radio",{attrs:{label:"0"}},[e._v("不包邮")])],1)],1):e._e(),e._v(" "),e.ruleForm.isCompanyType&&0==e.ruleForm.isFreeShipping?i("el-form-item",{attrs:{label:"运费模板：",required:""}},[i("el-select",{attrs:{placeholder:"请选择模板"},model:{value:e.ruleForm.freightTemplateId,callback:function(t){e.$set(e.ruleForm,"freightTemplateId",t)},expression:"ruleForm.freightTemplateId"}},e._l(e.logisticsTemplate,function(e,t){return i("el-option",{key:t,attrs:{label:e.templateName,value:e.id}})})),e._v(" "),i("el-button",{staticStyle:{margin:"0 20px"},on:{click:function(t){e.getLogisticsTemplate()}}},[e._v("刷新")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.newPage}},[e._v("新建")])],1):e._e()],1),e._v(" "),i("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[i("div",{staticClass:"pageHead"},[e._v("其他信息")]),e._v(" "),i("el-form-item",{attrs:{label:"上架时间："}},[i("el-radio-group",{model:{value:e.ruleForm.salesStatus,callback:function(t){e.$set(e.ruleForm,"salesStatus",t)},expression:"ruleForm.salesStatus"}},[i("el-radio",{attrs:{label:"0"}},[e._v("立刻上架")]),e._v(" "),i("el-radio",{attrs:{label:"2"}},[e._v("放入待售")])],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"销量显示："}},[i("el-radio-group",{model:{value:e.ruleForm.showSales,callback:function(t){e.$set(e.ruleForm,"showSales",t)},expression:"ruleForm.showSales"}},[i("el-radio",{attrs:{label:"1"}},[e._v("开")]),e._v(" "),i("el-radio",{attrs:{label:"0"}},[e._v("关")])],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"评价显示："}},[i("el-radio-group",{model:{value:e.ruleForm.evaluate,callback:function(t){e.$set(e.ruleForm,"evaluate",t)},expression:"ruleForm.evaluate"}},[i("el-radio",{attrs:{label:"1"}},[e._v("开")]),e._v(" "),i("el-radio",{attrs:{label:"0"}},[e._v("关")])],1)],1)],1),e._v(" "),i("el-form-item",{staticClass:"flex-row-center"},[i("el-button",{on:{click:function(t){e.$router.push({path:"/commodity/commodityList"})}}},[e._v("返 回")]),e._v(" "),i("el-button",{attrs:{loading:e.subLoading,type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"图片库",visible:e.showImgMaterial,width:"70%"},on:{"update:visible":function(t){e.showImgMaterial=t}}},[i("imageMaterial",{attrs:{limitType:e.limitType,getPost:e.getPost,multiple:!0,totalNum:5,selectNum:e.selectNum},on:{onlyclose:e.onlyclose,subMit:e.subMit}})],1),e._v(" "),i("el-dialog",{attrs:{title:"视频库",visible:e.showVideoMaterial,width:"70%"},on:{"update:visible":function(t){e.showVideoMaterial=t}}},[i("videoMaterial",{attrs:{limitType:!0,getPost:e.getPost,multiple:!1,totalNum:1,selectNum:0},on:{onlyclose:e.onlyCloseVideo,subMit:e.subMitVideo}})],1),e._v(" "),i("el-dialog",{attrs:{title:"商品描述示例",visible:e.spms,width:"30%",center:""},on:{"update:visible":function(t){e.spms=t}}},[i("img",{staticStyle:{"max-width":"100%",margin:"0 auto"},attrs:{src:s("mtBR"),alt:""}}),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.spms=!1}}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"分享描述示例",visible:e.fxms,width:"30%",center:""},on:{"update:visible":function(t){e.fxms=t}}},[i("div",{staticClass:"tac"},[e._v("当商品参加营销活动时，展示活动分享标题及文案。")]),e._v(" "),i("img",{staticStyle:{"max-width":"100%",margin:"0 auto"},attrs:{src:s("IneS"),alt:""}}),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.fxms=!1}}},[e._v("确 定")])],1)])],1)},[],!1,null,"29d6da7a",null);f.options.__file="editCommodity.vue";t.default=f.exports},Iu7e:function(e,t,s){"use strict";var i=s("/Lil");s.n(i).a},"i/Tg":function(e,t,s){"use strict";s.d(t,"d",function(){return r}),s.d(t,"j",function(){return o}),s.d(t,"b",function(){return a}),s.d(t,"c",function(){return l}),s.d(t,"g",function(){return n}),s.d(t,"i",function(){return c}),s.d(t,"h",function(){return u}),s.d(t,"a",function(){return p}),s.d(t,"f",function(){return d}),s.d(t,"e",function(){return m});var i=s("t3Un");function r(e){return Object(i.a)({url:"/product/business/product/getProductInfoList",method:"post",data:e})}function o(e,t){return Object(i.a)({url:"/product/business/product/updateSalesStatus?id="+e+"&salesStatus="+t,method:"get"})}function a(e){return Object(i.a)({url:"/product/business/product/deleteProduct?id="+e,method:"delete"})}function l(e){return Object(i.a)({url:"/product/business/product/getProductInfoById?productId="+e,method:"get"})}function n(e,t,s){return Object(i.a)({url:"/product/business/product/restoreDeleteStatus?productIds="+e+"&salesStatus="+t+"&shopId="+s,method:"get"})}function c(e){return Object(i.a)({url:"/product/business/product/updateProductCategoryShop",method:"post",data:e})}function u(e){return Object(i.a)({url:"/product/business/product/updateProduct",method:"post",data:e})}function p(e){return Object(i.a)({url:"/sys/business/shopActivity/checkProduct",method:"post",data:e})}function d(e){return Object(i.a)({url:"/product/subgroupProduct/getSubgroupProductList",method:"post",data:e})}function m(e){return Object(i.a)({url:"/product/subgroupProduct/getSubgroupProductInfos?productIds="+e,method:"get"})}}}]);
//# sourceMappingURL=chunk-ba9a.423c4be9.js.map