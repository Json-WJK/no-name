(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f999"],{MYvg:function(t,e,a){"use strict";a.r(e);var s=a("QbLZ"),n=a.n(s),l=a("L2JU"),i=a("takL"),r={data:function(){return{searchList:{pageNum:1,pageSize:5},list:[],listTotal:0,roleList:[]}},created:function(){this.searchList.shopId=this.shop.shopId,this.getList(),this.getData()},methods:{getData:function(){var t=this;console.log("请求的数据",this.searchList),Object(i.b)(this.searchList).then(function(e){console.log("数据列表",e),200==e.code&&(t.list=e.data.list,t.listTotal=e.data.total)})},getList:function(){var t=this;Object(i.d)({shopId:this.shop.shopId}).then(function(e){console.log("所有角色",e),200==e.code&&(t.roleList=e.data)})},changeItem:function(t,e){var a=this;this.$confirm("确定"+(0==e?"启":"禁")+"用此用户？"+(1==e?"禁用后此用户将无法登录筷赚后台，请谨慎操作！":""),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.f)({id:t,enabled:e}).then(function(t){console.log("启用、禁用角色",t),200==t.code?(a.$message({message:t.message,type:"success"}),a.getData()):a.$message.error(t.message)})}).catch(function(){})},reset:function(){this.searchList.userName="",this.searchList.cellPhone="",this.searchList.roleId="",this.searchList.enabled="",this.getData()},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.searchList.pageSize=t,this.getData()},handleCurrentChange:function(t){console.log("当前页: "+t),this.searchList.pageNum=t,this.getData()},change:function(){this.$forceUpdate()}},computed:n()({},Object(l.c)(["user","shop"]))},o=(a("mjo5"),a("KHd+")),c=Object(o.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pageContent"},[a("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[a("div",[a("i",{staticClass:"el-icon-search"}),t._v(" "),a("span",[t._v("筛选搜索")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.getData}},[t._v("查询")]),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:t.reset}},[t._v("重置")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.searchList,size:"small","label-width":"140px"}},[a("el-form-item",{attrs:{label:"姓名："}},[a("el-input",{staticStyle:{width:"203px"},attrs:{clearable:"",placeholder:"请输入姓名"},on:{input:function(e){t.change(e)}},model:{value:t.searchList.userName,callback:function(e){t.$set(t.searchList,"userName",e)},expression:"searchList.userName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号："}},[a("el-input",{staticStyle:{width:"203px"},attrs:{clearable:"",placeholder:"请输入手机号"},on:{input:function(e){t.change(e)}},model:{value:t.searchList.cellPhone,callback:function(e){t.$set(t.searchList,"cellPhone",e)},expression:"searchList.cellPhone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属角色："}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择所属角色"},model:{value:t.searchList.roleId,callback:function(e){t.$set(t.searchList,"roleId",e)},expression:"searchList.roleId"}},t._l(t.roleList,function(t,e){return a("el-option",{key:e,attrs:{label:t.roleName,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择状态"},model:{value:t.searchList.enabled,callback:function(e){t.$set(t.searchList,"enabled",e)},expression:"searchList.enabled"}},[a("el-option",{attrs:{label:"启用",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"1"}})],1)],1)],1)],1)]),t._v(" "),a("el-card",{staticClass:"operate-container",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[a("div",{staticClass:"flex-row-between",staticStyle:{width:"100%"}},[a("div",[a("i",{staticClass:"el-icon-tickets"}),t._v(" "),a("span",[t._v("数据列表")])]),t._v(" "),a("div",{staticStyle:{"padding-right":"20px"}},[a("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.$router.push({path:"/systemSetting/userManage/newUser"})}}},[t._v("新增用户")])],1)])]),t._v(" "),a("div",[a("el-card",{staticClass:"filter-container",staticStyle:{"margin-top":"20px"},attrs:{shadow:"never"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{prop:"userName",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cellPhone",label:"手机号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"roleName",label:"所属角色"}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:"常用邮箱"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.enabled?a("div",[t._v("启用")]):t._e(),t._v(" "),1==e.row.enabled?a("div",{staticClass:"dangerFont"},[t._v("禁用")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.$router.push({path:"/systemSetting/userManage/userInfo",query:{id:e.row.id}})}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.$router.push({path:"/systemSetting/userManage/editUser",query:{id:e.row.id}})}}},[t._v("修改")]),t._v(" "),1==e.row.enabled?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.changeItem(e.row.id,0)}}},[t._v("启用")]):t._e(),t._v(" "),0==e.row.enabled?a("el-button",{staticClass:"dangerFont",attrs:{type:"text",size:"small"},on:{click:function(a){t.changeItem(e.row.id,1)}}},[t._v("禁用")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"flex-row-end",staticStyle:{"padding-top":"20px"}},[a("div",[a("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":t.searchList.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.listTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1)],1)],1)},[],!1,null,"79f2674e",null);c.options.__file="userManage.vue";e.default=c.exports},kPIp:function(t,e,a){},mjo5:function(t,e,a){"use strict";var s=a("kPIp");a.n(s).a},takL:function(t,e,a){"use strict";a.d(e,"d",function(){return n}),a.d(e,"b",function(){return l}),a.d(e,"a",function(){return i}),a.d(e,"e",function(){return r}),a.d(e,"f",function(){return o}),a.d(e,"c",function(){return c});var s=a("t3Un");function n(t){return Object(s.a)({url:"/sys/sysUser/findRoleByShopId",method:"post",data:t})}function l(t){return Object(s.a)({url:"/sys/sysUser/findByCondition",method:"post",data:t})}function i(t){return Object(s.a)({url:"/sys/sysUser/add",method:"post",data:t})}function r(t){return Object(s.a)({url:"/sys/sysUser/update",method:"post",data:t})}function o(t){return Object(s.a)({url:"/sys/sysUser/updateEnable",method:"post",data:t})}function c(t){return Object(s.a)({url:"/sys/sysUser/findById",method:"post",data:t})}}}]);
//# sourceMappingURL=chunk-f999.422ed5a4.js.map