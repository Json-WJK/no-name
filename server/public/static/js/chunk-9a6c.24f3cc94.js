(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9a6c"],{"5z0b":function(t,e,a){"use strict";var s=a("uK6k");a.n(s).a},G40d:function(t,e,a){"use strict";a.r(e);var s=a("QbLZ"),i=a.n(s),l=a("L2JU"),r=a("t3Un");var o={data:function(){return{searchList:{pageSize:5,pageNum:1,time:[],tabType:"11"},pickerOptions:{shortcuts:[{text:"今天",onClick:function(t){var e=new Date;e.setTime(e.getTime()),e.setHours(e.getHours()),e.setMinutes(e.getMinutes()),e.setSeconds(e.getSeconds());var a=new Date;a.setTime(a.getTime()),a.setHours(0),a.setMinutes(0),a.setSeconds(0),t.$emit("pick",[a,e])}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),e.setHours(23),e.setMinutes(59),e.setSeconds(59);var a=new Date;a.setTime(a.getTime()-864e5),a.setHours(0),a.setMinutes(0),a.setSeconds(0),t.$emit("pick",[a,e])}},{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}}]},list:[],listTotal:0}},created:function(){this.searchList.shopId=this.shop.shopId,this.getData()},methods:{getData:function(){var t=this;this.searchList.startDate=this.searchList.time[0]||"",this.searchList.endDate=this.searchList.time[1]||"",this.searchList.tradeType=11==this.searchList.tabType?"":this.searchList.tabType,function(t){return Object(r.a)({url:"/sys/shopAsset/getShopTradBill",method:"post",data:t})}(this.searchList).then(function(e){console.log("数据列表",e),200==e.code&&(t.list=e.data.list,t.listTotal=e.data.total)})},reset:function(){this.searchList.startDate="",this.searchList.endDate="",this.searchList.time=[],this.searchList.settleState="",this.searchList.businessNumber="",this.searchList.wxNumber="",this.searchList.payType="",this.getData()},goToInfo:function(t){return 3==t.tradeType?(console.log("充值"),void this.$emit("changeActive","1")):25==t.tradeType?(console.log("提现"),void this.$router.push({path:"/assetsManage/account/cashoutDetail",query:{id:t.id}})):6==t.tradeType?(console.log("会员卡开通记录"),void this.$router.push({path:"/memberManage/memberCenter",query:{type:1}})):void this.$router.push({path:"/order/orderList/orderinfo",query:{orderId:t.orderId}})},goToMybill:function(t){this.$router.push({path:"/assetsManage/myBill",query:{orderId:t.orderId,afterSaleId:t.afterSaleId}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.searchList.pageSize=t,this.getData()},handleCurrentChange:function(t){console.log("当前页: "+t),this.searchList.pageNum=t,this.getData()},change:function(){this.$forceUpdate()}},computed:i()({},Object(l.c)(["user","shop"]))},n=(a("5z0b"),a("KHd+")),c=Object(n.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pageContent"},[a("el-card",{staticClass:"operate-container mt10",attrs:{shadow:"never"}},[a("div",[a("i",{staticClass:"el-icon-search"}),t._v(" "),a("span",[t._v("筛选搜索")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.getData}},[t._v("查询")]),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:t.reset}},[t._v("重置")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.searchList,size:"small","label-width":"140px"}},[a("el-form-item",{attrs:{label:"时间："}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchList.time,callback:function(e){t.$set(t.searchList,"time",e)},expression:"searchList.time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"结算状态："}},[a("el-select",{attrs:{clearable:""},model:{value:t.searchList.settleState,callback:function(e){t.$set(t.searchList,"settleState",e)},expression:"searchList.settleState"}},[a("el-option",{attrs:{label:"待结算",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"已结算",value:"2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"订单编号："}},[a("el-input",{staticStyle:{width:"203px"},attrs:{clearable:"",placeholder:"订单编号"},on:{input:function(e){t.change(e)}},model:{value:t.searchList.businessNumber,callback:function(e){t.$set(t.searchList,"businessNumber",e)},expression:"searchList.businessNumber"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"支付单号/流水号："}},[a("el-input",{staticStyle:{width:"203px"},attrs:{clearable:"",placeholder:"支付单号/流水号"},on:{input:function(e){t.change(e)}},model:{value:t.searchList.wxNumber,callback:function(e){t.$set(t.searchList,"wxNumber",e)},expression:"searchList.wxNumber"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"支付模式："}},[a("el-select",{attrs:{clearable:""},model:{value:t.searchList.payType,callback:function(e){t.$set(t.searchList,"payType",e)},expression:"searchList.payType"}},[a("el-option",{attrs:{label:"微信支付-自有",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"微信支付-代销",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"小程序",value:"2"}})],1)],1)],1)],1)]),t._v(" "),a("el-card",{staticClass:"operate-container mt10",attrs:{shadow:"never"}},[a("div",{staticClass:"flex-row-start",staticStyle:{width:"100%"}},[a("div",[a("i",{staticClass:"el-icon-tickets"}),t._v(" "),a("span",[t._v("数据列表")])])])]),t._v(" "),a("el-card",{staticClass:"filter-container",staticStyle:{"margin-top":"20px"},attrs:{shadow:"never"}},[a("el-tabs",{on:{"tab-click":t.getData},model:{value:t.searchList.tabType,callback:function(e){t.$set(t.searchList,"tabType",e)},expression:"searchList.tabType"}},[a("el-tab-pane",{attrs:{label:"全部",name:"11"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"进行中",name:"0"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"待结算",name:"1"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"退款",name:"10"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"交易成功",name:"2"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"交易关闭（失败）",name:"3"}})],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.row.details,"tooltip-effect":"dark","show-header":!1}},[a("el-table-column",{attrs:{width:"200",prop:"createTime"}}),t._v(" "),a("el-table-column",{attrs:{width:"400",prop:"description"}}),t._v(" "),a("el-table-column",{attrs:{width:"200",prop:"businessNumber"}}),t._v(" "),a("el-table-column",{attrs:{width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.wxNumber?e.row.wxNumber:"-"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"对方名称",width:"200",prop:"toUser"}}),t._v(" "),a("el-table-column",{attrs:{width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.settleState?a("div",{staticClass:"flex-row-center"},[a("div",{staticClass:"infoFont"},[t._v("￥"+t._s(e.row.amount>0?"+"+e.row.amount:e.row.amount))]),t._v(" "),a("el-tag",{staticStyle:{"margin-left":"4px"},attrs:{type:"danger"}},[t._v("未入账")])],1):1==e.row.settleState?a("div",{staticClass:"flex-row-center"},[a("div",{staticClass:"infoFont"},[t._v("￥"+t._s(e.row.amount>0?"+"+e.row.amount:e.row.amount))]),t._v(" "),a("el-tag",{staticStyle:{"margin-left":"4px"},attrs:{type:"danger"}},[t._v("未入账")])],1):a("div",{staticClass:"flex-row-center"},[a("div",{staticClass:"succeseFont"},[t._v("￥"+t._s(e.row.amount>0?"+"+e.row.amount:e.row.amount))]),t._v(" "),3!=e.row.tradeType&&25!=e.row.tradeType?a("i",{staticClass:"warningFont el-icon-caret-bottom curP",staticStyle:{"font-size":"20px"},on:{click:function(a){t.goToMybill(e.row)}}}):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"单据状态",width:"200",prop:"settleStateName"}}),t._v(" "),a("el-table-column",{attrs:{label:"结算状态",width:"200",prop:"updateStatusName"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"时间",width:"200",prop:"createTime"}}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"名称",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"flex-row-center"},[a("div",[t._v(t._s(e.row.description))]),t._v(" "),0==e.row.payType?a("el-tag",{staticStyle:{"margin-left":"4px"},attrs:{type:"warning"}},[t._v("代销")]):t._e(),t._v(" "),1==e.row.payType||2==e.row.payType?a("el-tag",{staticStyle:{"margin-left":"4px"}},[t._v("自有")]):t._e()],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"订单编号",width:"200",prop:"businessNumber"}}),t._v(" "),a("el-table-column",{attrs:{label:"支付单号/流水号",width:"200",prop:"wxNumber"}}),t._v(" "),a("el-table-column",{attrs:{label:"对方名称",width:"200",prop:"toUser"}}),t._v(" "),a("el-table-column",{attrs:{width:"200"},scopedSlots:t._u([{key:"header",fn:function(e){return[t._v("\n          单据合计入账金额/明细\n          "),a("el-tooltip",{staticClass:"item",attrs:{"data-type":e.row,effect:"dark",content:"合计预计入账金额=订单入账部分 - 退款部分；包含待结算账单；只是预估入账金额，具体金额以实际入账为准；",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])]}},{key:"default",fn:function(e){return[0==e.row.settleState?a("div",{staticClass:"flex-row-center"},[a("div",{staticClass:"infoFont"},[t._v("￥"+t._s(e.row.amount>0?"+"+e.row.amount:e.row.amount))]),t._v(" "),a("el-tag",{staticStyle:{"margin-left":"4px"},attrs:{type:"danger"}},[t._v("未入账")])],1):1==e.row.settleState?a("div",{staticClass:"flex-row-center"},[a("div",{staticClass:"infoFont"},[t._v("￥"+t._s(e.row.amount>0?"+"+e.row.amount:e.row.amount))]),t._v(" "),a("el-tag",{staticStyle:{"margin-left":"4px"},attrs:{type:"danger"}},[t._v("未入账")])],1):a("div",{staticClass:"flex-row-center"},[a("div",{staticClass:"succeseFont"},[t._v("￥"+t._s(e.row.amount>0?"+"+e.row.amount:e.row.amount))]),t._v(" "),3!=e.row.tradeType&&25!=e.row.tradeType?a("i",{staticClass:"warningFont el-icon-caret-bottom curP",staticStyle:{"font-size":"20px"},on:{click:function(a){t.goToMybill(e.row)}}}):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"单据状态",width:"200",prop:"settleStateName"}}),t._v(" "),a("el-table-column",{attrs:{label:"结算状态",width:"200",prop:"updateStatusName"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.goToInfo(e.row)}}},[t._v("详情")])]}}])})],1),t._v(" "),a("div",{staticClass:"flex-row-end",staticStyle:{"padding-top":"20px"}},[a("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":t.searchList.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.listTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)},[],!1,null,"7e58900e",null);c.options.__file="billCheck.vue";e.default=c.exports},uK6k:function(t,e,a){}}]);
//# sourceMappingURL=chunk-9a6c.24f3cc94.js.map