{"version":3,"sources":["webpack:///./src/api/marketManage/coupon.js","webpack:///./src/api/commodity/commodityClassify.js","webpack:///./src/views/marketManage/coupon/components/commodity.vue?88ee","webpack:///./src/views/marketManage/coupon/components/commodity.vue?65d2","webpack:///src/views/marketManage/coupon/components/commodity.vue","webpack:///./src/views/marketManage/coupon/components/commodity.vue"],"names":["__webpack_require__","d","__webpack_exports__","getCouponInfoPage","getCouponProductPage","getCouponUserPage","addCouponInfo","editCouponInfo","couponData","findCouponInfo","deleteCouponInfo","userCouponProductPage","getCouponInfoSubGroupPage","getCouponInfoSubGroupInfo","getCouponCodeUrl","_utils_request__WEBPACK_IMPORTED_MODULE_0__","data","request","url","method","shopId","couponId","getProductCategoryInfoList","insertProductCategoryShop","deleteProductCategoryShop","isCategoryNameExist","updateProductCategoryShopOrderNo","updateProductCategoryShop","getProductCategoryShopAllList","getProductCategoryInfoPageList","name","level","parentId","id","components_commodityvue_type_script_lang_js_","props","watch","commodityShow","newvalue","oldValue","this","getData","fromLoading","searchList","shopCategoryIdArr","pageNum","pageSize","category","list","listTotal","multipleSelection","created","shop","methods","sub","console","log","length","$emit","$refs","multipleTable","clearSelection","$message","error","toggleSelection","rows","_this","forEach","row","toggleRowSelection","handleSelectionChange","val","handleSizeChange","handleCurrentChange","reset","productName","_this2","productIds","commodityIds","shopCategoryPid","shopCategoryId","Object","coupon","then","res","code","total","getCategory","_this3","commodityClassify","close","change","$forceUpdate","computed","extends_default","vuex_esm","component","componentNormalizer","_vm","_h","$createElement","_c","_self","attrs","append-to-body","title","visible","width","close-on-click-modal","close-on-press-escape","show-close","on","update:visible","$event","staticClass","shadow","_v","staticStyle","float","type","size","click","margin-right","margin-top","inline","model","label-width","label","clearable","placeholder","input","value","callback","$$v","$set","expression","options","checkStrictly","ref","tooltip-effect","selection-change","scopedSlots","_u","key","fn","scope","placement","trigger","max-height","max-width","slot","src","imageUrl","alt","prop","_s","minPrice","maxPrice","padding","page-sizes","page-size","layout","size-change","current-change","__file"],"mappings":"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","file":"static/js/chunk-6067.fd82bed0.js","sourcesContent":["import request from '@/utils/request'\r\n// 分页查询优惠券\r\nexport function getCouponInfoPage(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponInfoPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 分页查询可添加优惠券商品\r\nexport function getCouponProductPage(data) {\r\n  return request({\r\n    url: `/sys/couponProduct/getCouponProductPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 分页查询优惠券可添加用户\r\nexport function getCouponUserPage(data) {\r\n  return request({\r\n    url: `/sys/couponProduct/getCouponUserPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 添加优惠券\r\nexport function addCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/addCouponInfo`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 编辑优惠券\r\nexport function editCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/editCouponInfo`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 优惠券使用数据\r\nexport function couponData(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/couponData?couponId=${data}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 查询优惠券详情\r\nexport function findCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/findCouponInfo?couponId=${data}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 优惠券失效\r\nexport function deleteCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/deleteCouponInfo?couponId=${data}`,\r\n    method: 'DELETE',\r\n  })\r\n}\r\n// 优惠券商品使用列表\r\nexport function userCouponProductPage(data) {\r\n  return request({\r\n    url: `/sys/couponProduct/userCouponProductPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 组件 - 列表\r\nexport function getCouponInfoSubGroupPage(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponInfoSubGroupPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 组件 - 回显\r\nexport function getCouponInfoSubGroupInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponInfoSubGroupInfo?couponIdStr=${data}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 优惠券推广\r\nexport function getCouponCodeUrl(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponCodeUrl?shopId=${data.shopId}&couponId=${data.couponId}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// export function getCouponCodeUrl(data) {\r\n//   return request({\r\n//     url: `/sys/couponInfo/getCouponCodeUrl`,\r\n//     method: 'post',\r\n//     data: data\r\n//   })\r\n// }\r\n\r\n","import request from '@/utils/request'\r\n// 店铺分类列表\r\nexport function getProductCategoryInfoList(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/getProductCategoryInfoList`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 新增分类\r\nexport function insertProductCategoryShop(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/insertProductCategoryShop`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 删除分类\r\nexport function deleteProductCategoryShop(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/deleteProductCategoryShop`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 查询店内分类名称是否存在\r\nexport function isCategoryNameExist(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/isCategoryNameExist?name=${data.name}&level=${data.level}&shopId=${data.shopId}&parentId=${data.parentId}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 更新商品分类排序\r\nexport function updateProductCategoryShopOrderNo(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/updateProductCategoryShopOrderNo`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 更新分类名称\r\nexport function updateProductCategoryShop(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/updateProductCategoryShop`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 查询店内分类名称是否存在\r\nexport function getProductCategoryShopAllList(id) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/getProductCategoryShopAllList?shopId=${id}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 分页查询商品店铺分类\r\nexport function getProductCategoryInfoPageList(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/getProductCategoryInfoPageList`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"append-to-body\":true,\"title\":\"新增商品列表\",\"visible\":_vm.commodityShow,\"width\":\"70%\",\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"show-close\":false},on:{\"update:visible\":function($event){_vm.commodityShow=$event}}},[_c('el-card',{staticClass:\"filter-container\",attrs:{\"shadow\":\"never\"}},[_c('div',[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" \"),_c('span',[_vm._v(\"筛选搜索\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.getData}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"size\":\"small\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.searchList,\"size\":\"small\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"商品名称\"},on:{\"input\":function($event){_vm.change($event)}},model:{value:(_vm.searchList.productName),callback:function ($$v) {_vm.$set(_vm.searchList, \"productName\", $$v)},expression:\"searchList.productName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品类目：\"}},[_c('el-cascader',{attrs:{\"options\":_vm.category,\"props\":{ checkStrictly: true },\"clearable\":\"\"},model:{value:(_vm.searchList.shopCategoryIdArr),callback:function ($$v) {_vm.$set(_vm.searchList, \"shopCategoryIdArr\", $$v)},expression:\"searchList.shopCategoryIdArr\"}})],1)],1)],1)]),_vm._v(\" \"),_c('el-card',{staticClass:\"filter-container\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"shadow\":\"never\"}},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"tooltip-effect\":\"dark\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品图片\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"right\",\"title\":\"\",\"trigger\":\"hover\"}},[_c('el-image',{staticStyle:{\"max-height\":\"40px\",\"max-width\":\"40px\"},attrs:{\"slot\":\"reference\",\"src\":scope.row.imageUrl,\"alt\":scope.row.imageUrl},slot:\"reference\"}),_vm._v(\" \"),_c('el-image',{staticStyle:{\"max-height\":\"350px\",\"max-width\":\"350px\"},attrs:{\"src\":scope.row.imageUrl}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"prop\":\"productName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"可用库存\",\"width\":\"140\",\"prop\":\"stock\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品售价（元）\",\"width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s('￥' +  scope.row.minPrice + ' ~ ￥' + scope.row.maxPrice))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"已参与活动\",\"prop\":\"activeName\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"padding\":\"10px 0 20px 0\"}},[_c('el-pagination',{attrs:{\"page-sizes\":[5, 10, 15, 20],\"page-size\":_vm.searchList.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.listTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sub}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/happypack/loader.js?id=js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commodity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/happypack/loader.js?id=js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commodity.vue?vue&type=script&lang=js&\"","<template>\r\n  <el-dialog :append-to-body=\"true\" title=\"新增商品列表\" :visible.sync=\"commodityShow\" width=\"70%\" :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :show-close=\"false\">\r\n    <!-- 筛选条件 -->\r\n    <el-card class=\"filter-container\" shadow=\"never\">\r\n      <div>\r\n        <i class=\"el-icon-search\"></i>\r\n        <span>筛选搜索</span>\r\n        <el-button style=\"float: right\" @click=\"getData\" type=\"primary\" size=\"small\">查询</el-button>\r\n        <el-button style=\"float: right;margin-right: 15px\" @click=\"reset\" size=\"small\">重置</el-button>\r\n      </div>\r\n      <div style=\"margin-top: 15px\">\r\n        <el-form :inline=\"true\" :model=\"searchList\" size=\"small\" label-width=\"140px\">\r\n          <el-form-item label=\"商品名称：\">\r\n            <el-input style=\"width: 203px\" v-model=\"searchList.productName\" clearable placeholder=\"商品名称\" @input=\"change($event)\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"商品类目：\">\r\n            <el-cascader\r\n              v-model=\"searchList.shopCategoryIdArr\"\r\n              :options=\"category\"\r\n              :props=\"{ checkStrictly: true }\"\r\n              clearable></el-cascader>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </el-card>\r\n    <el-card class=\"filter-container\" shadow=\"never\" style=\"margin-top:10px;\">\r\n      <el-table\r\n        ref=\"multipleTable\"\r\n        :data=\"list\"\r\n        tooltip-effect=\"dark\"\r\n        style=\"width: 100%\"\r\n        @selection-change=\"handleSelectionChange\">\r\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n        <el-table-column label=\"商品图片\" width=\"140\">\r\n          <template slot-scope=\"scope\">\r\n            <el-popover placement=\"right\" title trigger=\"hover\">\r\n              <el-image\r\n                slot=\"reference\"\r\n                :src=\"scope.row.imageUrl\"\r\n                :alt=\"scope.row.imageUrl\"\r\n                style=\"max-height: 40px;max-width: 40px\"\r\n              ></el-image>\r\n              <el-image :src=\"scope.row.imageUrl\" style=\"max-height: 350px;max-width: 350px\"></el-image>\r\n            </el-popover>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"商品名称\" prop=\"productName\"></el-table-column>\r\n        <el-table-column label=\"可用库存\" width=\"140\" prop=\"stock\"></el-table-column>\r\n        <el-table-column label=\"商品售价（元）\" width=\"240\">\r\n          <template slot-scope=\"scope\">{{'￥' +  scope.row.minPrice + ' ~ ￥' + scope.row.maxPrice }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"已参与活动\" prop=\"activeName\"></el-table-column>\r\n      </el-table>\r\n      <div style=\"padding:10px 0 20px 0;\">\r\n        <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :page-sizes=\"[5, 10, 15, 20]\"\r\n          :page-size=\"searchList.pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"listTotal\">\r\n        </el-pagination>\r\n      </div>\r\n    </el-card>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"close\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"sub\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { getProductCategoryShopAllList } from '@/api/commodity/commodityClassify'\r\nimport { getCouponProductPage } from '@/api/marketManage/coupon'\r\n\r\nexport default {\r\n  props: [\"commodityIds\",\"commodityShow\"],\r\n  watch:{\r\n    commodityShow(newvalue,oldValue){\r\n      if(newvalue){\r\n        this.getData();\r\n      }\r\n    },\r\n  },\r\n  data(){\r\n    return{\r\n      fromLoading:false,\r\n      searchList:{\r\n        shopCategoryIdArr:[],\r\n        pageNum:1,\r\n        pageSize:5\r\n      },\r\n      category:[],\r\n      list:[],\r\n      listTotal:0,\r\n      multipleSelection:[],           // 勾选的数据\r\n    }\r\n  },\r\n  created(){\r\n    this.searchList.shopId = this.shop.shopId\r\n  },\r\n  methods:{\r\n    sub(){\r\n      console.log('multipleSelection',this.multipleSelection)\r\n      if(this.multipleSelection.length == 0){\r\n        this.$message.error('请选择商品后再试');\r\n        return;\r\n      }\r\n      this.$emit('commodityFun',this.multipleSelection)\r\n      this.$refs.multipleTable.clearSelection();\r\n    },\r\n    toggleSelection(rows) {\r\n      if (rows) {\r\n        rows.forEach(row => {\r\n          this.$refs.multipleTable.toggleRowSelection(row);\r\n        });\r\n      } else {\r\n        this.$refs.multipleTable.clearSelection();\r\n      }\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n      this.searchList.pageSize = val;\r\n      this.getData()\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.searchList.pageNum = val;\r\n      this.getData()\r\n    },\r\n    reset(){\r\n      this.searchList.productName = ''\r\n      this.searchList.shopCategoryIdArr = []\r\n      this.getData();\r\n    },\r\n    // 列表 - 获取数据\r\n    getData(){\r\n      this.fromLoading = true\r\n      this.searchList.productIds = this.commodityIds || ''\r\n      this.searchList.shopCategoryPid = this.searchList.shopCategoryIdArr[0] || ''\r\n      this.searchList.shopCategoryId = this.searchList.shopCategoryIdArr[1] || ''\r\n      console.log('请求的数据',this.searchList)\r\n      getCouponProductPage(this.searchList).then(res=>{\r\n        console.log('可添加优惠券的商品列表',res)\r\n        if(res.code == 200){\r\n          this.list = res.data.list\r\n          this.listTotal = res.data.total\r\n          this.getCategory()\r\n        }\r\n        this.fromLoading = false\r\n      })\r\n    },\r\n    // 获取全部分类\r\n    getCategory(){\r\n      getProductCategoryShopAllList(this.shop.shopId).then(res=>{\r\n        console.log('获取店铺分类',res)\r\n        this.category = res.data\r\n      })\r\n    },\r\n    close(){\r\n      this.$emit('commodityClose',true)\r\n    },\r\n    change(){\r\n      this.$forceUpdate()\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'user',\r\n      'shop'\r\n    ])\r\n  },\r\n}\r\n</script>","import { render, staticRenderFns } from \"./commodity.vue?vue&type=template&id=f87b25a8&\"\nimport script from \"./commodity.vue?vue&type=script&lang=js&\"\nexport * from \"./commodity.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"commodity.vue\"\nexport default component.exports"],"sourceRoot":""}