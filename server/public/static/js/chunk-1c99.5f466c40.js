(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1c99"],{"/H7o":function(t,e,i){},"/vX6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAE6ElEQVRoQ9WZW0hlVRjHf8sbhrcxDQXHSwqamo6X1CQ1whIRCaQgfKiQrIceeq9gmoLqPaiHMoZ6kaAYCBGxpFLL1FFHTU1B8woKmncavK34FnvL8XiObk9U7O/F49p7r/Xf/++//utbaysCDK11MPAgEA88BjwO5AIPA9eAB4C/gC3gD2AC+BW4C6wDfyqljgMZXl31Ia11KFAGPANUAgUWSCd9aesl7gE9wHdAv1Lq8Co4nAx02p/WOg94B6iwGBa2Aw1hWRjvBW4ppX5z2pEj0FprkcCrwFtApN350dER9+/fZ3t7m5WVFdbX181vaTs+PiY4OJjw8HBiYmKIj48nKSnJ/Ja2kJAQT4x7wAfAZ0opeZEL41LQWmtJ/7tAHWBGOjg4YHl5mcXFRVZXV9nd3UVryfwlgylFVFQUiYmJpKSkcP36dcLCwk45ANolk0opkY/f8Ataay3XngY+Ah6xexA2BwcHWVtbM+ADDQGbkJBASUmJyYJH/A68AXyvlPLJhE/QFuB64FMgUTqUlI+OjjI2NuaIVacvo5QiPz+fGzduGNlYsQq8BrT5Au4PtDjDlzbgra0tw+7CwgInJydO8Ti+LygoiNTUVMP6tWviliYE+EtKKXGYM3EOtKXhVlsSGxsbdHV1mQnmRLeOkXoDUcpM0urqauLi4uyrIpVGb42fAW25xOfAs/KUMNzZ2Wn+/lchTNfU1Hgy/i3wiqereIN+E3hPXEI03NPTw/z8/L/K8LnUK0VaWhqVlZW2xo+Am0qpD+17T0FrrR8F+mwf7u/vZ3x8/IyGRXu5ubnGNWZnZxGfDjTEpzMyMozlTUxMnBsnLy+PsjJZeE2Ij5fbC5ABbS3NouPn5H+xtTt37pxjWDoqLy837eIkIyMjHB5eaQU2CEJDQyksLDSOIe7R19dnCPIMaW9oaPC0w28sfR/aoGVZ/hpIEBZl4i0tLZ0jMSsri6qqKjOQAJ+cnGRoaMjYodMQWysuLiYnJ+e0n+7ubqanp891kZycbCamtQCtAc8rpXqVVa3dBN4Ggufm5pBOfC0cktKioqJThsT+pqamGBgYcMS4MFxaWkp2djYiNTtjw8PDPqUmYIWk9PR0eSGpVd6XOSegHwK+Ap4Sjfb29jIzM+OXOH8DXyYVb0k4feHMzEwqKirsWuUH4AUBnQ38DMTu7e3R1tbGzs7Ohdn2leKLpHLV+z0Hj46Opr6+nshIU6dtAk8I6BeBLwAllVp7e7sji3PKXKCZObU3pairqzMVongG8LKA/hh4XVpEm/fuXVhgncnAZYCcvthlk7igoMDMBSs+EdA/Ak9Kg7AsJedVwl/qRS7iEJ4uEYjbCBYpYYVtK34S0AtAijS0traa2viq4YvR/f19IiIizrjEZZPV37hSgzc2NtqXFwX0NhAtLbdv33ZkXb4695aKfY9Tl7iIKOm7qanJvmVHQEslL5tVWlpa/lHpGRsbS21trdmd2CGZ6+joYHNTJn5gIZ7e3NxsP3zoWqZdqWlXuocrfdqVK6Iraw9XVnlyHueuetqUTlq7a+digZYV0V17RAu4HOP+4prduL2oa63dde5hsS3Hl+46YbKAy3m0e87yPGTirlNTi205xHHX+bQHcPd8CfDcX7jqm4sXcHd93fICL8fBt1zxHdELuLu+2HqB/9++jf8NhRh7u/GEnU8AAAAASUVORK5CYII="},"2ixT":function(t,e,i){},"2rhy":function(t,e,i){"use strict";i.d(e,"g",function(){return s}),i.d(e,"b",function(){return o}),i.d(e,"a",function(){return n}),i.d(e,"j",function(){return l}),i.d(e,"c",function(){return r}),i.d(e,"i",function(){return c}),i.d(e,"f",function(){return u}),i.d(e,"e",function(){return d}),i.d(e,"h",function(){return h}),i.d(e,"d",function(){return m});var a=i("t3Un");function s(t){return Object(a.a)({url:"/sys/business/shopActivity/getShopActivityList",method:"post",data:t})}function o(t){return Object(a.a)({url:"/sys/business/shopActivity/calculatedActivityDiscount",method:"post",data:t})}function n(t){return Object(a.a)({url:"/sys/business/shopActivity/addShopActivity",method:"post",data:t})}function l(t){return Object(a.a)({url:"/sys/business/shopActivity/updateShopActivity",method:"post",data:t})}function r(t){return Object(a.a)({url:"/sys/business/shopActivity/deleteShopActivity",method:"post",data:t})}function c(t){return Object(a.a)({url:"/sys/business/shopActivity/invalidShopActivity",method:"post",data:t})}function u(t){return Object(a.a)({url:"/sys/business/shopActivity/getShopActivityById",method:"post",data:t})}function d(t){return Object(a.a)({url:"/sys/business/shopActivity/getActivityProductListById",method:"post",data:t})}function h(t){return Object(a.a)({url:"/sys/business/shopActivity/getShopActivityListById",method:"post",data:t})}function m(t){return Object(a.a)({url:"/product/mall/active/findActiveAndProduct?activeId="+t.activeId+"&productIds="+t.ids,method:"get"})}},EzYB:function(t,e,i){"use strict";var a=i("z+p6");i.n(a).a},P8ST:function(t,e,i){"use strict";var a=i("/H7o");i.n(a).a},PRgn:function(t,e,i){"use strict";i.d(e,"b",function(){return s}),i.d(e,"e",function(){return o}),i.d(e,"a",function(){return n}),i.d(e,"f",function(){return l}),i.d(e,"h",function(){return r}),i.d(e,"g",function(){return c}),i.d(e,"d",function(){return u}),i.d(e,"c",function(){return d});var a=i("t3Un");function s(t){return Object(a.a)({url:"/product/business/productCategoryShop/getProductCategoryInfoList",method:"post",data:t})}function o(t){return Object(a.a)({url:"/product/business/productCategoryShop/insertProductCategoryShop",method:"post",data:t})}function n(t){return Object(a.a)({url:"/product/business/productCategoryShop/deleteProductCategoryShop",method:"post",data:t})}function l(t){return Object(a.a)({url:"/product/business/productCategoryShop/isCategoryNameExist?name="+t.name+"&level="+t.level+"&shopId="+t.shopId+"&parentId="+t.parentId,method:"get"})}function r(t){return Object(a.a)({url:"/product/business/productCategoryShop/updateProductCategoryShopOrderNo",method:"post",data:t})}function c(t){return Object(a.a)({url:"/product/business/productCategoryShop/updateProductCategoryShop",method:"post",data:t})}function u(t){return Object(a.a)({url:"/product/business/productCategoryShop/getProductCategoryShopAllList?shopId="+t,method:"get"})}function d(t){return Object(a.a)({url:"/product/business/productCategoryShop/getProductCategoryInfoPageList",method:"post",data:t})}},SDxZ:function(t,e,i){"use strict";var a=i("2ixT");i.n(a).a},"z+p6":function(t,e,i){},zgCM:function(t,e,i){"use strict";i.r(e);var a=i("QbLZ"),s=i.n(a),o=i("L2JU"),n=i("2rhy"),l={props:["discountId","discountListShow"],watch:{discountListShow:function(t,e){t&&(console.log("执行了"),this.searchList.id=this.discountId||"",this.getData())}},data:function(){return{fromLoading:!1,searchList:{pageNum:1,pageSize:5},list:[],listTotal:0,pickerOptions:{shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]}}},created:function(){this.searchList.shopId=this.shop.shopId,this.searchList.activityType=1},methods:{sub:function(t){console.log("e",t),this.$emit("discountFun",t)},openPage:function(){var t=this.$router.resolve({name:"新增限时折扣"});window.open(t.href,"_blank")},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.searchList.pageSize=t,this.getData()},handleCurrentChange:function(t){console.log("当前页: "+t),this.searchList.pageNum=t,this.getData()},reset:function(){this.searchList.name="",this.searchList.beginTime="",this.searchList.endTime="",this.getData()},getData:function(){var t=this;this.fromLoading=!0,console.log("请求的数据",this.searchList),Object(n.h)(this.searchList).then(function(e){console.log("活动列表",e),200==e.code&&(t.list=e.data.list,t.listTotal=e.data.total),t.fromLoading=!1})},close:function(){this.$emit("discountClose",!0)},change:function(){this.$forceUpdate()}},computed:s()({},Object(o.c)(["user","shop"]))},r=i("KHd+"),c=Object(r.a)(l,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{"append-to-body":!0,title:"新增商品列表",visible:t.discountListShow,width:"70%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.discountListShow=e}}},[i("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[i("div",[i("i",{staticClass:"el-icon-search"}),t._v(" "),i("span",[t._v("筛选搜索")]),t._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.getData}},[t._v("查询")]),t._v(" "),i("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:t.reset}},[t._v("重置")]),t._v(" "),i("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:t.openPage}},[t._v("新建活动")])],1),t._v(" "),i("div",{staticStyle:{"margin-top":"15px"}},[i("el-form",{attrs:{inline:!0,model:t.searchList,size:"small","label-width":"140px"}},[i("el-form-item",{attrs:{label:"活动名称："}},[i("el-input",{staticStyle:{width:"203px"},attrs:{clearable:"",placeholder:"活动名称"},on:{input:function(e){t.change(e)}},model:{value:t.searchList.name,callback:function(e){t.$set(t.searchList,"name",e)},expression:"searchList.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"开始日期："}},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择开始时间",align:"right","picker-options":t.pickerOptions},model:{value:t.searchList.beginTime,callback:function(e){t.$set(t.searchList,"beginTime",e)},expression:"searchList.beginTime"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"结束日期："}},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择结束时间",align:"right","picker-options":t.pickerOptions},model:{value:t.searchList.endTime,callback:function(e){t.$set(t.searchList,"endTime",e)},expression:"searchList.endTime"}})],1)],1)],1)]),t._v(" "),i("el-card",{staticClass:"filter-container",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"}},[i("el-table-column",{attrs:{label:"活动名称",prop:"name"}}),t._v(" "),i("el-table-column",{attrs:{label:"活动时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n            "+t._s(e.row.activityBeginTime+" 至 "+e.row.activityEndTime)+"\r\n          ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"活动状态",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.activityStatus?i("div",{staticStyle:{color:"#E6A23C"}},[t._v("未开始")]):t._e(),t._v(" "),1==e.row.activityStatus?i("div",{staticStyle:{color:"#409EFF"}},[t._v("进行中")]):t._e(),t._v(" "),2==e.row.activityStatus?i("div",{staticStyle:{color:"#F56C6C"}},[t._v("已结束")]):t._e(),t._v(" "),3==e.row.activityStatus?i("div",{staticStyle:{color:"#F56C6C"}},[t._v("已失效")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"productTotal",label:"参与活动商品数",width:"140"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){t.sub(e.row)}}},[t._v("选择")])]}}])})],1),t._v(" "),i("div",{staticStyle:{padding:"10px 0 20px 0"}},[i("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":t.searchList.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.listTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.close}},[t._v("取 消")])],1)],1)},[],!1,null,null,null);c.options.__file="discountList.vue";var u=c.exports,d=i("PRgn"),h={props:["discountCommodityIds","discountCommodityShow","discountId"],watch:{discountCommodityShow:function(t,e){t&&this.getData()}},data:function(){return{fromLoading:!1,searchList:{shopCategoryIdArr:[],pageNum:1,pageSize:5},category:[],list:[],listTotal:0,multipleSelection:[]}},created:function(){this.searchList.shopId=this.shop.shopId},methods:{sub:function(){console.log("multipleSelection",this.multipleSelection),0!=this.multipleSelection.length?(this.$emit("discountCommodityFun",this.multipleSelection),this.$refs.multipleTable.clearSelection()):this.$message.error("请选择商品后再试")},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.searchList.pageSize=t,this.getData()},handleCurrentChange:function(t){console.log("当前页: "+t),this.searchList.pageNum=t,this.getData()},reset:function(){this.searchList.productName="",this.searchList.shopCategoryIdArr=[],this.getData()},getData:function(){var t=this;this.fromLoading=!0,this.searchList.activityId=this.discountId,this.searchList.ids=this.discountCommodityIds||[],this.searchList.shopCategoryPid=this.searchList.shopCategoryIdArr[0]||"",this.searchList.shopCategoryId=this.searchList.shopCategoryIdArr[1]||"",console.log("请求的数据",this.searchList),Object(n.e)(this.searchList).then(function(e){console.log("数据列表",e),200==e.code&&(t.list=e.data.list,t.listTotal=e.data.total,t.getCategory()),t.fromLoading=!1})},getRowClassName:function(t){var e=t.row;t.rowIndex;if(0==e.skuType)return"row-expand-cover"},getCategory:function(){var t=this;Object(d.d)(this.shop.shopId).then(function(e){console.log("获取店铺分类",e),t.category=e.data})},close:function(){this.$emit("discountCommodityClose",!0)},change:function(){this.$forceUpdate()}},computed:s()({},Object(o.c)(["user","shop"]))},m=(i("SDxZ"),Object(r.a)(h,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{"append-to-body":!0,title:"新增商品列表",visible:t.discountCommodityShow,width:"70%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.discountCommodityShow=e}}},[i("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[i("div",[i("i",{staticClass:"el-icon-search"}),t._v(" "),i("span",[t._v("筛选搜索")]),t._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.getData}},[t._v("查询")]),t._v(" "),i("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:t.reset}},[t._v("重置")])],1),t._v(" "),i("div",{staticStyle:{"margin-top":"15px"}},[i("el-form",{attrs:{inline:!0,model:t.searchList,size:"small","label-width":"140px"}},[i("el-form-item",{attrs:{label:"商品名称："}},[i("el-input",{staticStyle:{width:"203px"},attrs:{clearable:"",placeholder:"商品名称"},on:{input:function(e){t.change(e)}},model:{value:t.searchList.productName,callback:function(e){t.$set(t.searchList,"productName",e)},expression:"searchList.productName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"商品类目："}},[i("el-cascader",{attrs:{options:t.category,props:{checkStrictly:!0},clearable:""},model:{value:t.searchList.shopCategoryIdArr,callback:function(e){t.$set(t.searchList,"shopCategoryIdArr",e)},expression:"searchList.shopCategoryIdArr"}})],1)],1)],1)]),t._v(" "),i("el-card",{staticClass:"filter-container",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark","row-class-name":t.getRowClassName},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.row.list,border:""}},[i("el-table-column",{attrs:{prop:"skuName",label:"规格"}}),t._v(" "),i("el-table-column",{attrs:{label:"成本价（元）"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("￥"+t._s(e.row.costPrice))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"商品原价（元）"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("￥"+t._s(e.row.price))]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"finallyPrice",label:"折后价格（元）"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("￥"+t._s(e.row.finallyPrice))]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"skuStock",label:"库存"}})],1)]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"商品图片",prop:"productName",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-popover",{attrs:{placement:"right",title:"",trigger:"hover"}},[i("el-image",{staticStyle:{"max-height":"40px","max-width":"40px"},attrs:{slot:"reference",src:e.row.productImgUrl,alt:e.row.productImgUrl},slot:"reference"}),t._v(" "),i("el-image",{staticStyle:{"max-height":"350px","max-width":"350px"},attrs:{src:e.row.productImgUrl}})],1)]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"商品名称",prop:"productName",width:"300"}}),t._v(" "),i("el-table-column",{attrs:{label:"商品已售",prop:"productFinallyTotal"}}),t._v(" "),i("el-table-column",{attrs:{label:"成本价（元）"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.costPrice?"￥"+e.row.costPrice:"-"))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"商品售价（元）"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("￥"+t._s(e.row.minPrice))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"商品折扣",prop:"discount"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.discount)+"%")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"折后价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("￥"+t._s(0==e.row.finallyPrice?e.row.minPrice:e.row.finallyPrice))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"商品库存",prop:"productStock"}})],1),t._v(" "),i("div",{staticStyle:{padding:"10px 0 20px 0"}},[i("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":t.searchList.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.listTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.close}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.sub}},[t._v("确 定")])],1)],1)},[],!1,null,null,null));m.options.__file="discountCommodity.vue";var p=m.exports,y={props:{itemData:{type:Object}},data:function(){return{trueDefault:!0,btnPdClass:!1,btnPdClass1:!1,hoverIndex:-1,loadingbut:!1,loadingbuttext:"确 定",pageNumber:5,nowPage:1,total:1,tableData:[],selectData:[],search:{name:"",shopCategoryId:""},search1:{name:"",shopCategoryId:""},loading:!1,dialogVisible:!1,radioType:!1,selectStyle:!1,rightAwaybtn:!1,rightNowbtn:!1,dialogVisible1:!1,hoverIndex1:-1,shopId:"",getPost:!0,discountListShow:!1,discountCommodityShow:!1}},created:function(){this.shopId=Number(localStorage.getItem("shopId"))},mounted:function(){3!=this.itemData.buyBtn&&7!=this.itemData.buyBtn||(this.rightNowbtn=!0),2!=this.itemData.buyBtn&&6!=this.itemData.buyBtn||(this.rightAwaybtn=!0),this.radioType=!this.itemData.showBuyBtn,2==this.itemData.listType?this.selectStyle=!0:4==this.itemData.listType?this.selectStyle=!0:this.selectStyle=!1},components:{discountList:u,discountCommodity:p},methods:{showType:function(t){switch(t){case 0:0==this.itemData.chamfering?this.itemData.chamferingStyle=0:this.itemData.chamferingStyle="8px";break;case 1:0==this.itemData.projection?this.itemData.projectionStyle="0px 0px 0px 0px":this.itemData.projectionStyle="0px 2px 2px 0px rgba(153,153,153,0.1)";break;case 2:0==this.itemData.fill?this.itemData.fillStyle=0:this.itemData.fillStyle="5px"}},changeShow:function(t){0==t&&(0==this.itemData.showBuyBtn?(this.radioType=!0,this.itemData.buyBtn=-1,this.rightAwaybtn=!1,this.rightNowbtn=!1):(this.radioType=!1,this.itemData.buyBtn=0))},listSelect:function(){2==this.itemData.listType?(this.selectStyle=!0,this.rightAwaybtn=!1,this.rightNowbtn=!1,1==this.itemData.showBuyBtn?this.itemData.buyBtn=1:this.itemData.buyBtn=-1):4==this.itemData.listType?(this.selectStyle=!0,this.rightAwaybtn=!1,this.rightNowbtn=!1,1==this.itemData.showBuyBtn?this.itemData.buyBtn=1:this.itemData.buyBtn=-1):this.selectStyle=!1,0==this.itemData.listType&&(1==this.itemData.showBuyBtn?this.itemData.buyBtn=7:this.itemData.buyBtn=-1),1==this.itemData.listType&&(1==this.itemData.showBuyBtn?this.itemData.buyBtn=4:this.itemData.buyBtn=-1),3==this.itemData.listType&&(1==this.itemData.showBuyBtn?this.itemData.buyBtn=2:this.itemData.buyBtn=-1),5==this.itemData.listType&&(1==this.itemData.showBuyBtn?this.itemData.buyBtn=6:this.itemData.buyBtn=-1)},selsecBtn:function(){2==this.itemData.buyBtn||6==this.itemData.buyBtn?(this.rightAwaybtn=!0,this.rightNowbtn=!1):3==this.itemData.buyBtn||7==this.itemData.buyBtn?(this.rightNowbtn=!0,this.rightAwaybtn=!1):(this.rightAwaybtn=!1,this.rightNowbtn=!1)},mouseOver:function(t){this.hoverIndex=t},mouseLeave:function(){this.hoverIndex=-1},delGoods:function(t){this.itemData.goodsData.splice(t,1),this.itemData.discountCommodityIds.splice(t,1)},mouseOver1:function(){this.hoverIndex1=1},mouseLeave1:function(){this.hoverIndex1=-1},isChn:function(t){return!!/^[\u4E00-\u9FA5]{2,4}$/.test(t)},btnPd:function(){0==this.isChn(this.itemData.buyBtnName)?(this.$message.error("只能输入2到4个汉字"),this.btnPdClass=!0):this.btnPdClass=!1},btnPd1:function(){0==this.isChn(this.itemData.buyBtnName1)?(this.$message.error("只能输入2到4个汉字"),this.btnPdClass1=!0):this.btnPdClass1=!1},discountClose:function(t){this.discountListShow=!1},discountFun:function(t){var e=this;console.log("父",t),this.discountListShow=!1,this.itemData.goodsData=[],this.itemData.discountCommodityIds=[],this.itemData.activityId=t.id,this.itemData.activityName=t.name,this.itemData.activityStatus=t.activityStatus,clearInterval(this.itemData.timer);var i={};this.itemData.timer=setInterval(function(){var a=t.endTime.replace(/\-/g,"/"),s=new Date(a)-new Date,o=parseInt(s/1e3/60/60/24),n=parseInt(s/1e3/60/60%24),l=parseInt(s/1e3/60%60),r=parseInt(s/1e3%60);o<=0&&n<=0&&l<=0&&r<=0?(clearInterval(e.itemData.timer),i.d=0,i.h=0,i.m=0,i.s=0,i.status=!1,e.itemData.activityStatus=2):(i.status=!0,i.d=o<=0?0:e.checkTime(o),i.h=e.checkTime(n),i.m=e.checkTime(l),i.s=e.checkTime(r)),e.itemData.timeObj=i},1e3)},checkTime:function(t){return t<10&&(t="0"+t),t},discountCommodityClose:function(t){this.discountCommodityShow=!1},discountCommodityFun:function(t){var e=this;t.forEach(function(t){t.accuracy=Number(t.accuracy),e.itemData.goodsData.push(t),e.itemData.discountCommodityIds.push(t.productId)}),this.discountCommodityShow=!1}}},v=(i("EzYB"),i("P8ST"),Object(r.a)(y,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"itemBox"},[a("div",[a("p",{staticClass:"title"},[t._v("限时折扣")]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.itemData,size:"mini"}},[a("el-form-item",{staticClass:"navigation",attrs:{label:"选择活动"}},[t.itemData.activityId?a("div",{staticClass:"flex-row-start"},[a("div",[t._v(t._s(t.itemData.activityName))]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:function(e){t.discountListShow=!0}}},[t._v("修改")])],1):a("el-button",{on:{click:function(e){t.discountListShow=!0}}},[t._v("选择活动")])],1),t._v(" "),t.itemData.activityId?a("el-form-item",{staticClass:"navigation",attrs:{label:"选择商品"}},[a("el-button",{staticStyle:{"margin-bottom":"10px"},on:{click:function(e){t.discountCommodityShow=!0}}},[t._v("添加商品")]),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:0!=t.itemData.goodsData.length,expression:"itemData.goodsData.length!=0"}],staticClass:"goodsUploadList"},t._l(t.itemData.goodsData,function(e,s){return a("li",{key:s,on:{mouseover:function(e){t.mouseOver(s)},mouseleave:t.mouseLeave}},[a("img",{attrs:{src:e.productImgUrl,alt:""}}),t._v(" "),a("img",{staticClass:"delBtn",class:t.hoverIndex==s?"delBtnShow":"",attrs:{src:i("/vX6"),alt:""},on:{click:function(e){t.delGoods(s)}}})])}))],1):t._e(),t._v(" "),a("el-form-item",{staticClass:"navigation",attrs:{label:"列表样式"}},[a("el-radio-group",{on:{change:t.listSelect},model:{value:t.itemData.listType,callback:function(e){t.$set(t.itemData,"listType",e)},expression:"itemData.listType"}},[a("el-radio",{attrs:{label:0}},[t._v("大图样式")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("小图样式")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("一行三个")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("详细列表")]),t._v(" "),a("el-radio",{attrs:{label:4}},[t._v("横向滑动")]),t._v(" "),a("el-radio",{attrs:{label:5}},[t._v("一大两小")])],1)],1),t._v(" "),a("el-form-item",{staticClass:"showType",attrs:{label:"商品样式"}},[a("el-radio-group",{on:{change:function(e){t.showType(0)}},model:{value:t.itemData.chamfering,callback:function(e){t.$set(t.itemData,"chamfering",e)},expression:"itemData.chamfering"}},[a("span",{staticClass:"showClass"},[t._v("卡片倒角")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("直角")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("圆角")])],1),t._v(" "),a("el-radio-group",{on:{change:function(e){t.showType(1)}},model:{value:t.itemData.projection,callback:function(e){t.$set(t.itemData,"projection",e)},expression:"itemData.projection"}},[a("span",{staticClass:"showClass"},[t._v("卡片投影")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("无投影")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("有投影")])],1),t._v(" "),a("el-radio-group",{on:{change:function(e){t.showType(2)}},model:{value:t.itemData.fill,callback:function(e){t.$set(t.itemData,"fill",e)},expression:"itemData.fill"}},[a("span",{staticClass:"showClass"},[t._v("图片填充")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("填充")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("周边留白")])],1)],1),t._v(" "),3!=t.itemData.listType?a("el-form-item",{staticClass:"showType",attrs:{label:"文本样式"}},[a("el-radio-group",{model:{value:t.itemData.titleAlign,callback:function(e){t.$set(t.itemData,"titleAlign",e)},expression:"itemData.titleAlign"}},[a("span",{staticClass:"showClass"},[t._v("文本对齐")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("左对齐")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("居中对齐")])],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"显示内容"}},[a("el-checkbox",{attrs:{disabled:""},model:{value:t.trueDefault,callback:function(e){t.trueDefault=e},expression:"trueDefault"}},[t._v("商品名称")]),t._v(" "),a("el-checkbox",{attrs:{disabled:""},model:{value:t.trueDefault,callback:function(e){t.trueDefault=e},expression:"trueDefault"}},[t._v("商品价格")]),t._v(" "),a("el-checkbox",{model:{value:t.itemData.showTime,callback:function(e){t.$set(t.itemData,"showTime",e)},expression:"itemData.showTime"}},[t._v("抢购倒计时")]),t._v(" "),2!=t.itemData.listType&&4!=t.itemData.listType?a("el-checkbox",{model:{value:t.itemData.showTimeLine,callback:function(e){t.$set(t.itemData,"showTimeLine",e)},expression:"itemData.showTimeLine"}},[t._v("抢购进度条")]):t._e(),t._v(" "),a("el-checkbox",{model:{value:t.itemData.showLast,callback:function(e){t.$set(t.itemData,"showLast",e)},expression:"itemData.showLast"}},[t._v("剩余库存")]),t._v(" "),a("el-checkbox",{model:{value:t.itemData.showLinePrice,callback:function(e){t.$set(t.itemData,"showLinePrice",e)},expression:"itemData.showLinePrice"}},[t._v("划线原价")]),t._v(" "),a("el-checkbox",{on:{change:function(e){t.changeShow(0)}},model:{value:t.itemData.showBuyBtn,callback:function(e){t.$set(t.itemData,"showBuyBtn",e)},expression:"itemData.showBuyBtn"}},[t._v("购买按钮")]),t._v(" "),a("el-radio-group",{staticClass:"buyStyle",on:{change:t.selsecBtn},model:{value:t.itemData.buyBtn,callback:function(e){t.$set(t.itemData,"buyBtn",e)},expression:"itemData.buyBtn"}},[a("el-radio",{attrs:{label:0,disabled:t.radioType}},[t._v("样式1")]),t._v(" "),a("el-radio",{attrs:{label:1,disabled:t.radioType}},[t._v("样式2")]),t._v(" "),a("el-radio",{attrs:{label:2,disabled:t.radioType||t.selectStyle}},[t._v("样式3")]),t._v(" "),a("el-radio",{attrs:{label:3,disabled:t.radioType||t.selectStyle}},[t._v("样式4")]),t._v(" "),a("el-radio",{attrs:{label:4,disabled:t.radioType}},[t._v("样式5")]),t._v(" "),a("el-radio",{attrs:{label:5,disabled:t.radioType}},[t._v("样式6")]),t._v(" "),a("el-radio",{attrs:{label:6,disabled:t.radioType||t.selectStyle}},[t._v("样式7")]),t._v(" "),a("el-radio",{attrs:{label:7,disabled:t.radioType||t.selectStyle}},[t._v("样式8")])],1),t._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:t.rightNowbtn,expression:"rightNowbtn"}],class:1==t.btnPdClass?"btnPdClass":"",attrs:{maxlength:"4",placeholder:"请输入按钮名称"},on:{blur:t.btnPd},model:{value:t.itemData.buyBtnName,callback:function(e){t.$set(t.itemData,"buyBtnName",e)},expression:"itemData.buyBtnName"}}),t._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:t.rightAwaybtn,expression:"rightAwaybtn"}],class:1==t.btnPdClass1?"btnPdClass":"",attrs:{maxlength:"4",placeholder:"请输入按钮名称"},on:{blur:t.btnPd1},model:{value:t.itemData.buyBtnName1,callback:function(e){t.$set(t.itemData,"buyBtnName1",e)},expression:"itemData.buyBtnName1"}})],1)],1)],1),t._v(" "),a("discountList",{attrs:{discountListShow:t.discountListShow,discountId:t.itemData.activityId,discountCommodityIds:t.itemData.discountCommodityIds},on:{discountClose:t.discountClose,discountFun:t.discountFun}}),t._v(" "),a("discountCommodity",{attrs:{discountCommodityShow:t.discountCommodityShow,discountId:t.itemData.activityId,discountCommodityIds:t.itemData.discountCommodityIds},on:{discountCommodityClose:t.discountCommodityClose,discountCommodityFun:t.discountCommodityFun}})],1)},[],!1,null,"3658dfe0",null));v.options.__file="editorDiscountBox.vue";e.default=v.exports}}]);
//# sourceMappingURL=chunk-1c99.5f466c40.js.map