{"version":3,"sources":["webpack:///./src/views/productInventory/inventoryDetail.vue?9faf","webpack:///./src/api/productInventory/productInventory.js","webpack:///./src/api/productInventory/index.js","webpack:///./src/views/productInventory/inventoryDetail.vue?bbc9","webpack:///./src/utils/date.js","webpack:///./src/views/productInventory/inventoryDetail.vue?0cdc","webpack:///./src/views/productInventory/inventoryDetail.vue?8832","webpack:///src/views/productInventory/inventoryDetail.vue","webpack:///./src/views/productInventory/inventoryDetail.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_11_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_2_node_modules_sass_loader_lib_loader_js_ref_11_3_node_modules_vue_loader_lib_index_js_vue_loader_options_inventoryDetail_vue_vue_type_style_index_0_id_e8a29e0e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","d","__webpack_exports__","fetchList","stockChange","getStockDetails","showDetails","_utils_request__WEBPACK_IMPORTED_MODULE_0__","data","request","url","method","getInventory","getinventoryDraft","getCode","getDraft","getProAdd","getPdList","getDetailList","getDraftDetail","getDraftLists","delectDetails","id","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_7_2_node_modules_vue_loader_lib_index_js_vue_loader_options_inventoryDetail_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__","formatDate","date","fmt","test","replace","RegExp","$1","getFullYear","substr","length","o","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","k","str","padLeftZero","productInventory_inventoryDetailvue_type_script_lang_js_","inject","filters","formatCreateTime","time","Date","Object","utils_date","tips","tableList","totalCount","inventoryCount","inventoryCountLost","textarea","input","num","elseMoney","successMoney","lostMoney","list","goodName","goodId","goodCode","code","userName","timer","tableData","tableDataPre","pageNum","page_size","total","totalAdd","dialogFormVisible","updialogFormVisible","category","outStock","number","status","remark","productId","skuId","upStock","created","this","$route","query","getDetail","methods","goBack","$store","dispatch","$router","push","path","_this2","myDate","api_productInventory","then","res","console","log","inventoryNo","createTime","inventoryRemark","productCount","profitCount","lossCount","tepreservation","_this3","datas","shopId","localStorage","getItem","bUserId","categoryCount","$message","success","type","message","reload","error","complete","_this4","back","addCom","_this5","pageSize","productName","skuCode","productCode","handleSelectionChange","val","multipleSelection","ck","row","_this6","totalStockBefore","totalStockAfter","salePriceBefore","forEach","item","i","addType","remarks","obj","dataArry","reduce","preVal","curVal","categoryId3","searchList","result","_this7","getInventoryList","_this8","replacef","name","target","_this","nodeName","document","createElement","className","value","innerHTML","parentNode","replaceChild","focus","onblur","reset","handleSizeChange","page","pageChange","outStockButton","_this9","$notify","title","productInventory","totalStockChange","creater","updateProduct","index","upStockButton","_this10","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","model","callback","$$v","expression","attrs","label","_v","on","click","shadow","staticStyle","margin-top","inline","size","label-width","scopedSlots","_u","key","fn","scope","_s","_f","width","border","align","min-width","show-overflow-tooltip","prop","skuName","categoryName3","_e","disabled","autosize","minRows","maxRows","placeholder","visible","height","update:visible","$event","float","margin-right","clearable","$set","ref","selection-change","margin-left","background","layout","page-size","page-sizes","current-page","size-change","current-change","options","__file"],"mappings":"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","file":"static/js/chunk-da95.49d70d4e.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--11-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../node_modules/sass-loader/lib/loader.js??ref--11-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inventoryDetail.vue?vue&type=style&index=0&id=e8a29e0e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--11-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../node_modules/sass-loader/lib/loader.js??ref--11-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inventoryDetail.vue?vue&type=style&index=0&id=e8a29e0e&lang=scss&scoped=true&\"","/*\r\n * @Description: 库存接口\r\n * @Author: your name\r\n * @Date: 2019-08-07 09:35:37\r\n * @LastEditTime: 2019-08-29 17:25:59\r\n * @LastEditors: Please set LastEditors\r\n */\r\nimport request from '@/utils/request'\r\n\r\n//查询库存\r\nexport function fetchList (data) {\r\n  return request({\r\n    url: `/product/business/stock/findByCondition`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n\r\n//出入库操作\r\n\r\nexport function stockChange (data) {\r\n  return request({\r\n    url: `/product/business/stock/updateStockInOut`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n//出入库明细列表\r\n\r\nexport function getStockDetails (data) {\r\n  return request({\r\n    url: `/product/business/stockRecord/findByCondition`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n//查看明细详情\r\nexport function showDetails (data) {\r\n  return request({\r\n    url: `/product/business/stockRecord/findByDetailCondition`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n","import request from '@/utils/request'\r\n\r\nexport function getInventory(data) {\r\n  return request({\r\n    url: '/product/business/inventory/findByCondition',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function addInventory(data) {\r\n  return request({\r\n    url: '/product/business/inventory/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function getinventoryDraft(data) {\r\n  //查询商品\r\n  return request({\r\n    url: '/product/business/inventoryDraft/findByCondition',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function getCode(data) {\r\n  //查询编号\r\n  return request({\r\n    url: '/product/business/inventoryDraft/genInventoryNo',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function getDraft(data) {\r\n  //添加草稿箱\r\n  return request({\r\n    url: '/product/business/inventoryDraft/add',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\nexport function getProAdd(data) {\r\n  //添加草稿箱\r\n  return request({\r\n    url: '/product/business/inventory/add',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\nexport function getPdList(data) {\r\n  //查询盘点列表\r\n  return request({\r\n    url: '/product/business/inventory/findByCondition',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\nexport function getDetailList(data) {\r\n  //详情\r\n  return request({\r\n    url: `/product/business/inventory/findById?id=${data.id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function del(data) {\r\n  //详情\r\n  return request({\r\n    url: '/product/business/inventoryDraft/del',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function getDraftDetail(data) {\r\n  //草稿箱详情，继续盘点\r\n  return request({\r\n    url: `/product/business/inventoryDraft/findDraftById?id=${data.id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function getDraftLists(data) {\r\n  //草稿箱列表\r\n  return request({\r\n    url: '/product/business/inventoryDraft/findDraftByCondition',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function delectDetails(data) {\r\n  //草稿箱删除记录\r\n  return request({\r\n    url: '/product/business/inventoryDraft/delDetail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--7-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inventoryDetail.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--7-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inventoryDetail.vue?vue&type=style&index=1&lang=css&\"","// date.js\r\nexport function formatDate(date, fmt) {\r\n  if (/(y+)/.test(fmt)) {\r\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n  }\r\n  let o = {\r\n    'M+': date.getMonth() + 1,\r\n    'd+': date.getDate(),\r\n    'h+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds()\r\n  };\r\n  for (let k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      let str = o[k] + '';\r\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? str : padLeftZero(str));\r\n    }\r\n  }\r\n  return fmt;\r\n}\r\n\r\nfunction padLeftZero(str) {\r\n  return ('00' + str).substr(str.length);\r\n}\r\n\r\nexport function str2Date(dateStr, separator) {\r\n  if (!separator) {\r\n    separator = \"-\";\r\n  }\r\n  let dateArr = dateStr.split(separator);\r\n  let year = parseInt(dateArr[0]);\r\n  let month;\r\n  //处理月份为04这样的情况\r\n  if (dateArr[1].indexOf(\"0\") == 0) {\r\n    month = parseInt(dateArr[1].substring(1));\r\n  } else {\r\n    month = parseInt(dateArr[1]);\r\n  }\r\n  let day = parseInt(dateArr[2]);\r\n  let date = new Date(year, month - 1, day);\r\n  return date;\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-radio-group',{model:{value:(_vm.tips),callback:function ($$v) {_vm.tips=$$v},expression:\"tips\"}},[_c('el-radio-button',{attrs:{\"label\":\"1\"}},[_vm._v(\"盘点单\")])],1),_vm._v(\" \"),_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_vm._v(\"返回上一页\")]),_vm._v(\" \"),_c('el-card',{staticClass:\"operate-container\",attrs:{\"shadow\":\"never\"}},[_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-form',{attrs:{\"inline\":true,\"size\":\"small\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"编号：\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(_vm.code)+\"\\n            \")]}}])}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"盘点仓库：\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              默认仓库\\n            \")]}}])}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"盘点人：\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(_vm.userName)+\"\\n            \")]}}])}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"盘点时间：\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(_vm._f(\"formatCreateTime\")(_vm.timer))+\"\\n            \")]}}])})],1)],1)]),_vm._v(\" \"),_c('el-card',{staticClass:\"operate-container\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"shadow\":\"never\"}},[_c('i',{staticClass:\"el-icon-tickets\"}),_vm._v(\" \"),_c('span',[_vm._v(\"数据列表\")])]),_vm._v(\" \"),_c('el-card',{staticClass:\"operate-container\",staticStyle:{\"margin-top\":\"10px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"min-width\":\"200\",\"show-overflow-tooltip\":\"\",\"prop\":\"name\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n   \"+_vm._s(scope.row.productName+'('+scope.row.skuName + ')')+\"\\n\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品编码\",\"width\":\"100\",\"prop\":\"productCode\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"规格编码\",\"width\":\"140\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.skuCode=='' ? '--':scope.row.skuCode)+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"分类\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.categoryName3)+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"库存总数\",\"width\":\"150\",\"prop\":\"totalStockBefore\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"盘点数量\",\"width\":\"180\",\"prop\":\"totalStockAfter\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"盘盈盘亏\",\"width\":\"180\",\"prop\":\"salePriceBefore\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.type==0)?_c('span',[_vm._v(\"盘盈\")]):_vm._e(),_vm._v(\" \"),(scope.row.type==1)?_c('span',[_vm._v(\"无变化\")]):_vm._e(),_vm._v(\" \"),(scope.row.type==2)?_c('span',[_vm._v(\"盘亏\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"备注\",\"width\":\"150\",\"prop\":\"lockStock\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.remark)+\"\\n          \")]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"total\"},[_c('span',[_vm._v(\"合计：\")]),_vm._v(\" \"),_c('span',[_vm._v(\"已添加\"+_vm._s(_vm.totalCount)+\"条\")]),_vm._v(\" \"),_c('span',[_vm._v(\"盘盈：\"+_vm._s(_vm.inventoryCount))]),_vm._v(\" \"),_c('span',[_vm._v(\"盘亏：\"+_vm._s(_vm.inventoryCountLost))])]),_vm._v(\" \"),_c('div',{staticClass:\"totaltextarea\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"disabled\":true,\"autosize\":{ minRows: 2, maxRows: 6},\"placeholder\":\"请输入内容\"},model:{value:(_vm.textarea),callback:function ($$v) {_vm.textarea=$$v},expression:\"textarea\"}})],1)],1),_vm._v(\" \"),_c('el-card',{staticClass:\"operate-container\",staticStyle:{\"margin-top\":\"10px\"}},[_c('el-button',{staticStyle:{\"width\":\"200px\"},on:{\"click\":_vm.goBack}},[_vm._v(\"返回\")])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加商品\",\"visible\":_vm.dialogFormVisible,\"width\":\"1220px\",\"height\":\"752px\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('div',[_c('el-card',{staticClass:\"filter-container\",attrs:{\"shadow\":\"never\"}},[_c('div',[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" \"),_c('span',[_vm._v(\"筛选搜索\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.searchList}},[_vm._v(\"\\n              查询\\n            \")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"size\":\"small\"},on:{\"click\":_vm.reset}},[_vm._v(\"\\n              重置\\n            \")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.list,\"size\":\"small\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"商品名称\"},model:{value:(_vm.list.goodName),callback:function ($$v) {_vm.$set(_vm.list, \"goodName\", $$v)},expression:\"list.goodName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品编码：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"商品编码\"},model:{value:(_vm.list.goodId),callback:function ($$v) {_vm.$set(_vm.list, \"goodId\", $$v)},expression:\"list.goodId\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规格编码：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"规格编码：\"},model:{value:(_vm.list.goodCode),callback:function ($$v) {_vm.$set(_vm.list, \"goodCode\", $$v)},expression:\"list.goodCode\"}})],1)],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-container\"},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableList,\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"60\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"分类\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                \"+_vm._s(scope.row.categoryName3)+\"\\n              \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"width\":\"520\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                \"+_vm._s(scope.row.productName)+\"\\n              \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品编码\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                \"+_vm._s(scope.row.productCode)+\"\\n              \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"规格编码\",\"width\":\"200\",\"show-overflow-tooltip\":\"\",\"prop\":\"name\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                \"+_vm._s(scope.row.skuCode)+\"\\n              \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"库存总数\",\"width\":\"00\",\"prop\":\"sumStock\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                \"+_vm._s(scope.row.totalStockBefore)+\"\\n              \")]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"fixedB\"},[_c('div',{staticClass:\"testButton\"},[_c('el-button',{on:{\"click\":_vm.result}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addType}},[_vm._v(\"确定\")])],1),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"margin-top\":\"10px\",\"margin-left\":\"20px\"},attrs:{\"background\":\"\",\"layout\":\"total,sizes,prev,pager,next,jumper\",\"page-size\":_vm.page_size,\"page-sizes\":[10, 30, 50, 100],\"current-page\":_vm.pageNum,\"total\":_vm.totalAdd},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.pageChange}})],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"fixedB\"},[_c('el-pagination',{staticStyle:{\"margin-top\":\"10px\",\"margin-left\":\"20px\"},attrs:{\"background\":\"\",\"layout\":\"total,sizes,prev,pager,next,jumper\",\"page-size\":_vm.page_size,\"page-sizes\":[15, 30, 50, 100],\"current-page\":_vm.pageNum,\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.pageChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/happypack/loader.js?id=js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inventoryDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/happypack/loader.js?id=js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inventoryDetail.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"app-container\">\r\n    <!-- 筛选条件 -->\r\n    <el-radio-group v-model=\"tips\">\r\n      <el-radio-button label=\"1\">盘点单</el-radio-button>\r\n      <!-- <el-radio-button label=\"2\">草稿箱</el-radio-button> -->\r\n    </el-radio-group>\r\n          <span class=\"back\" @click=\"back\">返回上一页</span>\r\n    <el-card class=\"operate-container\" shadow=\"never\">\r\n      <div style=\"margin-top: 15px\">\r\n        <el-form :inline=\"true\" size=\"small\" label-width=\"120px\">\r\n          <el-form-item label=\"编号：\">\r\n            <template slot-scope=\"scope\" :data-type=\"scope.row.id\">\r\n              {{code}}\r\n            </template>\r\n          </el-form-item>\r\n          <el-form-item label=\"盘点仓库：\">\r\n            <template slot-scope=\"scope\" :data-type=\"scope.row.id\">\r\n              默认仓库\r\n            </template>\r\n          </el-form-item>\r\n          <el-form-item label=\"盘点人：\">\r\n            <template slot-scope=\"scope\" :data-type=\"scope.row.id\">\r\n              {{userName}}\r\n            </template>\r\n          </el-form-item>\r\n          <el-form-item label=\"盘点时间：\">\r\n            <template slot-scope=\"scope\" :data-type=\"scope.row.id\">\r\n              {{timer | formatCreateTime}}\r\n            </template>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </el-card>\r\n    <!-- 数据列表 -->\r\n    <el-card class=\"operate-container\"\r\n             style=\"margin-top:10px\"\r\n             shadow=\"never\">\r\n      <i class=\"el-icon-tickets\"></i>\r\n      <span>数据列表</span>\r\n    </el-card>\r\n    <el-card class=\"operate-container\"\r\n             style=\"margin-top:10px\">\r\n      <el-table :data=\"tableData\"\r\n                style=\"width: 100%\"\r\n                border>\r\n        <el-table-column type=\"index\"\r\n                         width=\"50\"\r\n                         align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"商品名称\"\r\n                         min-width=\"200\"\r\n                         show-overflow-tooltip\r\n                         prop=\"name\"\r\n                         align=\"center\">\r\n<template slot-scope=\"scope\">\r\n   {{scope.row.productName+'('+scope.row.skuName + ')'}}\r\n</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"商品编码\"\r\n                         width=\"100\"\r\n                         prop=\"productCode\"\r\n                         align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"规格编码\"\r\n                         width=\"140\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            {{scope.row.skuCode=='' ? '--':scope.row.skuCode}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"分类\"\r\n                         width=\"150\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            {{scope.row.categoryName3}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"库存总数\"\r\n                         width=\"150\"\r\n                         prop=\"totalStockBefore\"\r\n                         align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"盘点数量\"\r\n                         width=\"180\"\r\n                         prop=\"totalStockAfter\"\r\n                         align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"盘盈盘亏\"\r\n                         width=\"180\"\r\n                         prop=\"salePriceBefore\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span v-if=\"scope.row.type==0\">盘盈</span>\r\n            <span v-if=\"scope.row.type==1\">无变化</span>\r\n            <span v-if=\"scope.row.type==2\">盘亏</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"备注\"\r\n                         width=\"150\"\r\n                         prop=\"lockStock\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            {{scope.row.remark}}\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"total\">\r\n        <span>合计：</span>\r\n        <span>已添加{{totalCount}}条</span>\r\n        <span>盘盈：{{inventoryCount}}</span>\r\n        <span>盘亏：{{inventoryCountLost}}</span>\r\n      </div>\r\n      <div class=\"totaltextarea\">\r\n        <el-input type=\"textarea\" :disabled=\"true\"\r\n                  :autosize=\"{ minRows: 2, maxRows: 6}\"\r\n                  placeholder=\"请输入内容\"\r\n                  v-model=\"textarea\">\r\n        </el-input>\r\n      </div>\r\n      \r\n    </el-card>\r\n    <el-card class=\"operate-container\"\r\n             style=\"margin-top:10px\">\r\n      <el-button @click=\"goBack\" style=\"width:200px\">返回</el-button>\r\n    </el-card>\r\n    <!-- 出库弹窗 -->\r\n    <el-dialog title=\"添加商品\"\r\n               :visible.sync=\"dialogFormVisible\"\r\n               width=\"1220px\"\r\n               height=\"752px\">\r\n      <div>\r\n        <!-- 筛选条件 -->\r\n        <el-card class=\"filter-container\"\r\n                 shadow=\"never\">\r\n          <div>\r\n            <i class=\"el-icon-search\"></i>\r\n            <span>筛选搜索</span>\r\n            <el-button style=\"float: right\"\r\n                       @click=\"searchList\"\r\n                       type=\"primary\"\r\n                       size=\"small\">\r\n              查询\r\n            </el-button>\r\n            <el-button style=\"float: right;margin-right: 15px\"\r\n                       @click=\"reset\"\r\n                       size=\"small\">\r\n              重置\r\n            </el-button>\r\n          </div>\r\n          <div style=\"margin-top: 15px\">\r\n            <el-form :inline=\"true\"\r\n                     :model=\"list\"\r\n                     size=\"small\"\r\n                     label-width=\"140px\">\r\n              <el-form-item label=\"商品名称：\">\r\n                <el-input style=\"width: 203px\"\r\n                          v-model=\"list.goodName\"\r\n                          clearable\r\n                          placeholder=\"商品名称\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"商品编码：\">\r\n                <el-input style=\"width: 203px\"\r\n                          v-model=\"list.goodId\"\r\n                          clearable\r\n                          placeholder=\"商品编码\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"规格编码：\">\r\n                <el-input style=\"width: 203px\"\r\n                          v-model=\"list.goodCode\"\r\n                          clearable\r\n                          placeholder=\"规格编码：\"></el-input>\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n        </el-card>\r\n\r\n        <div class=\"table-container\">\r\n          <el-table :data=\"tableList\"\r\n                    style=\"width: 100%\"\r\n                    ref=\"multipleTable\"\r\n                    @selection-change=\"handleSelectionChange\"\r\n                    border>\r\n            <el-table-column type=\"selection\"\r\n                             width=\"60\"\r\n                             align=\"center\"></el-table-column>\r\n            <el-table-column label=\"分类\"\r\n                             width=\"100\"\r\n                             align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                {{scope.row.categoryName3}}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"商品名称\"\r\n                             width=\"520\"\r\n                             align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                {{scope.row.productName}}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"商品编码\"\r\n                             width=\"200\"\r\n                             align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                {{scope.row.productCode}}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"规格编码\"\r\n                             width=\"200\"\r\n                             show-overflow-tooltip\r\n                             prop=\"name\"\r\n                             align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                {{scope.row.skuCode}}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"库存总数\"\r\n                             width=\"00\"\r\n                             prop=\"sumStock\"\r\n                             align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                {{scope.row.totalStockBefore}}\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n\r\n        <!-- 固定在下面 -->\r\n        <div class=\"fixedB\">\r\n          <div class=\"testButton\">\r\n            <el-button @click=\"result\">取消</el-button>\r\n            <el-button type=\"primary\"\r\n                       @click=\"addType\">确定</el-button>\r\n          </div>\r\n          <!-- 页码 -->\r\n          <el-pagination background\r\n                         style=\"margin-top: 10px;margin-left:20px\"\r\n                         @size-change=\"handleSizeChange\"\r\n                         @current-change=\"pageChange\"\r\n                         layout=\"total,sizes,prev,pager,next,jumper\"\r\n                         :page-size=\"page_size\"\r\n                         :page-sizes=\"[10, 30, 50, 100]\"\r\n                         :current-page=\"pageNum\"\r\n                         :total=\"totalAdd\">\r\n          </el-pagination>\r\n        </div>\r\n\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <div class=\"fixedB\">\r\n      <!-- 页码 -->\r\n      <el-pagination background\r\n                     style=\"margin-top: 10px;margin-left:20px\"\r\n                     @size-change=\"handleSizeChange\"\r\n                     @current-change=\"pageChange\"\r\n                     layout=\"total,sizes,prev,pager,next,jumper\"\r\n                     :page-size=\"page_size\"\r\n                     :page-sizes=\"[15, 30, 50, 100]\"\r\n                     :current-page=\"pageNum\"\r\n                     :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import {\r\n    fetchList,\r\n    stockChange\r\n  } from '@/api/productInventory/productInventory'\r\n  import {\r\n    getInventory,\r\n    addInventory,\r\n    getinventoryDraft,\r\n    getCode,\r\n    getDraft,\r\n    getProAdd,\r\n    getDetailList\r\n  } from '@/api/productInventory/index'\r\n  import {\r\n    formatDate\r\n  } from '@/utils/date';\r\n  export default {\r\n    inject: ['reload'],\r\n    filters: {\r\n      formatCreateTime(time) {\r\n        let date = new Date(time);\r\n        return formatDate(date, 'yyyy-MM-dd hh:mm:ss')\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        tips: 1,\r\n        tableList: [],\r\n        totalCount: 0,\r\n        inventoryCount: 0,\r\n        inventoryCountLost: 0,\r\n        textarea: '',\r\n        input: '',\r\n        num: '--',\r\n        elseMoney: false, //一样\r\n        successMoney: false,\r\n        lostMoney: false,\r\n        id: '',\r\n        list: {\r\n          goodName: '',\r\n          goodId: '',\r\n          goodCode: ''\r\n        },\r\n        code: '',\r\n        userName: '',\r\n        timer: null,\r\n        tableData: [],\r\n        tableDataPre: [],\r\n        pageNum: 1,\r\n        page_size: 10,\r\n        total: 0,\r\n        totalAdd: 0,\r\n        dialogFormVisible: false,\r\n        updialogFormVisible: false,\r\n        category: '',\r\n        outStock: {\r\n          number: '',\r\n          status: '',\r\n          remark: '',\r\n          productId: '',\r\n          skuId: ''\r\n        },\r\n        upStock: {\r\n          number: '',\r\n          status: '',\r\n          remark: '',\r\n          productId: '',\r\n          skuId: ''\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.id = this.$route.query.id;\r\n      this.getDetail()\r\n    },\r\n    methods: {\r\n      goBack(){\r\n        this.$store.dispatch('delView', this.$route)\r\n        this.$router.push({\r\n          path: '/inventoryManagement/inventoryList',\r\n        })\r\n      },\r\n\r\n      //查询详情\r\n      getDetail() {\r\n        var myDate = new Date();\r\n        this.timer = myDate\r\n        getDetailList({\r\n          id: this.id\r\n        }).then(res => {\r\n          console.log('数据列表',res)\r\n          this.tableData = res.data.list\r\n          this.code = res.data.inventoryNo\r\n          this.userName = res.data.userName\r\n          this.timer = res.data.createTime\r\n          this.textarea = res.data.inventoryRemark\r\n          this.totalCount = res.data.productCount\r\n          this.inventoryCount = res.data.profitCount\r\n          this.inventoryCountLost = res.data.lossCount\r\n        })\r\n      },\r\n      //临时保存\r\n      tepreservation() {\r\n        let datas = {\r\n          inventoryNo: this.code, //盘点单编号\r\n          shopId: localStorage.getItem(\"shopId\"), //店铺ID\r\n          bUserId: localStorage.getItem(\"userId\"), //商户用户ID（盘点人）\r\n          profitCount: this.inventoryCount, //盘盈总和\r\n          lossCount: this.inventoryCountLost, //盘亏总和\r\n          categoryCount: this.category, //商品分类总和\r\n          productCount: this.totalCount, //盘点商品数量\r\n          inventoryRemark: this.textarea, //单据备注\r\n          list: this.tableData\r\n        }\r\n        getDraft(datas).then(res => {\r\n          console.log(res)\r\n          if (res.code == 200) {\r\n            this.$message.success({\r\n              type: 'success',\r\n              message: res.message\r\n            });\r\n            this.reload()\r\n          } else {\r\n            this.$message.error({\r\n              type: 'error',\r\n              message: res.message\r\n            });\r\n          }\r\n        })\r\n      },\r\n      //完成保存\r\n      complete() {\r\n        let datas = {\r\n          inventoryNo: this.code, //盘点单编号\r\n          shopId: localStorage.getItem(\"shopId\"), //店铺ID\r\n          bUserId: localStorage.getItem(\"userId\"), //商户用户ID（盘点人）\r\n          profitCount: this.inventoryCount, //盘盈总和\r\n          lossCount: this.inventoryCountLost, //盘亏总和\r\n          categoryCount: this.category, //商品分类总和\r\n          productCount: this.totalCount, //盘点商品数量\r\n          inventoryRemark: this.textarea, //单据备注\r\n          list: this.tableData\r\n        }\r\n        getProAdd(datas).then(res => {\r\n          console.log(res)\r\n          if (res.code == 200) {\r\n            this.$message.success({\r\n              type: 'success',\r\n              message: res.message\r\n            });\r\n            this.reload()\r\n          } else {\r\n            this.$message.error({\r\n              type: 'error',\r\n              message: res.message\r\n            });\r\n          }\r\n        })\r\n      },\r\n      back(){\r\n           this.$router.push({\r\n          path: '/inventoryManagement/inventoryList',\r\n        })\r\n      },\r\n      //添加商品\r\n      addCom() {\r\n        console.log(90)\r\n        this.dialogFormVisible = true\r\n        console.log(this.tableData)\r\n        getinventoryDraft({\r\n          pageNum: this.pageNum,\r\n          pageSize: this.page_size,\r\n          productName: this.list.goodName,\r\n          skuCode: this.list.skuCode,\r\n          productCode: this.list.goodId,\r\n        }).then(res => {\r\n          this.tableList = res.data.list\r\n          this.totalAdd = res.data.total\r\n        })\r\n      },\r\n      handleSelectionChange(val) {\r\n        console.log(val)\r\n        this.multipleSelection = val;\r\n        this.tableDataPre = val\r\n        this.totalCount = this.tableData.length\r\n      },\r\n      ck(row) {\r\n        console.log(row)\r\n        if (row.totalStockBefore > row.totalStockAfter) {\r\n          row.salePriceBefore = '盘盈'\r\n        } else if (row.totalStockBefore < row.totalStockAfter) {\r\n          row.salePriceBefore = '盘亏'\r\n        } else if (row.totalStockBefore = row.totalStockAfter) {\r\n          row.salePriceBefore = '无差异'\r\n        }\r\n        this.tableData.forEach(item => {\r\n          this.tableData.push()\r\n        })\r\n        console.log(this.tableData)\r\n        this.inventoryCount = 0\r\n        this.inventoryCountLost = 0\r\n        for (var i = 0; i < this.tableData.length; i++) {\r\n          console.log(this.tableData[i].salePriceBefore)\r\n          if (this.tableData[i].salePriceBefore == '盘盈') {\r\n            this.inventoryCount++\r\n          } else if (this.tableData[i].salePriceBefore == '盘亏') {\r\n            this.inventoryCountLost++\r\n          } else {}\r\n        }\r\n      },\r\n      addType() {\r\n        this.tableData = this.tableDataPre\r\n        this.tableData.forEach(item => {\r\n          item.salePriceBefore = '--'\r\n          item.remarks = ''\r\n          item.totalStockAfter = ''\r\n        })\r\n        let obj = {}; \r\n        const dataArry = this.tableData.reduce((preVal, curVal) => {  \r\n          obj[curVal.categoryId3] ? '' : obj[curVal.categoryId3] = true && preVal.push(curVal);    \r\n          return preVal \r\n        }, [])\r\n        this.category = dataArry.length\r\n        this.dialogFormVisible = false\r\n        this.searchList()\r\n      },\r\n      result() {\r\n        this.dialogFormVisible = false\r\n        this.searchList()\r\n      },\r\n      searchList() {\r\n        getinventoryDraft({\r\n          pageNum: this.pageNum,\r\n          pageSize: this.page_size,\r\n          productName: this.list.goodName,\r\n          skuCode: this.list.skuCode,\r\n          productCode: this.list.goodId,\r\n        }).then(res => {\r\n          this.tableList = res.data.list\r\n          this.totalAdd = res.data.total\r\n        })\r\n      },\r\n      getInventoryList() {\r\n        getInventory({\r\n          shopId: localStorage.getItem(\"shopId\"),\r\n          pageSize: this.page_size,\r\n          pageNum: this.pageNum,\r\n          inventoryNo: '',\r\n          createTime: ''\r\n        }).then(res => {\r\n          this.tableData = res.data.list\r\n          this.total = res.data.total\r\n        })\r\n      },\r\n      replacef(name, id, row) {\r\n        var obj = name.target;\r\n        let _this = this\r\n        if (obj.nodeName == 'SPAN') {\r\n          //转换成输入框\r\n          var input = document.createElement(\"input\");\r\n          input.className = \"myStyle\"\r\n          input.value = obj.innerHTML;\r\n          obj.parentNode.replaceChild(input, obj);\r\n          //聚焦的替换后的input上\r\n          input.focus();\r\n          input.onblur = function() {\r\n            obj.innerHTML = input.value;\r\n            input.parentNode.replaceChild(obj, input);\r\n            if (row.totalStockBefore > obj.innerHTML) {\r\n              _this.successMoney = true //盘盈\r\n              _this.lostMoney = false\r\n              _this.elseMoney = false\r\n            } else if (row.totalStockBefore < obj.innerHTML) {\r\n              _this.lostMoney = true //盘亏\r\n              _this.successMoney = false\r\n              _this.elseMoney = false\r\n            } else if (row.totalStockBefore = obj.innerHTML) {\r\n              _this.elseMoney = true //一样\r\n              _this.successMoney = false\r\n              _this.lostMoney = false\r\n            }\r\n          };\r\n        }\r\n      },\r\n      // 重置\r\n      reset() {\r\n        this.list = {\r\n          goodName: '',\r\n          goodId: '',\r\n          goodCode: ''\r\n        }\r\n        this.searchList()\r\n      },\r\n      //修改每页页数\r\n      handleSizeChange(page) {\r\n        this.page_size = page\r\n        this.searchList()\r\n      },\r\n      //点击跳转页码\r\n      pageChange(page) {\r\n        this.pageNum = page\r\n        this.searchList()\r\n      },\r\n      outStockButton() {\r\n        if (typeof(this.outStock.number) != \"number\") {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: '请输入数字'\r\n          });\r\n          return\r\n        }\r\n        if (this.outStock.number > this.outStock.total) {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: '出库量不能大于可用库存量'\r\n          });\r\n          return\r\n        }\r\n        if (this.outStock.status == '') {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: '请选择出库类型'\r\n          });\r\n          return\r\n        }\r\n        stockChange({\r\n          shopId: localStorage.getItem(\"shopId\"),\r\n          productId: this.outStock.productId,\r\n          skuId: this.outStock.skuId,\r\n          type: this.outStock.status,\r\n          totalStockChange: -this.outStock.number,\r\n          remark: this.outStock.remark,\r\n          creater: localStorage.getItem(\"userId\")\r\n        }).then(res => {\r\n          if (res.code == 200) {\r\n            this.$notify({\r\n              title: '成功',\r\n              message: '出库成功',\r\n              type: \"success\"\r\n            });\r\n            this.dialogFormVisible = false\r\n            this.outStock.status = ''\r\n            this.outStock.skuId = ''\r\n            this.outStock.number = ''\r\n            this.outStock.remark = ''\r\n            this.searchList()\r\n          } else {\r\n            this.$notify.error({\r\n              title: '失败',\r\n              message: '出库失败',\r\n            });\r\n          }\r\n        })\r\n      },\r\n      // 入库\r\n      updateProduct(index, row) {\r\n        this.updialogFormVisible = true\r\n        this.upStock.productId = row.productId\r\n        this.upStock.skuId = row.code\r\n      },\r\n      upStockButton() {\r\n        if (typeof(this.upStock.number) != \"number\") {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: '请输入数字'\r\n          });\r\n          return\r\n        }\r\n        if (this.upStock.status == '') {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: '请选择入库类型'\r\n          });\r\n          return\r\n        }\r\n        stockChange({\r\n          shopId: localStorage.getItem(\"shopId\"),\r\n          productId: this.upStock.productId,\r\n          skuId: this.upStock.skuId,\r\n          type: this.upStock.status,\r\n          totalStockChange: this.upStock.number,\r\n          remark: this.upStock.remark,\r\n          creater: localStorage.getItem(\"userId\")\r\n        }).then(res => {\r\n          if (res.code == 200) {\r\n            this.$notify({\r\n              title: '成功',\r\n              message: '入库成功',\r\n              type: \"success\"\r\n            });\r\n            this.updialogFormVisible = false\r\n            this.upStock.status = ''\r\n            this.upStock.skuId = ''\r\n            this.upStock.number = ''\r\n            this.upStock.remark = ''\r\n            this.searchList()\r\n          } else {\r\n            this.$notify.error({\r\n              title: '失败',\r\n              message: '入库失败',\r\n            });\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .app-container {\r\n    padding: 20px 20px 40px 20px;\r\n  }\r\n  .tips {\r\n    color: green;\r\n    margin-left: 20px;\r\n    font-size: 14px;\r\n  }\r\n  .testButton {\r\n    float: left;\r\n    margin-top: 20px;\r\n  }\r\n  .myStyle {\r\n    width: 100px;\r\n    height: 35px;\r\n    padding-left: 10px;\r\n  }\r\n</style>\r\n<style>\r\nspan.back {\r\n    position: absolute;\r\n    margin-top: -33px;\r\n    margin-left: 111px;\r\n    color: #409eff;\r\n    font-size:14px;\r\n}\r\n  .myStyle {\r\n    width: 100px;\r\n    height: 35px;\r\n    padding-left: 10px;\r\n  }\r\n  .total {\r\n    width: 100%;\r\n    border: 1px solid #eee;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    padding: 0 10px;\r\n  }\r\n  .totaltextarea {\r\n    width: 100%;\r\n    border: 1px solid #eee;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    margin-top: 10px;\r\n  }\r\n  .total>span {\r\n    margin-right: 45px;\r\n  }\r\n</style>\r\n\r\n","import { render, staticRenderFns } from \"./inventoryDetail.vue?vue&type=template&id=e8a29e0e&scoped=true&\"\nimport script from \"./inventoryDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./inventoryDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./inventoryDetail.vue?vue&type=style&index=0&id=e8a29e0e&lang=scss&scoped=true&\"\nimport style1 from \"./inventoryDetail.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e8a29e0e\",\n  null\n  \n)\n\ncomponent.options.__file = \"inventoryDetail.vue\"\nexport default component.exports"],"sourceRoot":""}