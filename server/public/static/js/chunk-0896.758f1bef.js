(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0896"],{"/wAP":function(t,e,n){},"5k57":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var s=n("oF3Q"),o=n.n(s);function i(t){var e=arguments,n="";return o()(t).forEach(function(t){"[object Object]"==Object.prototype.toString.call(t[1])?e.callee(t[1]):n+=t.join("=")+"&"}),n.substring(0,n.length-1)}},CerB:function(t,e,n){"use strict";n.r(e);var s=n("5k57"),o=n("nP1G"),i={props:["status","shop","user"],data:function(){return{list:[],showNew:!1,hideUpload:!1,showImgDia:!1,loading:!1,action:"",newForm:{shopId:this.shop.shopId,title:"",wxMomentsTitle:"",wxFriendsTitle:"",wxFriendsContent:"",recruitUrl:""},rules:{title:[{required:!0,message:"请输入招募标题",trigger:"blur"}],recruitUrl:[{required:!0,message:"请上传招募宣传图",trigger:"blur"}]},addLoading:!1}},created:function(){this.getList(),this.action="/sys/business/shopChannel/uploadRecruitImage?shopId="+this.shop.shopId},mounted:function(){new this.clipboard(".cobyOrderSn")},methods:{getList:function(){var t=this;this.loading=!0,Object(o.k)({shopId:this.shop.shopId,pageSize:50,pageNum:1}).then(function(e){console.log("获取招募列表",e),t.list=e.data.list,t.loading=!1})},showDetails:function(t){console.log(t,this.$router),this.$router.push({path:"/distributionManagement/distributor/preview",query:{id:t.id}})},submitForm:function(t){var e=this;this.list.length>50?this.$notify.error({title:"错误",message:"分销员招募模板最多为50条"}):this.$refs[t].validate(function(t){t&&(e.addLoading=!0,Object(o.a)(e.newForm).then(function(t){console.log("添加模板",t),200==t.code?(e.getList(),e.$message({message:"新增成功",type:"success"}),e.showNew=!1,setTimeout(function(){e.addLoading=!1},1500)):(e.$message.error(t.message),e.addLoading=!1)}))})},goToNew:function(){this.showNew=!0},setRecruit:function(t){var e=this,n={};n.shopId=this.shop.shopId,n.id=t.id,n.isDefault=1,Object(o.s)(n).then(function(t){console.log("设置默认",t),1==t.data?(e.$message({message:"设置成功",type:"success"}),e.getList()):e.$message.error(t.message)})},deleteItem:function(t){var e=this,n={};n.shopId=this.shop.shopId,n.id=t.id,this.$confirm("是否确定移除该推广链接？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){console.log(n,"----"),Object(o.g)(n).then(function(t){1==t.data?(e.getList(),e.$message({message:"删除成功",type:"success"})):e.$message.error(t.message)})}).catch(function(){})},getPic:function(t){var e={shopId:this.shop.shopId,type:1,id:t.id,fileName:t.recruitUrl},n=Object(s.a)(e);window.open("/sys/business/shopChannel/downloadRecruitImage?"+n)},getQrcode:function(t){var e={shopId:this.shop.shopId,type:2,id:t.id,fileName:t.herfUrl},n=Object(s.a)(e);window.open("/sys/business/shopChannel/downloadRecruitImage?"+n)},stopUpload:function(t,e){this.hideUpload=e.length>=1},handleRemove:function(t,e){this.hideUpload=e.length>=1,this.newForm.recruitUrl=""},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传图片大小不能超过 2MB!"),e},handleAvatarSuccess:function(t,e,n){this.hideUpload=n.length>=1,console.log(this.hideUpload),this.newForm.recruitUrl=t.data[0].name},copyLink:function(){this.$message({message:"复制成功",type:"success"})}},computed:{startTime:function(){return this.status}},watch:{}},r=(n("QZsB"),n("KHd+")),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-card",{staticStyle:{"padding-bottom":"20px"},attrs:{shadow:"never"}},[s("div",[s("el-button",{attrs:{type:"primary"},on:{click:t.goToNew}},[t._v("新增模板")])],1),t._v(" "),s("div",{staticStyle:{"margin-top":"20px"}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[s("el-table-column",{attrs:{label:"宣传图"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.recruitUrl,fit:"fill"}})]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"title",label:"招募标题"}}),t._v(" "),s("el-table-column",{attrs:{label:"推广链接"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"disStr"},[s("span",[t._v(t._s(e.row.herfUrl))]),t._v(" "),s("el-button",{staticClass:"cobyOrderSn",staticStyle:{"margin-left":"4px"},attrs:{plain:"",type:"primary",size:"mini","data-clipboard-text":e.row.herfUrl},on:{click:t.copyLink}},[t._v("复制链接")])],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){t.getPic(e.row)}}},[t._v("下载宣传图")]),t._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){t.getQrcode(e.row)}}},[t._v("下载二维码")]),t._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){t.showDetails(e.row)}}},[t._v("预览")]),t._v(" "),1==e.row.isDefault?s("el-button",{staticStyle:{color:"#909399"},attrs:{type:"text",size:"small"}},[t._v("默认")]):t._e(),t._v(" "),1!=e.row.isDefault?s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){t.setRecruit(e.row)}}},[t._v("设置默认")]):t._e(),t._v(" "),1!=e.row.isDefault?s("el-button",{staticStyle:{color:"#909399"},attrs:{type:"text",size:"small"},on:{click:function(n){t.deleteItem(e.row)}}},[t._v("删除")]):t._e()]}}])})],1)],1)]),t._v(" "),s("el-dialog",{attrs:{title:"新增推广链接",visible:t.showNew,center:""},on:{"update:visible":function(e){t.showNew=e}}},[s("div",[s("el-form",{ref:"ruleForm",staticStyle:{width:"70%"},attrs:{model:t.newForm,rules:t.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"招募标题：",prop:"title"}},[s("el-input",{attrs:{maxlength:"10",placeholder:"招募标题不能超过10个字；招募标题不能为空","show-word-limit":""},model:{value:t.newForm.title,callback:function(e){t.$set(t.newForm,"title",e)},expression:"newForm.title"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"宣传图：",prop:"recruitUrl"}},[s("el-upload",{class:{hide:t.hideUpload},attrs:{action:t.action,"list-type":"picture-card",limit:1,name:"files",accept:"image/png,image/jpg,image/jpeg","on-change":t.stopUpload,"on-remove":t.handleRemove,"before-upload":t.beforeAvatarUpload,"on-success":t.handleAvatarSuccess}},[s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("为保证手机端页面美观，支持jpg、png、jpeg 格式，建议尺寸 750*1334尺寸，最多上传一张；")]),t._v(" "),s("i",{staticClass:"el-icon-plus"})])],1)],1)],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.showNew=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{loading:t.addLoading,type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("立即创建")])],1)]),t._v(" "),s("el-dialog",{attrs:{title:"分享示例",visible:t.showImgDia,center:""},on:{"update:visible":function(e){t.showImgDia=e}}},[s("img",{attrs:{src:n("beDQ"),alt:""}})])],1)},[],!1,null,"1dd089aa",null);a.options.__file="distributorRecruiting.vue";e.default=a.exports},E8gZ:function(t,e,n){var s=n("jmDH"),o=n("w6GO"),i=n("NsO/"),r=n("NV0k").f;t.exports=function(t){return function(e){for(var n,a=i(e),u=o(a),l=u.length,c=0,d=[];l>c;)n=u[c++],s&&!r.call(a,n)||d.push(t?[n,a[n]]:a[n]);return d}}},QZsB:function(t,e,n){"use strict";var s=n("/wAP");n.n(s).a},beDQ:function(t,e,n){t.exports=n.p+"static/img/distriShowIMg.751c427.png"},nGDx:function(t,e,n){var s=n("Y7ZC"),o=n("E8gZ")(!0);s(s.S,"Object",{entries:function(t){return o(t)}})},nP1G:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"t",function(){return i}),n.d(e,"n",function(){return r}),n.d(e,"r",function(){return a}),n.d(e,"p",function(){return u}),n.d(e,"o",function(){return l}),n.d(e,"b",function(){return c}),n.d(e,"i",function(){return d}),n.d(e,"e",function(){return h}),n.d(e,"h",function(){return p}),n.d(e,"f",function(){return f}),n.d(e,"q",function(){return m}),n.d(e,"m",function(){return b}),n.d(e,"l",function(){return g}),n.d(e,"d",function(){return v}),n.d(e,"k",function(){return w}),n.d(e,"a",function(){return y}),n.d(e,"g",function(){return C}),n.d(e,"s",function(){return _}),n.d(e,"j",function(){return j});var s=n("t3Un");function o(t){return Object(s.a)({url:"/sys/business/shopChannel/findChannelUserList",method:"post",data:t})}function i(t){return Object(s.a)({url:"/sys/business/shopChannel/updateChannelUserStatus",method:"post",data:t})}function r(t){return Object(s.a)({url:"/sys/business/shopChannel/findChannelUserByParentId",method:"post",data:t})}function a(t){return Object(s.a)({url:"/sys/business/shopChannel/removeBindByid",method:"post",data:t})}function u(t){return Object(s.a)({url:"/sys/business/shopChannel/initChannelGroupList",method:"post",data:t})}function l(t){return Object(s.a)({url:"/sys/business/shopChannel/verificationGroupCapacity",method:"post",data:t})}function c(t){return Object(s.a)({url:"/sys/business/shopChannel/changeChannelUserGroup",method:"post",data:t})}function d(t){return Object(s.a)({url:"/sys/business/shopChannel/findChannelGroupList",method:"post",data:t})}function h(t){return Object(s.a)({url:"/sys/business/shopChannel/verificationGroupName",method:"post",data:t})}function p(t){return Object(s.a)({url:"/sys/business/shopChannel/editChannelGroup",method:"post",data:t})}function f(t){return Object(s.a)({url:"/sys/business/shopChannel/deleteChannelGroup",method:"post",data:t})}function m(t){return Object(s.a)({url:"/sys/business/shopChannel/initChannelUserList",method:"post",data:t})}function b(t){return Object(s.a)({url:"/sys/business/shopChannel/findChannelUserByGroupId",method:"post",data:t})}function g(t){return Object(s.a)({url:"/sys/business/shopChannel/findChannelUserApplyRecordList",method:"post",data:t})}function v(t){return Object(s.a)({url:"/sys/business/shopChannel/checkApplyState",method:"post",data:t})}function w(t){return Object(s.a)({url:"/sys/business/shopChannel/findChannelRecruitInfoList",method:"post",data:t})}function y(t){return Object(s.a)({url:"/sys/business/shopChannel/addChannelRecruitInfo",method:"post",data:t})}function C(t){return Object(s.a)({url:"/sys/business/shopChannel/deleteChannelRecruitInfoById",method:"post",data:t})}function _(t){return Object(s.a)({url:"/sys/business/shopChannel/updateChannelRecruitInfo",method:"post",data:t})}function j(t){return Object(s.a)({url:"/sys/business/shopChannel/findChannelRecruitInfoById",method:"post",data:t})}},oF3Q:function(t,e,n){t.exports={default:n("tgZa"),__esModule:!0}},tgZa:function(t,e,n){n("nGDx"),t.exports=n("WEpk").Object.entries}}]);
//# sourceMappingURL=chunk-0896.758f1bef.js.map