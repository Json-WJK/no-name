{"version":3,"sources":["webpack:///./src/views/shop/shopRenovation/components/editor/editorCouponBox.vue?0a3c","webpack:///./src/api/marketManage/coupon.js","webpack:///./src/views/shop/shopRenovation/components/editor/editorCouponBox.vue?75fe","webpack:///./src/views/shop/shopRenovation/components/editor/editorCouponBox.vue?b333","webpack:///src/views/shop/shopRenovation/components/editor/editorCouponBox.vue","webpack:///./src/views/shop/shopRenovation/components/editor/editorCouponBox.vue","webpack:///./src/views/shop/shopRenovation/components/popover/coupon.vue?b2f9","webpack:///./src/views/shop/shopRenovation/components/popover/coupon.vue?e09a","webpack:///src/views/shop/shopRenovation/components/popover/coupon.vue","webpack:///./src/views/shop/shopRenovation/components/popover/coupon.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_9_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_9_2_node_modules_less_loader_dist_cjs_js_ref_9_3_node_modules_vue_loader_lib_index_js_vue_loader_options_editorCouponBox_vue_vue_type_style_index_0_id_2de81e0b_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","d","__webpack_exports__","getCouponInfoPage","getCouponProductPage","getCouponUserPage","addCouponInfo","editCouponInfo","couponData","findCouponInfo","deleteCouponInfo","userCouponProductPage","getCouponInfoSubGroupPage","getCouponInfoSubGroupInfo","getCouponCodeUrl","_utils_request__WEBPACK_IMPORTED_MODULE_0__","data","request","url","method","shopId","couponId","editor_editorCouponBoxvue_type_script_lang_js_","props","itemData","type","Object","checkList","navigation","couponShow","methods","couponFun","e","_this","this","console","log","couponIds","length","coupons","forEach","item","push","id","deleteItem","i","splice","discountAmount","couponContext","disabled","components","coupon","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","model","size","label","value","callback","$$v","expression","staticStyle","width","border","show-header","show-overflow-tooltip","scopedSlots","_u","key","fn","scope","_s","row","couponName","on","click","$event","$index","_e","icon","$set","color","couponClose","options","__file","popover_couponvue_type_script_lang_js_","watch","newvalue","oldValue","getData","fromLoading","searchList","pageNum","pageSize","category","list","listTotal","multipleSelection","created","shop","sub","$message","error","$emit","$refs","multipleTable","clearSelection","toggleSelection","rows","toggleRowSelection","handleSelectionChange","val","handleSizeChange","handleCurrentChange","reset","productName","shopCategoryIdArr","_this2","then","res","code","total","close","change","$forceUpdate","computed","extends_default","vuex_esm","append-to-body","title","visible","close-on-click-modal","close-on-press-escape","show-close","update:visible","shadow","float","margin-right","margin-top","inline","label-width","clearable","placeholder","input","tooltip-effect","selection-change","prop","data-id","limitNumber","padding","page-sizes","page-size","layout","size-change","current-change","slot"],"mappings":"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","file":"static/js/chunk-6b9c.09a0390b.js","sourcesContent":["import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/index.js??ref--9-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/lib/index.js??ref--9-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--9-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editorCouponBox.vue?vue&type=style&index=0&id=2de81e0b&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/index.js??ref--9-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/lib/index.js??ref--9-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--9-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editorCouponBox.vue?vue&type=style&index=0&id=2de81e0b&scoped=true&lang=less&\"","import request from '@/utils/request'\r\n// 分页查询优惠券\r\nexport function getCouponInfoPage(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponInfoPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 分页查询可添加优惠券商品\r\nexport function getCouponProductPage(data) {\r\n  return request({\r\n    url: `/sys/couponProduct/getCouponProductPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 分页查询优惠券可添加用户\r\nexport function getCouponUserPage(data) {\r\n  return request({\r\n    url: `/sys/couponProduct/getCouponUserPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 添加优惠券\r\nexport function addCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/addCouponInfo`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 编辑优惠券\r\nexport function editCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/editCouponInfo`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 优惠券使用数据\r\nexport function couponData(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/couponData?couponId=${data}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 查询优惠券详情\r\nexport function findCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/findCouponInfo?couponId=${data}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 优惠券失效\r\nexport function deleteCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/deleteCouponInfo?couponId=${data}`,\r\n    method: 'DELETE',\r\n  })\r\n}\r\n// 优惠券商品使用列表\r\nexport function userCouponProductPage(data) {\r\n  return request({\r\n    url: `/sys/couponProduct/userCouponProductPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 组件 - 列表\r\nexport function getCouponInfoSubGroupPage(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponInfoSubGroupPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 组件 - 回显\r\nexport function getCouponInfoSubGroupInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponInfoSubGroupInfo?couponIdStr=${data}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 优惠券推广\r\nexport function getCouponCodeUrl(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponCodeUrl?shopId=${data.shopId}&couponId=${data.couponId}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// export function getCouponCodeUrl(data) {\r\n//   return request({\r\n//     url: `/sys/couponInfo/getCouponCodeUrl`,\r\n//     method: 'post',\r\n//     data: data\r\n//   })\r\n// }\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"itemBox\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"优惠券\")]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.itemData,\"size\":\"mini\"}},[_c('el-form-item',{staticClass:\"navigation\",attrs:{\"label\":\"添加方式\"}},[_c('el-radio-group',{model:{value:(_vm.navigation),callback:function ($$v) {_vm.navigation=$$v},expression:\"navigation\"}},[_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"手动添加\")])],1),_vm._v(\" \"),(_vm.itemData.couponIds.length > 0)?_c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.itemData.coupons,\"border\":false,\"show-header\":false}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.couponName + scope.row.couponContext))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.deleteItem(scope.$index)}}},[_vm._v(\"删除\")])]}}])})],1)],1):_vm._e(),_vm._v(\" \"),_c('el-button',{staticClass:\"goodsUpload\",attrs:{\"disabled\":_vm.itemData.couponIds.length >= 10,\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":function($event){_vm.couponShow = true}}},[_vm._v(\"添加优惠券\")]),_vm._v(\" \"),_c('div',{staticClass:\"infoFont\"},[_vm._v(\"最多可添加10张优惠券\")])],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"showType\",attrs:{\"label\":\"样式\"}},[_c('div',{staticClass:\"fistType\"},[_c('span',{staticClass:\"showClass\"},[_vm._v(\"样式展示\")]),_vm._v(\" \"),_c('el-radio-group',{model:{value:(_vm.itemData.style),callback:function ($$v) {_vm.$set(_vm.itemData, \"style\", $$v)},expression:\"itemData.style\"}},[_c('el-radio',{attrs:{\"label\":\"style_1\"}},[_vm._v(\"样式1\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"style_2\"}},[_vm._v(\"样式2\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"style_3\"}},[_vm._v(\"样式3\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"style_4\"}},[_vm._v(\"样式4\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"style_5\"}},[_vm._v(\"样式5\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"sendType\"},[_c('span',{staticClass:\"showClass\"},[_vm._v(\"推荐颜色\")]),_vm._v(\" \"),_c('div',{staticClass:\"selctColor\"},[_c('span',{staticClass:\"bg1\",on:{\"click\":function($event){_vm.itemData.color = 'color_1'}}},[_c('span')]),_vm._v(\" \"),_c('span',{staticClass:\"bg2\",on:{\"click\":function($event){_vm.itemData.color = 'color_2'}}},[_c('span')]),_vm._v(\" \"),_c('span',{staticClass:\"bg3\",on:{\"click\":function($event){_vm.itemData.color = 'color_3'}}},[_c('span')]),_vm._v(\" \"),_c('span',{staticClass:\"bg4\",on:{\"click\":function($event){_vm.itemData.color = 'color_4'}}},[_c('span')])])])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"更多设置\"}},[_c('el-checkbox-group',{model:{value:(_vm.checkList),callback:function ($$v) {_vm.checkList=$$v},expression:\"checkList\"}},[_c('el-checkbox',{attrs:{\"label\":0}},[_vm._v(\"隐藏已抢完券\")])],1),_vm._v(\" \"),_c('p',{staticClass:\"prompt\"},[_vm._v(\"当页面无可显示的优惠券时，优惠券区块将隐藏\")])],1)],1),_vm._v(\" \"),_c('coupon',{attrs:{\"couponShow\":_vm.couponShow,\"couponIds\":_vm.itemData.couponIds},on:{\"couponClose\":function($event){_vm.couponShow = false},\"couponFun\":_vm.couponFun}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/happypack/loader.js?id=js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editorCouponBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/happypack/loader.js?id=js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editorCouponBox.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"itemBox\">\r\n    <p class=\"title\">优惠券</p>\r\n    <el-form ref=\"form\" :model=\"itemData\" size=\"mini\">\r\n      <el-form-item label=\"添加方式\" class=\"navigation\">\r\n        <el-radio-group v-model=\"navigation\">\r\n          <el-radio :label=\"0\">手动添加</el-radio>\r\n          <!-- <el-radio :label=\"1\">自动获取</el-radio> -->\r\n        </el-radio-group>\r\n        <div v-if=\"itemData.couponIds.length > 0\">\r\n          <el-table :data=\"itemData.coupons\" style=\"width: 100%\" :border=\"false\" :show-header=\"false\">\r\n            <el-table-column show-overflow-tooltip>\r\n              <template slot-scope=\"scope\">\r\n                <div>{{scope.row.couponName + scope.row.couponContext}}</div>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column width=\"60\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button @click=\"deleteItem(scope.$index)\" type=\"text\" size=\"small\">删除</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n        <el-button :disabled=\"itemData.couponIds.length >= 10\" @click=\"couponShow = true\" class=\"goodsUpload\" icon=\"el-icon-circle-plus-outline\">添加优惠券</el-button>\r\n        <div class=\"infoFont\">最多可添加10张优惠券</div>\r\n      </el-form-item>\r\n      <el-form-item label=\"样式\" class=\"showType\">\r\n        <div class=\"fistType\">\r\n          <span class=\"showClass\">样式展示</span>\r\n          <el-radio-group v-model=\"itemData.style\">\r\n            <el-radio label=\"style_1\">样式1</el-radio>\r\n            <el-radio label=\"style_2\">样式2</el-radio>\r\n            <el-radio label=\"style_3\">样式3</el-radio>\r\n            <el-radio label=\"style_4\">样式4</el-radio>\r\n            <el-radio label=\"style_5\">样式5</el-radio>\r\n          </el-radio-group>\r\n        </div>\r\n        <div class=\"sendType\">\r\n          <span class=\"showClass\">推荐颜色</span>\r\n          <div class=\"selctColor\">\r\n            <span class=\"bg1\" @click=\"itemData.color = 'color_1'\">\r\n              <span></span>\r\n            </span>\r\n            <span class=\"bg2\" @click=\"itemData.color = 'color_2'\">\r\n              <span></span>\r\n            </span>\r\n            <span class=\"bg3\" @click=\"itemData.color = 'color_3'\">\r\n              <span></span>\r\n            </span>\r\n            <span class=\"bg4\" @click=\"itemData.color = 'color_4'\">\r\n              <span></span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"更多设置\">\r\n        <el-checkbox-group v-model=\"checkList\">\r\n          <el-checkbox :label=\"0\">隐藏已抢完券</el-checkbox>\r\n        </el-checkbox-group>\r\n        <p class=\"prompt\">当页面无可显示的优惠券时，优惠券区块将隐藏</p>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- 商品列表弹出框 -->\r\n    <coupon :couponShow=\"couponShow\" :couponIds=\"itemData.couponIds\" @couponClose=\"couponShow = false\" @couponFun=\"couponFun\"></coupon>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport coupon from '../popover/coupon';\r\nexport default {\r\n  props: {\r\n    //父级传递的数据\r\n    itemData: {\r\n      type: Object\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      checkList: [0, 1],\r\n      navigation:0,\r\n      couponShow:false\r\n    };\r\n  },\r\n  methods: {\r\n    couponFun(e){\r\n      console.log('父接受',e,this.itemData)\r\n      if(this.itemData.couponIds.length == 0){\r\n        this.itemData.coupons = e;\r\n        e.forEach( item => {\r\n          this.itemData.couponIds.push(item.id)\r\n        })\r\n      }else{\r\n        e.forEach( item => {\r\n          this.itemData.coupons.push(item)\r\n          this.itemData.couponIds.push(item.id)\r\n        })\r\n      }\r\n      this.couponShow = false\r\n      console.log('this.itemData.coupons',this.itemData.coupons)\r\n    },\r\n    deleteItem(i){\r\n      this.itemData.coupons.splice(i, 1)\r\n      this.itemData.couponIds.splice(i, 1)\r\n      if(this.itemData.couponIds.length == 0){\r\n        this.itemData.coupons.push({\r\n          discountAmount:'200',\r\n          couponContext:'满999可用',\r\n          disabled:false\r\n        })\r\n        this.itemData.coupons.push({\r\n          discountAmount:'200',\r\n          couponContext:'满999可用',\r\n          disabled:false\r\n        })\r\n        this.itemData.coupons.push({\r\n          discountAmount:'200',\r\n          couponContext:'满999可用',\r\n          disabled:true\r\n        })\r\n      }\r\n    },\r\n  },\r\n  components: {\r\n    coupon\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.active {\r\n  border: 1px solid #000;\r\n}\r\n.title {\r\n    padding: 20px 18px 24px 18px;\r\n  border-bottom: 1px solid #eee;\r\n  color: #333;\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n}\r\n.itemBox /deep/ .el-form {\r\n  margin: 18px 24px;\r\n  .el-form-item__label {\r\n    display: block;\r\n    float: inherit;\r\n    text-align: inherit;\r\n    padding: 0;\r\n    color: #222;\r\n    font-weight: 100;\r\n    margin-bottom: 12px;\r\n  }\r\n  .el-input-number--mini {\r\n    width: 160px;\r\n  }\r\n  .el-input__inner {\r\n    height: 29px;\r\n    border-radius: 2px;\r\n    padding-left: 0px;\r\n    padding-right: 28px;\r\n  }\r\n  .el-form-item__error {\r\n    padding-top: 5px;\r\n  }\r\n  .el-radio__label {\r\n    font-size: 12px;\r\n    color: #333;\r\n  }\r\n  .navigation {\r\n    border-bottom: 1px solid #eee;\r\n    padding-bottom: 16px;\r\n    .el-radio {\r\n      margin-left: 10px;\r\n      width: 64px;\r\n      margin-bottom: 10px;\r\n    }\r\n  }\r\n  .custom {\r\n    display: flex;\r\n    align-items: center;\r\n    .el-color-picker {\r\n      margin-left: 16px;\r\n    }\r\n  }\r\n  .el-checkbox-group {\r\n    margin-left: 10px;\r\n  }\r\n  .el-checkbox {\r\n    display: block;\r\n    margin: 0;\r\n  }\r\n  .prompt {\r\n    font-size: 12px;\r\n    color: rgba(153, 153, 153, 1);\r\n    line-height: 20px;\r\n    letter-spacing: 0px;\r\n    margin-top: 8px;\r\n    margin-left: 10px;\r\n  }\r\n  .goodsUpload {\r\n    width: 304px;\r\n    height: 32px;\r\n    margin: 6px 0;\r\n  }\r\n  .showType {\r\n    border-bottom: 1px solid #eee;\r\n    padding-bottom: 24px;\r\n    .fistType {\r\n      display: flex;\r\n      .el-radio {\r\n        margin: 6px 0;\r\n      }\r\n    }\r\n    .el-radio {\r\n      width: 72px;\r\n      margin: 0;\r\n    }\r\n  }\r\n  .showClass {\r\n    width: 72px;\r\n    height: 24px;\r\n    color: #999999;\r\n    font-size: 12px;\r\n    text-align: left;\r\n    margin-right: 24px;\r\n    margin-left: 3px;\r\n  }\r\n  .sendType {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 6px;\r\n    .showClass {\r\n      margin-right: 3px;\r\n    }\r\n    .selctColor {\r\n      display: flex;\r\n      align-items: center;\r\n      .el-button{\r\n        margin-left: 6px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.bg1,\r\n.bg2,\r\n.bg3,\r\n.bg4 {\r\n  display: inline-block;\r\n  width: 22px;\r\n  height: 22px;\r\n  border: 1px solid #dddddd;\r\n  background-color: #fff;\r\n  text-align: center;\r\n  line-height: 26px;\r\n  margin-right: 12px;\r\n  cursor: pointer;\r\n  span {\r\n    display: inline-block;\r\n    width: 16px;\r\n    height: 16px;\r\n  }\r\n}\r\n.bg1 span {\r\n  background-color: #DD3D1D;\r\n}\r\n.bg2 span {\r\n  background-color: #FFE48C;\r\n}\r\n.bg3 span {\r\n  background-color: #333;\r\n}\r\n.bg4 span {\r\n  background-color: #fff;\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./editorCouponBox.vue?vue&type=template&id=2de81e0b&scoped=true&\"\nimport script from \"./editorCouponBox.vue?vue&type=script&lang=js&\"\nexport * from \"./editorCouponBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editorCouponBox.vue?vue&type=style&index=0&id=2de81e0b&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2de81e0b\",\n  null\n  \n)\n\ncomponent.options.__file = \"editorCouponBox.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"append-to-body\":true,\"title\":\"新增商品列表\",\"visible\":_vm.couponShow,\"width\":\"70%\",\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"show-close\":false},on:{\"update:visible\":function($event){_vm.couponShow=$event}}},[_c('el-card',{staticClass:\"filter-container\",attrs:{\"shadow\":\"never\"}},[_c('div',[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" \"),_c('span',[_vm._v(\"筛选搜索\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.getData}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"size\":\"small\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.searchList,\"size\":\"small\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"优惠券名称：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"优惠券名称\"},on:{\"input\":function($event){_vm.change($event)}},model:{value:(_vm.searchList.couponName),callback:function ($$v) {_vm.$set(_vm.searchList, \"couponName\", $$v)},expression:\"searchList.couponName\"}})],1)],1)],1)]),_vm._v(\" \"),_c('el-card',{staticClass:\"filter-container\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"shadow\":\"never\"}},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"tooltip-effect\":\"dark\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"优惠券名称\",\"prop\":\"couponName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"适用商品\",\"width\":\"240\",\"prop\":\"productTypeName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"优惠内容\",\"width\":\"240\",\"prop\":\"couponContext\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"领取人限制\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{attrs:{\"data-id\":scope.row.id}},[_vm._v(\"全部用户\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"限领次数\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.limitNumber == 0 ? '不限制' : scope.row.limitNumber))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"剩余库存\",\"prop\":\"havaNum\",\"width\":\"140\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"padding\":\"10px 0 20px 0\"}},[_c('el-pagination',{attrs:{\"page-sizes\":[5, 10, 15, 20],\"page-size\":_vm.searchList.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.listTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sub}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/happypack/loader.js?id=js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/happypack/loader.js?id=js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon.vue?vue&type=script&lang=js&\"","<template>\r\n  <el-dialog :append-to-body=\"true\" title=\"新增商品列表\" :visible.sync=\"couponShow\" width=\"70%\" :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :show-close=\"false\">\r\n    <!-- 筛选条件 -->\r\n    <el-card class=\"filter-container\" shadow=\"never\">\r\n      <div>\r\n        <i class=\"el-icon-search\"></i>\r\n        <span>筛选搜索</span>\r\n        <el-button style=\"float: right\" @click=\"getData\" type=\"primary\" size=\"small\">查询</el-button>\r\n        <el-button style=\"float: right;margin-right: 15px\" @click=\"reset\" size=\"small\">重置</el-button>\r\n      </div>\r\n      <div style=\"margin-top: 15px\">\r\n        <el-form :inline=\"true\" :model=\"searchList\" size=\"small\" label-width=\"140px\">\r\n          <el-form-item label=\"优惠券名称：\">\r\n            <el-input style=\"width: 203px\" v-model=\"searchList.couponName\" clearable placeholder=\"优惠券名称\" @input=\"change($event)\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </el-card>\r\n    <el-card class=\"filter-container\" shadow=\"never\" style=\"margin-top:10px;\">\r\n      <el-table\r\n        ref=\"multipleTable\"\r\n        :data=\"list\"\r\n        tooltip-effect=\"dark\"\r\n        style=\"width: 100%\"\r\n        @selection-change=\"handleSelectionChange\">\r\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n        <el-table-column label=\"优惠券名称\" prop=\"couponName\"></el-table-column>\r\n        <el-table-column label=\"适用商品\" width=\"240\" prop=\"productTypeName\"></el-table-column>\r\n        <el-table-column label=\"优惠内容\" width=\"240\" prop=\"couponContext\"></el-table-column>\r\n        <el-table-column label=\"领取人限制\" width=\"140\">\r\n          <template slot-scope=\"scope\">\r\n            <div :data-id=\"scope.row.id\">全部用户</div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"限领次数\" width=\"140\">\r\n          <template slot-scope=\"scope\">{{ scope.row.limitNumber == 0 ? '不限制' : scope.row.limitNumber }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"剩余库存\" prop=\"havaNum\" width=\"140\"></el-table-column>\r\n      </el-table>\r\n      <div style=\"padding:10px 0 20px 0;\">\r\n        <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :page-sizes=\"[5, 10, 15, 20]\"\r\n          :page-size=\"searchList.pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"listTotal\">\r\n        </el-pagination>\r\n      </div>\r\n    </el-card>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"close\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"sub\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { getCouponInfoSubGroupPage } from '@/api/marketManage/coupon'\r\nexport default {\r\n  props: [\"couponIds\",\"couponShow\"],\r\n  watch:{\r\n    couponShow(newvalue,oldValue){\r\n      if(newvalue){\r\n        this.getData();\r\n      }\r\n    },\r\n  },\r\n  data(){\r\n    return{\r\n      fromLoading:false,\r\n      searchList:{\r\n        pageNum:1,\r\n        pageSize:5\r\n      },\r\n      category:[],\r\n      list:[],\r\n      listTotal:0,\r\n      multipleSelection:[],           // 勾选的数据\r\n    }\r\n  },\r\n  created(){\r\n    this.searchList.shopId = this.shop.shopId\r\n  },\r\n  methods:{\r\n    sub(){\r\n      console.log('multipleSelection',this.multipleSelection)\r\n      if(this.multipleSelection.length == 0){\r\n        this.$message.error('请选择优惠券后再试');\r\n        return;\r\n      }\r\n      if(this.couponIds.length + this.multipleSelection.length > 10){\r\n        this.$message.error('最多可选择10张优惠券');\r\n        return;\r\n      }\r\n      this.$emit('couponFun',this.multipleSelection)\r\n      this.$refs.multipleTable.clearSelection();\r\n    },\r\n    toggleSelection(rows) {\r\n      if (rows) {\r\n        rows.forEach(row => {\r\n          this.$refs.multipleTable.toggleRowSelection(row);\r\n        });\r\n      } else {\r\n        this.$refs.multipleTable.clearSelection();\r\n      }\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n      this.searchList.pageSize = val;\r\n      this.getData()\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.searchList.pageNum = val;\r\n      this.getData()\r\n    },\r\n    reset(){\r\n      this.searchList.productName = ''\r\n      this.searchList.shopCategoryIdArr = []\r\n      this.getData();\r\n    },\r\n    // 列表 - 获取数据\r\n    getData(){\r\n      this.fromLoading = true\r\n      this.searchList.couponIds = this.couponIds || []\r\n      console.log('请求的数据',this.searchList)\r\n      getCouponInfoSubGroupPage(this.searchList).then(res=>{\r\n        console.log('优惠券数据列表',res)\r\n        if(res.code == 200){\r\n          this.list = res.data.list\r\n          this.listTotal = res.data.total\r\n        }\r\n        this.fromLoading = false\r\n      })\r\n    },\r\n    close(){\r\n      this.$emit('couponClose',true)\r\n    },\r\n    change(){\r\n      this.$forceUpdate()\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'user',\r\n      'shop'\r\n    ])\r\n  },\r\n}\r\n</script>","import { render, staticRenderFns } from \"./coupon.vue?vue&type=template&id=4d734682&\"\nimport script from \"./coupon.vue?vue&type=script&lang=js&\"\nexport * from \"./coupon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"coupon.vue\"\nexport default component.exports"],"sourceRoot":""}