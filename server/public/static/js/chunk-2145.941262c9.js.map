{"version":3,"sources":["webpack:///./src/views/marketManage/coupon/newMemberCoupon.vue?38c5","webpack:///./src/views/marketManage/coupon/newMemberCoupon.vue?74a4","webpack:///src/views/marketManage/coupon/newMemberCoupon.vue","webpack:///./src/views/marketManage/coupon/newMemberCoupon.vue","webpack:///./src/api/marketManage/coupon.js","webpack:///./src/api/commodity/commodityClassify.js","webpack:///./src/views/marketManage/coupon/newMemberCoupon.vue?3367","webpack:///./src/views/marketManage/coupon/components/commodity.vue?88ee","webpack:///./src/views/marketManage/coupon/components/commodity.vue?65d2","webpack:///src/views/marketManage/coupon/components/commodity.vue","webpack:///./src/views/marketManage/coupon/components/commodity.vue"],"names":["coupon_newMemberCouponvue_type_script_lang_js_","data","form","productType","fullAmountType","timeType","limitType","useProList","useIds","unUserProList","unUseIds","commodityIds","commodityShow","loading","customerShow","customerIds","customerList","created","this","couponType","shopId","shop","$route","query","couponId","getData","methods","_this","Object","coupon","then","res","console","log","code","couponProducts","ids","forEach","item","push","productId","productIds","_ids","fullAmount","fullAmountNum","beginTime","endTime","time","limitTime1","undefined","limitTime2","couponUsers","userId","limitNumber","onSubmit","_this2","couponName","length","$message","error","discountAmount","limitTime","message","type","$router","replace","path","setTimeout","customerClose","customerFun","e","_this3","deleteCus","i","splice","addCom","commodityClose","commodityFun","_this4","deletePro","i1","i2","computed","extends_default","vuex_esm","components","commodity","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","shadow","_v","label","required","staticStyle","width","maxlength","show-word-limit","placeholder","value","callback","$$v","$set","expression","on","click","$event","scopedSlots","_u","key","fn","scope","placement","title","trigger","max-height","max-width","slot","src","row","imageUrl","alt","prop","_s","minPrice","maxPrice","size","$index","_e","precision","max","controls","step-strictly","effect","content","min","options","__file","__webpack_exports__","__webpack_require__","d","getCouponInfoPage","getCouponProductPage","getCouponUserPage","addCouponInfo","editCouponInfo","couponData","findCouponInfo","deleteCouponInfo","userCouponProductPage","getCouponInfoSubGroupPage","getCouponInfoSubGroupInfo","getCouponCodeUrl","_utils_request__WEBPACK_IMPORTED_MODULE_0__","request","url","method","getProductCategoryInfoList","insertProductCategoryShop","deleteProductCategoryShop","isCategoryNameExist","updateProductCategoryShopOrderNo","updateProductCategoryShop","getProductCategoryShopAllList","getProductCategoryInfoPageList","name","level","parentId","id","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_9_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_9_2_node_modules_less_loader_dist_cjs_js_ref_9_3_node_modules_vue_loader_lib_index_js_vue_loader_options_newMemberCoupon_vue_vue_type_style_index_0_id_44730c84_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","n","components_commodityvue_type_script_lang_js_","props","watch","newvalue","oldValue","fromLoading","searchList","shopCategoryIdArr","pageNum","pageSize","category","list","listTotal","multipleSelection","sub","$emit","$refs","multipleTable","clearSelection","toggleSelection","rows","toggleRowSelection","handleSelectionChange","val","handleSizeChange","handleCurrentChange","reset","productName","shopCategoryPid","shopCategoryId","total","getCategory","commodityClassify","close","change","$forceUpdate","append-to-body","visible","close-on-click-modal","close-on-press-escape","show-close","update:visible","float","margin-right","margin-top","inline","clearable","input","checkStrictly","tooltip-effect","selection-change","padding","page-sizes","page-size","layout","size-change","current-change"],"mappings":"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","file":"static/js/chunk-2145.941262c9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pageContent\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"160px\"}},[_c('el-card',{staticClass:\"filter-container\",attrs:{\"shadow\":\"never\"}},[_c('div',{staticClass:\"pageHead\"},[_vm._v(\"基本信息\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"优惠券名称：\",\"required\":\"\"}},[_c('el-input',{staticStyle:{\"width\":\"400px\"},attrs:{\"maxlength\":\"10\",\"show-word-limit\":\"\",\"placeholder\":\"如：年货节优惠券，最多10个字\"},model:{value:(_vm.form.couponName),callback:function ($$v) {_vm.$set(_vm.form, \"couponName\", $$v)},expression:\"form.couponName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"适用商品：\",\"required\":\"\"}},[_c('el-radio-group',{model:{value:(_vm.form.productType),callback:function ($$v) {_vm.$set(_vm.form, \"productType\", $$v)},expression:\"form.productType\"}},[_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"全部商品可用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"指定商品可用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"指定商品不可用\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"infoFont\"},[_vm._v(\"若活动商品中存在分销商品，优惠后可能造成利润受损\")])],1),_vm._v(\" \"),(_vm.form.productType == 1)?_c('el-form-item',{attrs:{\"label\":\"选择商品：\",\"required\":\"\"}},[_c('div',[_c('el-button',{on:{\"click\":function($event){_vm.addCom(1)}}},[_vm._v(\"添加商品\")])],1),_vm._v(\" \"),(_vm.useProList.length > 0)?_c('div',{staticClass:\"mt10\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.useProList}},[_c('el-table-column',{attrs:{\"label\":\"商品图片\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"right\",\"title\":\"\",\"trigger\":\"hover\"}},[_c('el-image',{staticStyle:{\"max-height\":\"40px\",\"max-width\":\"40px\"},attrs:{\"slot\":\"reference\",\"src\":scope.row.imageUrl,\"alt\":scope.row.imageUrl},slot:\"reference\"}),_vm._v(\" \"),_c('el-image',{staticStyle:{\"max-height\":\"350px\",\"max-width\":\"350px\"},attrs:{\"src\":scope.row.imageUrl}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"prop\":\"productName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"可用库存\",\"width\":\"140\",\"prop\":\"stock\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品售价（元）\",\"width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s('￥' +  scope.row.minPrice + ' ~ ￥' + scope.row.maxPrice))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.deletePro(1,scope.$index)}}},[_vm._v(\"删除\")])]}}])})],1)],1):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.form.productType == 2)?_c('el-form-item',{attrs:{\"label\":\"选择商品：\",\"required\":\"\"}},[_c('div',[_c('el-button',{on:{\"click\":function($event){_vm.addCom(2)}}},[_vm._v(\"添加商品\")])],1),_vm._v(\" \"),(_vm.unUserProList.length > 0)?_c('div',{staticClass:\"mt10\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.unUserProList}},[_c('el-table-column',{attrs:{\"label\":\"商品图片\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"right\",\"title\":\"\",\"trigger\":\"hover\"}},[_c('el-image',{staticStyle:{\"max-height\":\"40px\",\"max-width\":\"40px\"},attrs:{\"slot\":\"reference\",\"src\":scope.row.imageUrl,\"alt\":scope.row.imageUrl},slot:\"reference\"}),_vm._v(\" \"),_c('el-image',{staticStyle:{\"max-height\":\"350px\",\"max-width\":\"350px\"},attrs:{\"src\":scope.row.imageUrl}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"prop\":\"productName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"可用库存\",\"width\":\"140\",\"prop\":\"stock\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品售价（元）\",\"width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s('￥' +  scope.row.minPrice + ' ~ ￥' + scope.row.maxPrice))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.deletePro(2,scope.$index)}}},[_vm._v(\"删除\")])]}}])})],1)],1):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"使用门槛：\",\"required\":\"\"}},[_c('el-radio-group',{model:{value:(_vm.form.fullAmountType),callback:function ($$v) {_vm.$set(_vm.form, \"fullAmountType\", $$v)},expression:\"form.fullAmountType\"}},[_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"无门槛使用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"订单满\\n            \"),_c('el-input-number',{attrs:{\"precision\":2,\"max\":10000,\"controls\":false},model:{value:(_vm.form.fullAmountNum),callback:function ($$v) {_vm.$set(_vm.form, \"fullAmountNum\", $$v)},expression:\"form.fullAmountNum\"}}),_vm._v(\"\\n          元\")],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"优惠内容：\",\"required\":\"\"}},[_vm._v(\"\\n        减免\\n        \"),_c('el-input-number',{attrs:{\"step-strictly\":\"\",\"max\":10000,\"controls\":false},model:{value:(_vm.form.discountAmount),callback:function ($$v) {_vm.$set(_vm.form, \"discountAmount\", $$v)},expression:\"form.discountAmount\"}}),_vm._v(\"\\n        元\\n        \"),_c('div',{staticClass:\"infoFont\"},[_vm._v(\"优惠券面值必须大于等于 0元的正整数, 且最大不能超过10000元\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用券时间：\",\"required\":\"\"}},[_c('el-radio-group',{model:{value:(_vm.form.timeType),callback:function ($$v) {_vm.$set(_vm.form, \"timeType\", $$v)},expression:\"form.timeType\"}},[_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"\\n            不限制\\n            \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"选择不限制，该优惠券不会过期（除非操作人手动失效该优惠券）\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question curP\"})])],1),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"\\n            领券当日起\\n            \"),_c('el-input-number',{attrs:{\"precision\":2,\"max\":30,\"min\":1,\"controls\":false},model:{value:(_vm.form.limitTime1),callback:function ($$v) {_vm.$set(_vm.form, \"limitTime1\", $$v)},expression:\"form.limitTime1\"}}),_vm._v(\"\\n            天内可用\\n            \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"发放券当日起N天内可用， 若用户未使用该优惠，则该优惠券为已过期优惠券\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question curP\"})])],1)],1)],1)],1),_vm._v(\" \"),_c('el-card',{staticClass:\"filter-container mt10\",attrs:{\"shadow\":\"never\"}},[_c('div',{staticClass:\"pageHead\"},[_vm._v(\"领取及使用规则\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"每人限领次数：\",\"required\":\"\"}},[_c('el-radio-group',{model:{value:(_vm.form.limitType),callback:function ($$v) {_vm.$set(_vm.form, \"limitType\", $$v)},expression:\"form.limitType\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"每人限领\\n            \"),_c('el-input-number',{attrs:{\"step-strictly\":\"\",\"max\":10,\"placeholder\":\"限领次数上限为10\",\"controls\":false},model:{value:(_vm.form.limitNumber),callback:function ($$v) {_vm.$set(_vm.form, \"limitNumber\", $$v)},expression:\"form.limitNumber\"}}),_vm._v(\"\\n            次\\n          \")],1)],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"mt20 flex-row-center\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.onSubmit}},[_vm._v(\"保 存\")])],1)],1),_vm._v(\" \"),_c('commodity',{attrs:{\"commodityShow\":_vm.commodityShow,\"commodityIds\":_vm.commodityIds},on:{\"commodityClose\":_vm.commodityClose,\"commodityFun\":_vm.commodityFun}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/happypack/loader.js?id=js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./newMemberCoupon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/happypack/loader.js?id=js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./newMemberCoupon.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"pageContent\">\r\n    <el-form ref=\"form\" :model=\"form\" label-width=\"160px\">\r\n      <el-card class=\"filter-container\" shadow=\"never\">\r\n        <div class=\"pageHead\">基本信息</div>\r\n        <el-form-item label=\"优惠券名称：\" required>\r\n          <el-input \r\n            v-model=\"form.couponName\" \r\n            style=\"width:400px;\"\r\n            maxlength=\"10\"\r\n            show-word-limit\r\n            placeholder=\"如：年货节优惠券，最多10个字\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"适用商品：\" required>\r\n          <el-radio-group v-model=\"form.productType\">\r\n            <el-radio :label=\"0\">全部商品可用</el-radio>\r\n            <el-radio :label=\"1\">指定商品可用</el-radio>\r\n            <el-radio :label=\"2\">指定商品不可用</el-radio>\r\n          </el-radio-group>\r\n          <div class=\"infoFont\">若活动商品中存在分销商品，优惠后可能造成利润受损</div>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"form.productType == 1\" label=\"选择商品：\" required>\r\n          <div><el-button @click=\"addCom(1)\">添加商品</el-button></div>\r\n          <div v-if=\"useProList.length > 0\" class=\"mt10\">\r\n            <el-table :data=\"useProList\" style=\"width: 100%\">\r\n              <el-table-column label=\"商品图片\" width=\"140\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-popover placement=\"right\" title trigger=\"hover\">\r\n                    <el-image\r\n                      slot=\"reference\"\r\n                      :src=\"scope.row.imageUrl\"\r\n                      :alt=\"scope.row.imageUrl\"\r\n                      style=\"max-height: 40px;max-width: 40px\"\r\n                    ></el-image>\r\n                    <el-image :src=\"scope.row.imageUrl\" style=\"max-height: 350px;max-width: 350px\"></el-image>\r\n                  </el-popover>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"商品名称\" prop=\"productName\"></el-table-column>\r\n              <el-table-column label=\"可用库存\" width=\"140\" prop=\"stock\"></el-table-column>\r\n              <el-table-column label=\"商品售价（元）\" width=\"240\">\r\n                <template slot-scope=\"scope\">{{'￥' +  scope.row.minPrice + ' ~ ￥' + scope.row.maxPrice }}</template>\r\n              </el-table-column>\r\n              <el-table-column label=\"操作\" width=\"100\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button type=\"text\" size=\"small\" @click=\"deletePro(1,scope.$index)\">删除</el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"form.productType == 2\" label=\"选择商品：\" required>\r\n          <div><el-button @click=\"addCom(2)\">添加商品</el-button></div>\r\n          <div v-if=\"unUserProList.length > 0\" class=\"mt10\">\r\n            <el-table :data=\"unUserProList\" style=\"width: 100%\">\r\n              <el-table-column label=\"商品图片\" width=\"140\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-popover placement=\"right\" title trigger=\"hover\">\r\n                    <el-image\r\n                      slot=\"reference\"\r\n                      :src=\"scope.row.imageUrl\"\r\n                      :alt=\"scope.row.imageUrl\"\r\n                      style=\"max-height: 40px;max-width: 40px\"\r\n                    ></el-image>\r\n                    <el-image :src=\"scope.row.imageUrl\" style=\"max-height: 350px;max-width: 350px\"></el-image>\r\n                  </el-popover>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"商品名称\" prop=\"productName\"></el-table-column>\r\n              <el-table-column label=\"可用库存\" width=\"140\" prop=\"stock\"></el-table-column>\r\n              <el-table-column label=\"商品售价（元）\" width=\"240\">\r\n                <template slot-scope=\"scope\">{{'￥' +  scope.row.minPrice + ' ~ ￥' + scope.row.maxPrice }}</template>\r\n              </el-table-column>\r\n              <el-table-column label=\"操作\" width=\"100\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button type=\"text\" size=\"small\" @click=\"deletePro(2,scope.$index)\">删除</el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item label=\"使用门槛：\" required>\r\n          <el-radio-group v-model=\"form.fullAmountType\">\r\n            <el-radio :label=\"0\">无门槛使用</el-radio>\r\n            <el-radio :label=\"1\">订单满\r\n              <el-input-number \r\n              v-model=\"form.fullAmountNum\" \r\n              :precision=\"2\" \r\n              :max=\"10000\"\r\n              :controls=\"false\"\r\n            ></el-input-number>\r\n            元</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"优惠内容：\" required>\r\n          减免\r\n          <el-input-number \r\n            v-model=\"form.discountAmount\" \r\n            step-strictly \r\n            :max=\"10000\"\r\n            :controls=\"false\"\r\n          ></el-input-number>\r\n          元\r\n          <div class=\"infoFont\">优惠券面值必须大于等于 0元的正整数, 且最大不能超过10000元</div>\r\n        </el-form-item>\r\n        <el-form-item label=\"用券时间：\" required>\r\n          <el-radio-group v-model=\"form.timeType\">\r\n            <el-radio :label=\"3\">\r\n              不限制\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"选择不限制，该优惠券不会过期（除非操作人手动失效该优惠券）\" placement=\"top\">\r\n                <i class=\"el-icon-question curP\"></i>\r\n              </el-tooltip>\r\n            </el-radio>\r\n            <el-radio :label=\"1\">\r\n              领券当日起\r\n              <el-input-number \r\n                v-model=\"form.limitTime1\" \r\n                :precision=\"2\" \r\n                :max=\"30\"\r\n                :min=\"1\"\r\n                :controls=\"false\"\r\n              ></el-input-number>\r\n              天内可用\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"发放券当日起N天内可用， 若用户未使用该优惠，则该优惠券为已过期优惠券\" placement=\"top\">\r\n                <i class=\"el-icon-question curP\"></i>\r\n              </el-tooltip>\r\n            </el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n      </el-card>\r\n      <el-card class=\"filter-container mt10\" shadow=\"never\">\r\n        <div class=\"pageHead\">领取及使用规则</div>\r\n        <el-form-item label=\"每人限领次数：\" required>\r\n          <el-radio-group v-model=\"form.limitType\">\r\n            <el-radio :label=\"1\">每人限领\r\n              <el-input-number \r\n                v-model=\"form.limitNumber\" \r\n                step-strictly\r\n                :max=\"10\"\r\n                placeholder=\"限领次数上限为10\"\r\n                :controls=\"false\"\r\n              ></el-input-number>\r\n              次\r\n            </el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n      </el-card>\r\n      <el-form-item class=\"mt20 flex-row-center\">\r\n        <el-button type=\"primary\" :loading=\"loading\" @click=\"onSubmit\">保 存</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- 商品列表弹出框 -->\r\n    <commodity :commodityShow=\"commodityShow\" :commodityIds=\"commodityIds\" @commodityClose=\"commodityClose\" @commodityFun=\"commodityFun\"></commodity>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport commodity from './components/commodity';\r\nimport { \r\n  getCouponInfoPage,\r\n  addCouponInfo,\r\n  findCouponInfo\r\n} from '@/api/marketManage/coupon'\r\nexport default {\r\n  data(){\r\n    return{\r\n      form:{\r\n        productType:0,      // 适用商品\r\n        fullAmountType:0,       // 使用门槛\r\n        timeType:3,         // 用券时间\r\n        limitType:1,        // 限领次数\r\n      },\r\n      useProList:[],       // 可用商品列表\r\n      useIds:[],\r\n      unUserProList:[],     // 不可用商品列表\r\n      unUseIds:[],      \r\n      commodityIds:[],\r\n      commodityShow:false,\r\n      loading:false,\r\n\r\n      customerShow:false,\r\n      customerIds:[],\r\n      customerList:[]\r\n\r\n    }\r\n  },\r\n  created(){\r\n    this.form.couponType = 1\r\n    this.form.shopId = this.shop.shopId\r\n    if(this.$route.query.couponId) this.getData()\r\n\r\n  },\r\n  methods:{\r\n    getData(){\r\n      findCouponInfo(this.$route.query.couponId).then(res=>{\r\n        console.log('优惠券详情',res)\r\n        if(res.code == 200){\r\n          let form = res.data\r\n          // 商品\r\n          if(res.data.productType == 1){\r\n            this.useProList = res.data.couponProducts\r\n            let ids = []\r\n            this.useProList.forEach(item => ids.push(item.productId))\r\n            form.productIds = ids;\r\n            this.useIds = ids;\r\n          }\r\n          if(res.data.productType == 2){\r\n            this.unUserProList = res.data.couponProducts\r\n            let ids = []\r\n            this.unUserProList.forEach(item => ids.push(item.productId))\r\n            form.productIds = ids;\r\n            this.unUseIds = ids;\r\n          }\r\n          // 使用门槛\r\n          if(res.data.fullAmount == 0){\r\n            console.log('门槛1')\r\n            form.fullAmountType = 0\r\n          }else{\r\n            console.log('门槛2')\r\n            form.fullAmountType = 1\r\n            form.fullAmountNum = form.fullAmount\r\n          }\r\n          // 时间 - 重置\r\n          form.timeType = 3\r\n          form.beginTime = ''\r\n          form.endTime = ''\r\n          form.time = []\r\n          form.limitTime1 = undefined\r\n          form.limitTime2 = undefined\r\n          // 客户\r\n          this.customerList = res.data.couponUsers\r\n          this.customerList.forEach(item => this.customerIds.push(item.userId))\r\n          // 限领次数\r\n          form.limitType = 1\r\n          form.limitNumber = form.limitNumber\r\n          this.form = form\r\n        }\r\n      })\r\n    },\r\n    // 创建提交\r\n    onSubmit(){\r\n      console.log('form',this.form)\r\n      // 优惠券名称\r\n      if(!this.form.couponName){\r\n        this.$message.error('请输入优惠券名称');\r\n        return;\r\n      }\r\n      // 适用商品\r\n      if(this.form.productType == 1 ){\r\n        if(this.useIds.length == 0){\r\n          this.$message.error('请添加指定可用的商品');\r\n          return;\r\n        }\r\n        this.form.productIds = this.useIds\r\n      }\r\n      if(this.form.productType == 2){\r\n        if(this.unUseIds.length == 0){\r\n          this.$message.error('请添加指定不可用的商品');\r\n          return;\r\n        }\r\n        this.form.productIds = this.unUseIds\r\n      }\r\n      // 使用门槛\r\n      if(this.form.fullAmountType == 0) this.form.fullAmount = 0\r\n      if(this.form.fullAmountType == 1){\r\n        if(!this.form.fullAmountNum){\r\n          this.$message.error('请输入使用门槛金额');\r\n          return;\r\n        }\r\n        this.form.fullAmount = this.form.fullAmountNum\r\n      }\r\n      // 优惠金额\r\n      if(!this.form.discountAmount){\r\n        this.$message.error('请输入优惠金额，优惠券面值必须大于等于 0元的正整数, 且最大不能超过10000元');\r\n        return;\r\n      }\r\n      // 用券时间\r\n      // 指定日期\r\n      if(this.form.timeType == 0){\r\n        if(this.form.time.length == 0){\r\n          this.$message.error('请选择指定日期');\r\n          return;\r\n        }\r\n        this.form.beginTime = this.form.time[0]\r\n        this.form.endTime = this.form.time[1]\r\n      }\r\n      // 当日\r\n      if(this.form.timeType == 1){\r\n        if(!this.form.limitTime1){\r\n          this.$message.error('请输入当日天数, 1 < 天数 < 30');\r\n          return;\r\n        }\r\n        this.form.limitTime = this.form.limitTime1\r\n      }\r\n      // 次日\r\n      if(this.form.timeType == 2){\r\n        if(!this.form.limitTime2){\r\n          this.$message.error('请输入次日天数, 1 < 天数 < 30');\r\n          return;\r\n        }\r\n        this.form.limitTime = this.form.limitTime2\r\n      }\r\n      // 领取次数\r\n      if(this.form.limitType == 0){\r\n        this.form.limitNumber = 0\r\n      }\r\n      if(this.form.limitType == 1){\r\n        if(!this.form.limitNumber){\r\n          this.$message.error('请请输入限领次数, 1 < 次数 < 10');\r\n          return;\r\n        }\r\n      }\r\n      this.loading = true;\r\n      console.log('验证成功',this.form)\r\n      addCouponInfo(this.form).then(res=>{\r\n        console.log('新增优惠券',res)\r\n        if(res.code == 200){\r\n          this.$message({\r\n            message: '保存成功',\r\n            type: 'success'\r\n          });\r\n          this.$router.replace({\r\n            path:'/marketManage/coupon'\r\n          })\r\n          setTimeout(()=>{\r\n            this.loading = false;\r\n          },1000)\r\n        }else{\r\n          this.$message.error(res.message);\r\n          this.loading = false;\r\n        }\r\n      })\r\n    },\r\n    // 客户弹出框关闭\r\n    customerClose(){\r\n      this.customerShow = false\r\n    },\r\n    customerFun(e){\r\n      console.log('父接受kehu ',e)\r\n      e.forEach(item =>{\r\n        this.customerIds.push(item.userId)\r\n        this.customerList.push(item)\r\n      })\r\n      this.customerShow = false\r\n    },\r\n    // 商品列表删除\r\n    deleteCus(i){\r\n      this.customerList.splice(i, 1)\r\n      this.customerIds.splice(i, 1)\r\n    },\r\n    // 商品弹出框展示\r\n    addCom(i){\r\n      if(i == 1) this.commodityIds = this.useIds\r\n      if(i == 2) this.commodityIds = this.unUseIds\r\n      this.commodityShow = true;\r\n    },\r\n    // 关闭商品组件\r\n    commodityClose(){\r\n      this.commodityShow = false\r\n    },\r\n    // 商品组件确定回调\r\n    commodityFun(e){\r\n      console.log('父级接受商品组件回调',e)\r\n      if(this.form.productType == 1){\r\n        console.log('可用商品')\r\n        e.forEach(item =>{\r\n          this.useIds.push(item.productId)\r\n          this.useProList.push(item)\r\n        })\r\n      }\r\n      if(this.form.productType == 2){\r\n        console.log('不可用商品')\r\n        e.forEach(item => {\r\n          this.unUseIds.push(item.productId)\r\n          this.unUserProList.push(item)\r\n        })\r\n      }\r\n      this.commodityShow = false\r\n    },\r\n    // 商品列表删除\r\n    deletePro(i1,i2){\r\n      console.log('index',i2)\r\n      if(i1 == 1){\r\n        this.useProList.splice(i2, 1)\r\n        this.useIds.splice(i2, 1)\r\n      }\r\n      if(i1 == 2){\r\n        this.unUserProList.splice(i2, 1)\r\n        this.unUseIds.splice(i2, 1)\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'user',\r\n      'shop'\r\n    ])\r\n  },\r\n  components:{\r\n    commodity,\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.inner /deep/ .el-input__inner{\r\n  text-align: left;\r\n}\r\n.time /deep/ .el-range-separator{\r\n  line-height: 22px;\r\n}\r\n</style>","import { render, staticRenderFns } from \"./newMemberCoupon.vue?vue&type=template&id=44730c84&scoped=true&\"\nimport script from \"./newMemberCoupon.vue?vue&type=script&lang=js&\"\nexport * from \"./newMemberCoupon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./newMemberCoupon.vue?vue&type=style&index=0&id=44730c84&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44730c84\",\n  null\n  \n)\n\ncomponent.options.__file = \"newMemberCoupon.vue\"\nexport default component.exports","import request from '@/utils/request'\r\n// 分页查询优惠券\r\nexport function getCouponInfoPage(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponInfoPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 分页查询可添加优惠券商品\r\nexport function getCouponProductPage(data) {\r\n  return request({\r\n    url: `/sys/couponProduct/getCouponProductPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 分页查询优惠券可添加用户\r\nexport function getCouponUserPage(data) {\r\n  return request({\r\n    url: `/sys/couponProduct/getCouponUserPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 添加优惠券\r\nexport function addCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/addCouponInfo`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 编辑优惠券\r\nexport function editCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/editCouponInfo`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 优惠券使用数据\r\nexport function couponData(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/couponData?couponId=${data}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 查询优惠券详情\r\nexport function findCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/findCouponInfo?couponId=${data}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 优惠券失效\r\nexport function deleteCouponInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/deleteCouponInfo?couponId=${data}`,\r\n    method: 'DELETE',\r\n  })\r\n}\r\n// 优惠券商品使用列表\r\nexport function userCouponProductPage(data) {\r\n  return request({\r\n    url: `/sys/couponProduct/userCouponProductPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 组件 - 列表\r\nexport function getCouponInfoSubGroupPage(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponInfoSubGroupPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 组件 - 回显\r\nexport function getCouponInfoSubGroupInfo(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponInfoSubGroupInfo?couponIdStr=${data}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 优惠券推广\r\nexport function getCouponCodeUrl(data) {\r\n  return request({\r\n    url: `/sys/couponInfo/getCouponCodeUrl?shopId=${data.shopId}&couponId=${data.couponId}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// export function getCouponCodeUrl(data) {\r\n//   return request({\r\n//     url: `/sys/couponInfo/getCouponCodeUrl`,\r\n//     method: 'post',\r\n//     data: data\r\n//   })\r\n// }\r\n\r\n","import request from '@/utils/request'\r\n// 店铺分类列表\r\nexport function getProductCategoryInfoList(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/getProductCategoryInfoList`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 新增分类\r\nexport function insertProductCategoryShop(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/insertProductCategoryShop`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 删除分类\r\nexport function deleteProductCategoryShop(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/deleteProductCategoryShop`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 查询店内分类名称是否存在\r\nexport function isCategoryNameExist(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/isCategoryNameExist?name=${data.name}&level=${data.level}&shopId=${data.shopId}&parentId=${data.parentId}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 更新商品分类排序\r\nexport function updateProductCategoryShopOrderNo(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/updateProductCategoryShopOrderNo`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 更新分类名称\r\nexport function updateProductCategoryShop(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/updateProductCategoryShop`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 查询店内分类名称是否存在\r\nexport function getProductCategoryShopAllList(id) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/getProductCategoryShopAllList?shopId=${id}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 分页查询商品店铺分类\r\nexport function getProductCategoryInfoPageList(data) {\r\n  return request({\r\n    url: `/product/business/productCategoryShop/getProductCategoryInfoPageList`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--9-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--9-2!../../../../node_modules/less-loader/dist/cjs.js??ref--9-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./newMemberCoupon.vue?vue&type=style&index=0&id=44730c84&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--9-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--9-2!../../../../node_modules/less-loader/dist/cjs.js??ref--9-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./newMemberCoupon.vue?vue&type=style&index=0&id=44730c84&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"append-to-body\":true,\"title\":\"新增商品列表\",\"visible\":_vm.commodityShow,\"width\":\"70%\",\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"show-close\":false},on:{\"update:visible\":function($event){_vm.commodityShow=$event}}},[_c('el-card',{staticClass:\"filter-container\",attrs:{\"shadow\":\"never\"}},[_c('div',[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" \"),_c('span',[_vm._v(\"筛选搜索\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.getData}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"size\":\"small\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.searchList,\"size\":\"small\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"商品名称\"},on:{\"input\":function($event){_vm.change($event)}},model:{value:(_vm.searchList.productName),callback:function ($$v) {_vm.$set(_vm.searchList, \"productName\", $$v)},expression:\"searchList.productName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品类目：\"}},[_c('el-cascader',{attrs:{\"options\":_vm.category,\"props\":{ checkStrictly: true },\"clearable\":\"\"},model:{value:(_vm.searchList.shopCategoryIdArr),callback:function ($$v) {_vm.$set(_vm.searchList, \"shopCategoryIdArr\", $$v)},expression:\"searchList.shopCategoryIdArr\"}})],1)],1)],1)]),_vm._v(\" \"),_c('el-card',{staticClass:\"filter-container\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"shadow\":\"never\"}},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"tooltip-effect\":\"dark\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品图片\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"right\",\"title\":\"\",\"trigger\":\"hover\"}},[_c('el-image',{staticStyle:{\"max-height\":\"40px\",\"max-width\":\"40px\"},attrs:{\"slot\":\"reference\",\"src\":scope.row.imageUrl,\"alt\":scope.row.imageUrl},slot:\"reference\"}),_vm._v(\" \"),_c('el-image',{staticStyle:{\"max-height\":\"350px\",\"max-width\":\"350px\"},attrs:{\"src\":scope.row.imageUrl}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"prop\":\"productName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"可用库存\",\"width\":\"140\",\"prop\":\"stock\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品售价（元）\",\"width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s('￥' +  scope.row.minPrice + ' ~ ￥' + scope.row.maxPrice))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"已参与活动\",\"prop\":\"activeName\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"padding\":\"10px 0 20px 0\"}},[_c('el-pagination',{attrs:{\"page-sizes\":[5, 10, 15, 20],\"page-size\":_vm.searchList.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.listTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sub}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/happypack/loader.js?id=js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commodity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/happypack/loader.js?id=js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commodity.vue?vue&type=script&lang=js&\"","<template>\r\n  <el-dialog :append-to-body=\"true\" title=\"新增商品列表\" :visible.sync=\"commodityShow\" width=\"70%\" :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :show-close=\"false\">\r\n    <!-- 筛选条件 -->\r\n    <el-card class=\"filter-container\" shadow=\"never\">\r\n      <div>\r\n        <i class=\"el-icon-search\"></i>\r\n        <span>筛选搜索</span>\r\n        <el-button style=\"float: right\" @click=\"getData\" type=\"primary\" size=\"small\">查询</el-button>\r\n        <el-button style=\"float: right;margin-right: 15px\" @click=\"reset\" size=\"small\">重置</el-button>\r\n      </div>\r\n      <div style=\"margin-top: 15px\">\r\n        <el-form :inline=\"true\" :model=\"searchList\" size=\"small\" label-width=\"140px\">\r\n          <el-form-item label=\"商品名称：\">\r\n            <el-input style=\"width: 203px\" v-model=\"searchList.productName\" clearable placeholder=\"商品名称\" @input=\"change($event)\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"商品类目：\">\r\n            <el-cascader\r\n              v-model=\"searchList.shopCategoryIdArr\"\r\n              :options=\"category\"\r\n              :props=\"{ checkStrictly: true }\"\r\n              clearable></el-cascader>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </el-card>\r\n    <el-card class=\"filter-container\" shadow=\"never\" style=\"margin-top:10px;\">\r\n      <el-table\r\n        ref=\"multipleTable\"\r\n        :data=\"list\"\r\n        tooltip-effect=\"dark\"\r\n        style=\"width: 100%\"\r\n        @selection-change=\"handleSelectionChange\">\r\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n        <el-table-column label=\"商品图片\" width=\"140\">\r\n          <template slot-scope=\"scope\">\r\n            <el-popover placement=\"right\" title trigger=\"hover\">\r\n              <el-image\r\n                slot=\"reference\"\r\n                :src=\"scope.row.imageUrl\"\r\n                :alt=\"scope.row.imageUrl\"\r\n                style=\"max-height: 40px;max-width: 40px\"\r\n              ></el-image>\r\n              <el-image :src=\"scope.row.imageUrl\" style=\"max-height: 350px;max-width: 350px\"></el-image>\r\n            </el-popover>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"商品名称\" prop=\"productName\"></el-table-column>\r\n        <el-table-column label=\"可用库存\" width=\"140\" prop=\"stock\"></el-table-column>\r\n        <el-table-column label=\"商品售价（元）\" width=\"240\">\r\n          <template slot-scope=\"scope\">{{'￥' +  scope.row.minPrice + ' ~ ￥' + scope.row.maxPrice }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"已参与活动\" prop=\"activeName\"></el-table-column>\r\n      </el-table>\r\n      <div style=\"padding:10px 0 20px 0;\">\r\n        <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :page-sizes=\"[5, 10, 15, 20]\"\r\n          :page-size=\"searchList.pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"listTotal\">\r\n        </el-pagination>\r\n      </div>\r\n    </el-card>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"close\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"sub\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { getProductCategoryShopAllList } from '@/api/commodity/commodityClassify'\r\nimport { getCouponProductPage } from '@/api/marketManage/coupon'\r\n\r\nexport default {\r\n  props: [\"commodityIds\",\"commodityShow\"],\r\n  watch:{\r\n    commodityShow(newvalue,oldValue){\r\n      if(newvalue){\r\n        this.getData();\r\n      }\r\n    },\r\n  },\r\n  data(){\r\n    return{\r\n      fromLoading:false,\r\n      searchList:{\r\n        shopCategoryIdArr:[],\r\n        pageNum:1,\r\n        pageSize:5\r\n      },\r\n      category:[],\r\n      list:[],\r\n      listTotal:0,\r\n      multipleSelection:[],           // 勾选的数据\r\n    }\r\n  },\r\n  created(){\r\n    this.searchList.shopId = this.shop.shopId\r\n  },\r\n  methods:{\r\n    sub(){\r\n      console.log('multipleSelection',this.multipleSelection)\r\n      if(this.multipleSelection.length == 0){\r\n        this.$message.error('请选择商品后再试');\r\n        return;\r\n      }\r\n      this.$emit('commodityFun',this.multipleSelection)\r\n      this.$refs.multipleTable.clearSelection();\r\n    },\r\n    toggleSelection(rows) {\r\n      if (rows) {\r\n        rows.forEach(row => {\r\n          this.$refs.multipleTable.toggleRowSelection(row);\r\n        });\r\n      } else {\r\n        this.$refs.multipleTable.clearSelection();\r\n      }\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n      this.searchList.pageSize = val;\r\n      this.getData()\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.searchList.pageNum = val;\r\n      this.getData()\r\n    },\r\n    reset(){\r\n      this.searchList.productName = ''\r\n      this.searchList.shopCategoryIdArr = []\r\n      this.getData();\r\n    },\r\n    // 列表 - 获取数据\r\n    getData(){\r\n      this.fromLoading = true\r\n      this.searchList.productIds = this.commodityIds || ''\r\n      this.searchList.shopCategoryPid = this.searchList.shopCategoryIdArr[0] || ''\r\n      this.searchList.shopCategoryId = this.searchList.shopCategoryIdArr[1] || ''\r\n      console.log('请求的数据',this.searchList)\r\n      getCouponProductPage(this.searchList).then(res=>{\r\n        console.log('可添加优惠券的商品列表',res)\r\n        if(res.code == 200){\r\n          this.list = res.data.list\r\n          this.listTotal = res.data.total\r\n          this.getCategory()\r\n        }\r\n        this.fromLoading = false\r\n      })\r\n    },\r\n    // 获取全部分类\r\n    getCategory(){\r\n      getProductCategoryShopAllList(this.shop.shopId).then(res=>{\r\n        console.log('获取店铺分类',res)\r\n        this.category = res.data\r\n      })\r\n    },\r\n    close(){\r\n      this.$emit('commodityClose',true)\r\n    },\r\n    change(){\r\n      this.$forceUpdate()\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'user',\r\n      'shop'\r\n    ])\r\n  },\r\n}\r\n</script>","import { render, staticRenderFns } from \"./commodity.vue?vue&type=template&id=f87b25a8&\"\nimport script from \"./commodity.vue?vue&type=script&lang=js&\"\nexport * from \"./commodity.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"commodity.vue\"\nexport default component.exports"],"sourceRoot":""}