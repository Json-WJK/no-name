(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9272"],{"Xa+3":function(e,t,r){"use strict";var s=r("zH8D");r.n(s).a},ek20:function(e,t,r){"use strict";r.r(t);var s=r("QbLZ"),o=r.n(s),a=r("L2JU"),n=r("takL"),i={data:function(){return{form:{enabled:"0"},addLoading:!1,roleList:[]}},created:function(){this.getList()},methods:{cancle:function(){var e=this;this.$confirm("确定放弃编辑?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$router.replace({path:"/systemSetting/userManage"})}).catch(function(){})},onSubmit:function(){var e=this;this.form.cellPhone?this.form.userName?this.form.password?this.form.password.length<6||this.form.password.length>15?this.$message.error("密码应6~15位"):this.form.password==this.form.passwordAgain?this.form.email?this.form.roleId?(this.addLoading=!0,this.form.shopId=this.shop.shopId,Object(n.a)(this.form).then(function(t){console.log("添加用户",t),200==t.code?(e.$message({message:t.message,type:"success"}),setTimeout(function(){e.$router.replace({path:"/systemSetting/userManage"}),e.addLoading=!1},1e3)):(e.$message.error(t.message),e.addLoading=!1)})):this.$message.error("请选择所属角色"):this.$message.error("请输入邮箱"):this.$message.error("输入的两次密码不正确"):this.$message.error("请输入密码"):this.$message.error("请输入姓名"):this.$message.error("请输入手机号")},getList:function(){var e=this;Object(n.d)({shopId:this.shop.shopId}).then(function(t){console.log("所有角色",t),200==t.code&&(e.roleList=t.data)})}},computed:o()({},Object(a.c)(["user","shop"]))},l=(r("Xa+3"),r("KHd+")),d=Object(l.a)(i,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pageContent"},[r("el-card",{attrs:{shadow:"always"}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"140px"}},[r("el-form-item",{attrs:{label:"手机号：",required:""}},[r("el-input",{staticStyle:{width:"400px"},attrs:{maxlength:"11","show-word-limit":""},model:{value:e.form.cellPhone,callback:function(t){e.$set(e.form,"cellPhone",e._n(t))},expression:"form.cellPhone"}}),e._v(" "),r("div",{staticClass:"infoFont"},[e._v("员工可以使用该手机号座位账号登录筷赚后台")])],1),e._v(" "),r("el-form-item",{attrs:{label:"姓名：",required:""}},[r("el-input",{staticStyle:{width:"400px"},attrs:{maxlength:"10","show-word-limit":""},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName","string"==typeof t?t.trim():t)},expression:"form.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码：",required:""}},[r("el-input",{staticStyle:{width:"400px"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码：",required:""}},[r("el-input",{staticStyle:{width:"400px"},model:{value:e.form.passwordAgain,callback:function(t){e.$set(e.form,"passwordAgain",t)},expression:"form.passwordAgain"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱：",required:""}},[r("el-input",{staticStyle:{width:"400px"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"状态：",required:""}},[r("el-radio",{attrs:{label:"0"},model:{value:e.form.enabled,callback:function(t){e.$set(e.form,"enabled",t)},expression:"form.enabled"}},[e._v("启用")]),e._v(" "),r("el-radio",{attrs:{label:"1"},model:{value:e.form.enabled,callback:function(t){e.$set(e.form,"enabled",t)},expression:"form.enabled"}},[e._v("禁用")])],1),e._v(" "),r("el-form-item",{attrs:{label:"角色：",required:""}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择所属角色"},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roleList,function(e,t){return r("el-option",{key:t,attrs:{label:e.roleName,value:e.id}})}))],1),e._v(" "),r("div",{staticClass:"flex-row-center"},[r("el-button",{on:{click:e.cancle}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",loading:e.addLoading},on:{click:e.onSubmit}},[e._v("立即创建")])],1)],1)],1)],1)},[],!1,null,"109a1d06",null);d.options.__file="newUser.vue";t.default=d.exports},takL:function(e,t,r){"use strict";r.d(t,"d",function(){return o}),r.d(t,"b",function(){return a}),r.d(t,"a",function(){return n}),r.d(t,"e",function(){return i}),r.d(t,"f",function(){return l}),r.d(t,"c",function(){return d});var s=r("t3Un");function o(e){return Object(s.a)({url:"/sys/sysUser/findRoleByShopId",method:"post",data:e})}function a(e){return Object(s.a)({url:"/sys/sysUser/findByCondition",method:"post",data:e})}function n(e){return Object(s.a)({url:"/sys/sysUser/add",method:"post",data:e})}function i(e){return Object(s.a)({url:"/sys/sysUser/update",method:"post",data:e})}function l(e){return Object(s.a)({url:"/sys/sysUser/updateEnable",method:"post",data:e})}function d(e){return Object(s.a)({url:"/sys/sysUser/findById",method:"post",data:e})}},zH8D:function(e,t,r){}}]);
//# sourceMappingURL=chunk-9272.32b82bb7.js.map