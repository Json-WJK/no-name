(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-51fc"],{MeYf:function(e,t,i){"use strict";var s=i("utjT");i.n(s).a},pULp:function(e,t,i){"use strict";i.r(t);var s=i("QbLZ"),r=i.n(s),l=i("gDS+"),o=i.n(l),a=i("L2JU"),n=i("pgPq"),c=i("Og+O"),u=i("DKYH"),p=i("PRgn"),m=i("FqQn"),d=i("PgIU"),h={data:function(){return{spms:!1,fxms:!1,subLoading:!1,ue1:"ue1",ruleForm:{salesStatus:"0",evaluate:"1",isFreeShipping:"1",showSales:"1",freightTemplateId:"",isCompanyType:!1,isSelffetchType:!1,skuType:"0"},skuType0:{unit:"件"},showImgMaterial:!1,showVideoMaterial:!1,limitType:!1,getPost:!1,selectNum:0,goodsImg:[],imgMaterialType:[],bigImg:[],logisticsTemplate:[],category:[],parameter:[],attrs:[],btnStatus:!1,originPrice:"",linePrice:"",salePrice:"",inventory:"",unit:"",props:{multiple:!0},checkList:[],weight:"",specArr:[],specData:[],showAddSpec:!0,publicObj:{},selffedchStatus:"",codeType:!1,videoForm:[]}},created:function(){this.getLogisticsTemplate(),this.getCategory(),this.getStatus()},methods:{blurCode:function(){var e=this;Object(m.b)(this.shop.shopId,this.ruleForm.code).then(function(t){console.log("验证code",t),200!=t.code&&e.$message.error(t.message),e.codeType=200==t.code})},getStatus:function(){var e=this;Object(d.e)(this.shop.shopId).then(function(t){console.log("是否开启了自提",t),e.selffedchStatus=t.data})},addSpecRow:function(){this.specArr.push({specName:"",specList:[{specValue:""}]}),this.specArr.length>=2&&(this.showAddSpec=!1)},deletRow:function(e){this.specArr.splice(e,1),this.specArr.length<2&&(this.showAddSpec=!0),this.creatData()},addSpecValue:function(e){this.specArr[e].specList.push({specValue:""})},deletSpecValue:function(e,t){this.specArr[e].specList.splice(t,1),this.creatData()},creatData:function(){var e=this;console.log(this.specArr),this.specData=[],this.specArr[0].specList.forEach(function(t,i){var s={specKey:e.specArr[0].specName,specValue:t.specValue,children:[]};if(e.specData.push(s),e.specArr[1])e.specArr[1].specList.forEach(function(t){var i={specKey:e.specArr[1].specName,specValue:t.specValue,originPrice:void 0,linePrice:void 0,salePrice:void 0,inventory:void 0,unit:"件",skuCode:"",isOpen:!0};s.children.push(i)});else{var r={originPrice:void 0,linePrice:void 0,salePrice:void 0,inventory:void 0,unit:"件",skuCode:"",isOpen:!0};s.children.push(r)}}),console.log(this.specData)},removeRepeat:function(e){for(var t=!1,i=0;i<e.length;i++){for(var s=i+1;s<e.length;s++)if(e[i].specName==e[s].specName){t=!0;break}if(t)break}return t},changeParmas:function(){var e=this;this.publicObj.originPrice||this.publicObj.linePrice||this.publicObj.salePrice||this.publicObj.inventory||this.publicObj.unit?this.specData.forEach(function(t){t.children.forEach(function(t){e.publicObj.originPrice&&(t.originPrice=e.publicObj.originPrice),e.publicObj.linePrice&&(t.linePrice=e.publicObj.linePrice),e.publicObj.salePrice&&(t.salePrice=e.publicObj.salePrice),e.publicObj.inventory&&(t.inventory=e.publicObj.inventory),e.publicObj.unit&&(t.unit=e.publicObj.unit)})}):this.$message.error("请输入批量设置参数")},cancel:function(){for(var e in this.publicObj)this.publicObj[e]=void 0},submitForm:function(e){var t=this;if(console.log(this.ruleForm),this.ruleForm.name)if(this.ruleForm.abstracts)if(this.ruleForm.shareDescription)if(this.ruleForm.code)if(this.codeType)if(this.ruleForm.shopCategoryIdsArr&&0!=this.ruleForm.shopCategoryIdsArr.length){var i=[];if(this.ruleForm.shopCategoryIdsArr.forEach(function(e){var t={pid:e[0],id:e[1]};i.push(t)}),this.ruleForm.shopCategoryIds=i,0!=this.goodsImg.length){if(this.ruleForm.imageUrl=this.goodsImg[0].imageUrl,this.ruleForm.goodsImg=this.goodsImg,0==this.ruleForm.skuType){if(!this.skuType0.salePrice)return void this.$message.error("请填写销售价");if(this.skuType0.linePrice&&this.skuType0.linePrice<=this.skuType0.salePrice)return void this.$message.error("划线价应大于销售价");if(void 0==this.skuType0.inventory)return void this.$message.error("请填写库存");var s=[];s.push(this.skuType0),this.ruleForm.productSkuList=s}if(1==this.ruleForm.skuType){if(console.log("specArr",this.specArr),console.log("specData",this.specData),0==this.specData.length)return void this.$message.error("请添加商品规格");if(this.specArr.filter(function(e){return!e.specName}).length>0)return void this.$message.error("请完善商品规格列表中的规格名");var r=[];if(this.specArr.forEach(function(e){e.specList.forEach(function(e){r.push(e)})}),r.filter(function(e){return!e.specValue}).length>0)return void this.$message.error("请完善商品规格列表中的规格值");var l=[];if(this.specData.forEach(function(e){e.children.forEach(function(e){l.push(e)})}),l.filter(function(e){return void 0==e.inventory||!e.salePrice||!e.unit}).length>0)return void this.$message.error("请完善商品规格中的必填值");if(l.filter(function(e){return e.linePrice&&e.linePrice<=e.salePrice}).length>0)return void this.$message.error("规格中的划线价应大于销售价");this.ruleForm.productSkuList=this.specData,this.ruleForm.specArr=this.specArr}if(0!=this.parameter.length){var a=this.parameter.filter(function(e){return!e.key||!e.value});if(console.log("errArr",a),a.length>0)return void this.$message.error("请完善填写参数");this.ruleForm.parameter=this.parameter}var n=this.ue1.getContent();if(n)if(this.ruleForm.content=n,this.ruleForm.isCompanyType||this.ruleForm.isSelffetchType)if(this.ruleForm.isCompany=this.ruleForm.isCompanyType?"1":"0",this.ruleForm.isSelffetch=this.ruleForm.isSelffetchType?"1":"0",0!=this.ruleForm.isFreeShipping||this.ruleForm.freightTemplateId){this.ruleForm.shopId=this.shop.shopId,this.ruleForm.videoForm=this.videoForm||[],console.log("牛逼成功率 ！！",o()(this.ruleForm)),this.subLoading=!0;var c=o()(this.ruleForm);Object(m.a)(c).then(function(e){console.log("发布商品",e),200==e.code?(t.$message({message:"发布成功",type:"success"}),setTimeout(function(){t.$router.replace({path:"/commodity/commodityList"})},1e3)):(t.subLoading=!1,t.$message.error(e.message))})}else this.$message.error("请选择运费模板");else this.$message.error("请选择物流信息");else this.$message.error("请完善商品详情")}else this.$message.error("请上传商品图片")}else this.$message.error("请选择商品分类");else this.$message.error("商品编码重复，请重新输入");else this.$message.error("请填写商品编码");else this.$message.error("请填写分享描述");else this.$message.error("请填写商品描述");else this.$message.error("请填写商品标题")},addParameter:function(){this.parameter.push({key:"",val:""})},deleteParameter:function(e){console.log(e),this.parameter.splice(e,1)},newPage:function(){var e=this.$router.resolve({name:"新建运费模板"});window.open(e.href,"_blank")},newPage1:function(){var e=this.$router.resolve({name:"商品分类"});window.open(e.href,"_blank")},newPage2:function(){var e=this.$router.resolve({name:"自提点设置"});window.open(e.href,"_blank")},getLogisticsTemplate:function(){var e=this;Object(u.e)(this.shop.shopId).then(function(t){console.log("获取运费模板",t),e.logisticsTemplate=t.data.list;var i=t.data.list.find(function(e){return 0==e.isDefault});i&&(e.ruleForm.freightTemplateId=i.id),console.log("defaultA",i)})},getCategory:function(){var e=this;Object(p.d)(this.shop.shopId).then(function(t){console.log("获取店铺分类",t),e.category=t.data})},showBig:function(e){this.bigImg=[],this.bigImg.push(e)},deleteImg:function(e){this.goodsImg.splice(e,1)},showImgMaterialDia:function(){this.getPost=!0,this.limitType=!0,this.selectNum=this.goodsImg.length,this.imgMaterialType="goodsImg",this.showImgMaterial=!0},showVideoMaterialDia:function(){this.showVideoMaterial=!0},onlyclose:function(e){console.log("值点了关闭",e),this.showImgMaterial=!1,this.getPost=!1},subMit:function(e){var t=this;if(console.log("点击了确定",e),this.showImgMaterial=!1,this.getPost=!1,"goodsImg"==this.imgMaterialType&&e.forEach(function(e){return t.goodsImg.push(e)}),"richText"==this.imgMaterialType){var i="";e.forEach(function(e){i+='<p><img style="max-width:100%;" src="'+e.imageUrl+'" alt=""></p>'}),this.ue1.execCommand("inserthtml",i),console.log("上传给富文本的图片",i)}},onlyCloseVideo:function(){this.showImgMaterial=!1,this.getPost=!1},subMitVideo:function(e){console.log("点击了确定",e),this.showVideoMaterial=!1,this.getPost=!1,this.videoForm=e},change:function(e){this.$forceUpdate()}},mounted:function(){var e=this;this.$dragging.$on("dragged",function(e){var t=e.value;console.log("dragged123"),console.log(t.item),console.log(t.list),console.log(t.otherData)}),this.$dragging.$on("dragend",function(e){console.log("dragged456"),console.log(e)});var t=this;this.$nextTick(function(){UE.registerUI("diyimg",function(e,i){return new UE.ui.Button({name:i,title:"添加图片",cssRules:"background-position: -380px 0;",onclick:function(){t.imgMaterialType="richText",t.selectNum=0,t.getPost=!0,t.showImgMaterial=!0,t.limitType=!1}})},2),e.ue1=UE.getEditor("editor",{zIndex:9}),console.log("实例化成功！")})},destroyed:function(){this.ue1.destroy(),console.log("销毁")},computed:r()({},Object(a.c)(["user","shop"]),{tableData:function(){var e=this.attrs,t=e.length;if(0!=t){for(var i=[],s=0;s<t;s++){var r={};r.pName=e[s].pName,r.spec=[],r.originPrice="",r.salePrice="",r.inventory="",r.unit="",r.skuCode="";for(var l=e[s].spec.length,o=0,a=0;a<l;a++){var n={},c=e[s].spec[a].cName;c&&(++o,n.cName=c,r.spec.push(n))}r.specLen=o,i.push(r)}for(var u=0,p=i.length;u<p;u++){for(var m=1,d=u+1;d<p;d++){m*=i[d].specLen||1}i[u].rowspan=m}return i}},rows:function(){if(this.tableData){for(var e=1,t=this.tableData,i=t.length,s=0;s<i;s++){e*=t[s].specLen||1}return 1==e?t[0].spec.length:e}},tableList:function(){if(this.tableData){for(var e=this.rows,t=[],i=this.tableData,s=0;s<e;s++){for(var r={},l=0;l<i.length;l++){var o=i[l].pName,a=i[l].rowspan,n=i[l].specLen;if(n){var c=i[l].spec,u=parseInt(s/a)%n;console.log("cName",c[u].cName),console.log("key",r[o]),r[o]=c[u].cName}}r.originPrice=void 0,r.linePrice=void 0,r.salePrice=void 0,r.inventory=void 0,r.unit="件",r.skuCode=void 0,t.push(r)}return t}}}),components:{imageMaterial:n.a,videoMaterial:c.a}},v=(i("MeYf"),i("KHd+")),g=Object(v.a)(h,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pageContent"},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"140px"}},[s("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[s("div",{staticClass:"pageHead"},[e._v("基本信息")]),e._v(" "),s("el-form-item",{attrs:{label:"商品标题：",required:""}},[s("el-input",{staticStyle:{width:"40%"},attrs:{maxlength:"50","show-word-limit":"",placeholder:"请输入商品标题"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name","string"==typeof t?t.trim():t)},expression:"ruleForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"商品描述：",required:""}},[s("el-input",{staticStyle:{width:"40%"},attrs:{maxlength:"50","show-word-limit":"",placeholder:"商品标语用来介绍商品特点，吸引用户购买，若有促销宣传语时将会覆盖商品标语"},model:{value:e.ruleForm.abstracts,callback:function(t){e.$set(e.ruleForm,"abstracts","string"==typeof t?t.trim():t)},expression:"ruleForm.abstracts"}}),e._v(" "),s("el-button",{attrs:{type:"text"},on:{click:function(t){e.spms=!0}}},[e._v("查看示例")])],1),e._v(" "),s("el-form-item",{attrs:{label:"分享描述：",required:""}},[s("el-input",{staticStyle:{width:"40%"},attrs:{type:"textarea",maxlength:"100","show-word-limit":"",placeholder:"请输入分享描述"},model:{value:e.ruleForm.shareDescription,callback:function(t){e.$set(e.ruleForm,"shareDescription",t)},expression:"ruleForm.shareDescription"}}),e._v(" "),s("el-button",{attrs:{type:"text"},on:{click:function(t){e.fxms=!0}}},[e._v("查看示例")])],1),e._v(" "),s("el-form-item",{attrs:{label:"商品编码：",required:""}},[s("el-input",{staticStyle:{width:"40%"},attrs:{maxlength:"20","show-word-limit":"",placeholder:"为了方便商品查找时的准确性，请维护商品编码"},on:{blur:e.blurCode},model:{value:e.ruleForm.code,callback:function(t){e.$set(e.ruleForm,"code","string"==typeof t?t.trim():t)},expression:"ruleForm.code"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"商品分类：",required:""}},[s("el-cascader",{attrs:{options:e.category,props:e.props,clearable:""},model:{value:e.ruleForm.shopCategoryIdsArr,callback:function(t){e.$set(e.ruleForm,"shopCategoryIdsArr",t)},expression:"ruleForm.shopCategoryIdsArr"}}),e._v(" "),s("el-button",{staticStyle:{margin:"0 20px"},on:{click:function(t){e.getCategory()}}},[e._v("刷新")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.newPage1}},[e._v("添加分类")])],1),e._v(" "),s("el-form-item",{attrs:{label:"商品图片：",required:""}},[s("div",[s("el-button",{attrs:{disabled:5==e.goodsImg.length,type:"primary"},on:{click:e.showImgMaterialDia}},[e._v("添加图片"),s("i",{staticClass:"el-icon-upload el-icon--right"})]),e._v(" "),s("span",{staticStyle:{color:"#909399"}},[e._v("已上传"+e._s(e.goodsImg.length)+"张，还可上传"+e._s(5-e.goodsImg.length)+"张")]),e._v(" "),s("div",{staticStyle:{color:"#909399"}},[e._v("建议尺寸800*800像素，你可以拖拽图片调整顺序，最多上传5张，仅支持jpg、png、gif格式")]),e._v(" "),s("div",{staticStyle:{color:"#F56C6C"}},[e._v("最少需要添加一张商品图片")])],1),e._v(" "),s("div",{staticClass:"flex-row-start",staticStyle:{padding:"20px 0"}},e._l(e.goodsImg,function(t,i){return s("div",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:t,list:e.goodsImg,group:"index"},expression:"{ item: li, list: goodsImg, group: 'index' }"}],key:i,staticClass:"li"},[s("el-popover",{attrs:{placement:"bottom",trigger:"hover"}},[s("el-button",{staticStyle:{color:"#909399"},attrs:{type:"text",icon:"el-icon-circle-close"},on:{click:function(t){t.stopPropagation(),e.deleteImg(i)}}},[e._v("删除")]),e._v(" "),s("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{slot:"reference","preview-src-list":e.bigImg,src:t.imageUrl,fit:"fill"},on:{click:function(i){e.showBig(t.imageUrl)}},slot:"reference"})],1)],1)}))]),e._v(" "),s("el-form-item",{attrs:{label:"商品视频："}},[s("div",[s("el-button",{attrs:{disabled:1==e.videoForm.length,type:"primary"},on:{click:e.showVideoMaterialDia}},[e._v("添加视频"),s("i",{staticClass:"el-icon-upload el-icon--right"})]),e._v(" "),1==e.videoForm.length?s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.videoForm=[]}}},[e._v("删除视频")]):e._e(),e._v(" "),s("span",{staticStyle:{color:"#909399"}},[e._v("仅可上传1条视频")])],1),e._v(" "),s("div",{staticClass:"flex-row-start",staticStyle:{padding:"20px 0"}},[1==e.videoForm.length?s("video",{staticClass:"avatar video-avatar",staticStyle:{width:"300px",height:"200px"},attrs:{slot:"reference",src:e.videoForm[0].imageUrl,controls:"controls"},slot:"reference"},[e._v("\n            您的浏览器不支持视频播放\n          ")]):e._e()]),e._v(" "),s("div",{staticClass:"infoFont"},[e._v("视频最大支持20M，建议时长9-30秒，建议视频宽高比16:9")])]),e._v(" "),1==e.videoForm.length?s("el-form-item",{attrs:{label:"视频封面："}},[s("el-image",{staticStyle:{width:"200px",height:"200px"},attrs:{src:e.videoForm[0].coversUrl,fit:"fill"}})],1):e._e()],1),e._v(" "),s("el-card",{staticClass:"box-card gg",staticStyle:{"margin-bottom":"20px"}},[s("div",{staticClass:"pageHead"},[e._v("规格 & 价格 & 库存")]),e._v(" "),s("el-form-item",{attrs:{label:"商品规格：",required:""}},[s("el-radio-group",{model:{value:e.ruleForm.skuType,callback:function(t){e.$set(e.ruleForm,"skuType",t)},expression:"ruleForm.skuType"}},[s("el-radio",{attrs:{label:"0"}},[e._v("统一规格")]),e._v(" "),s("el-radio",{attrs:{label:"1"}},[e._v("多规格")])],1)],1),e._v(" "),0==e.ruleForm.skuType?s("div",[s("el-form-item",{attrs:{label:"成本价："}},[s("el-input-number",{attrs:{placeholder:"请输入成本价",precision:2,controls:!1,min:0},model:{value:e.skuType0.originPrice,callback:function(t){e.$set(e.skuType0,"originPrice",t)},expression:"skuType0.originPrice"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"划线价："}},[s("el-input-number",{attrs:{controls:!1,precision:2,placeholder:"请输入划线价",min:0},model:{value:e.skuType0.linePrice,callback:function(t){e.$set(e.skuType0,"linePrice",t)},expression:"skuType0.linePrice"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"销售价：",required:""}},[s("el-input-number",{attrs:{controls:!1,placeholder:"请输入销售价",precision:2,min:.01},model:{value:e.skuType0.salePrice,callback:function(t){e.$set(e.skuType0,"salePrice",t)},expression:"skuType0.salePrice"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"库存：",required:""}},[s("el-input-number",{attrs:{controls:!1,"step-strictly":"",placeholder:"请输入库存","controls-position":"right",min:0},model:{value:e.skuType0.inventory,callback:function(t){e.$set(e.skuType0,"inventory",t)},expression:"skuType0.inventory"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"单位："}},[s("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入单位"},model:{value:e.skuType0.unit,callback:function(t){e.$set(e.skuType0,"unit",t)},expression:"skuType0.unit"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"规格编码："}},[s("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入规格编码"},model:{value:e.skuType0.skuCode,callback:function(t){e.$set(e.skuType0,"skuCode",t)},expression:"skuType0.skuCode"}})],1)],1):e._e(),e._v(" "),1==e.ruleForm.skuType?s("div",{staticClass:"info_box"},[s("div",{staticClass:"spec_con"},[s("span",{staticClass:"name"},[e._v("商品规格：")]),e._v(" "),s("div",{staticClass:"spec_box"},[e._l(e.specArr,function(t,i){return s("div",{key:i,staticClass:"spec_row_box"},[s("div",{staticClass:"spec_name_box"},[s("span",{staticClass:"spec_name"},[e._v("规格名：")]),e._v(" "),s("el-input",{staticStyle:{width:"160px"},attrs:{type:"text",placeholder:"规格名",maxlength:"4","show-word-limit":""},model:{value:t.specName,callback:function(i){e.$set(t,"specName",i)},expression:"item.specName"}}),e._v(" "),s("i",{staticClass:"close_btn",on:{click:function(t){e.deletRow(i)}}},[e._v("×")])],1),e._v(" "),s("div",{staticClass:"spec_value_box"},[s("span",{staticClass:"spec_value_name"},[e._v("规格值：")]),e._v(" "),s("div",{staticClass:"right_box"},[e._l(t.specList,function(t,r){return s("div",{key:r,staticClass:"input_box"},[s("el-input",{staticStyle:{width:"160px"},attrs:{type:"text",placeholder:"规格值",maxlength:"20","show-word-limit":""},on:{input:e.creatData},model:{value:t.specValue,callback:function(i){e.$set(t,"specValue",i)},expression:"sp.specValue"}}),e._v(" "),s("i",{staticClass:"close_spec_value",on:{click:function(t){t.stopPropagation(),e.deletSpecValue(i,r)}}},[e._v("×")])],1)}),e._v(" "),s("i",{staticClass:"add_spec_value",on:{click:function(t){t.stopPropagation(),e.addSpecValue(i)}}},[e._v("添加规格值")])],2)])])}),e._v(" "),s("div",{class:e.showAddSpec?"add_spec_btn":"add_spec_btn default",on:{click:function(t){return t.stopPropagation(),e.addSpecRow(t)}}},[e._v("添加规格项")])],2)]),e._v(" "),s("div",{staticClass:"spec_con"},[s("span",{staticClass:"name"},[e._v("规格明细：")]),e._v(" "),s("div",{staticClass:"spec_box",staticStyle:{padding:"0","border-bottom":"0 none"}},[s("div",{staticClass:"title_box"},[s("span",{staticClass:"one_spec_name"},[e._v(e._s(e.specArr[0]&&e.specArr[0].specName))]),e._v(" "),e.specArr[1]&&e.specArr[1].specName?s("span",{staticClass:"two_spec_name"},[e._v(e._s(e.specArr[1]&&e.specArr[1].specName))]):e._e(),e._v(" "),s("span",{staticClass:"origin_price_name"},[e._v("成本价")]),e._v(" "),s("span",{staticClass:"line_price_name"},[e._v("划线价")]),e._v(" "),s("span",{staticClass:"sale_price_name"},[s("i",{staticStyle:{color:"red"}},[e._v("* ")]),e._v(" 销售价")]),e._v(" "),s("span",{staticClass:"inventory_name"},[s("i",{staticStyle:{color:"red"}},[e._v("* ")]),e._v(" 库存")]),e._v(" "),s("span",{staticClass:"unit_name"},[s("i",{staticStyle:{color:"red"}},[e._v("* ")]),e._v(" 单位")]),e._v(" "),s("span",{staticClass:"specNo_name"},[e._v("规格编码")])]),e._v(" "),e._l(e.specData,function(t,i){return s("div",{key:i,staticClass:"rows"},[s("p",{staticClass:"td"},[e._v(e._s(t.specValue))]),e._v(" "),e.specArr[1]&&e.specArr[1].specName?s("p",{staticClass:"td border"},e._l(t.children,function(t,i){return s("span",{directives:[{name:"show",rawName:"v-show",value:t.specValue,expression:"nameChild.specValue"}],key:i,staticClass:"color"},[e._v(e._s(t.specValue))])})):e._e(),e._v(" "),s("p",{staticClass:"td"},e._l(t.children,function(t,i){return s("el-input-number",{key:i,staticStyle:{width:"90%"},attrs:{min:.01,precision:2,controls:!1},model:{value:t.originPrice,callback:function(i){e.$set(t,"originPrice",i)},expression:"priceChild.originPrice"}})})),e._v(" "),s("p",{staticClass:"td"},e._l(t.children,function(t,i){return s("el-input-number",{key:i,staticStyle:{width:"90%"},attrs:{min:.01,precision:2,controls:!1},model:{value:t.linePrice,callback:function(i){e.$set(t,"linePrice",i)},expression:"lineChild.linePrice"}})})),e._v(" "),s("p",{staticClass:"td"},e._l(t.children,function(t,i){return s("el-input-number",{key:i,staticStyle:{width:"90%"},attrs:{min:.01,precision:2,controls:!1},model:{value:t.salePrice,callback:function(i){e.$set(t,"salePrice",i)},expression:"saleChild.salePrice"}})})),e._v(" "),s("p",{staticClass:"td"},e._l(t.children,function(t,i){return s("el-input-number",{key:i,staticStyle:{width:"90%"},attrs:{min:0,precision:0,controls:!1},model:{value:t.inventory,callback:function(i){e.$set(t,"inventory",i)},expression:"invenChild.inventory"}})})),e._v(" "),s("p",{staticClass:"td flex2"},e._l(t.children,function(t,i){return s("el-input",{key:i,staticStyle:{width:"90%"},model:{value:t.unit,callback:function(i){e.$set(t,"unit","string"==typeof i?i.trim():i)},expression:"unitChild.unit"}})})),e._v(" "),s("p",{staticClass:"td"},e._l(t.children,function(t,i){return s("el-input",{key:i,staticStyle:{width:"90%"},model:{value:t.skuCode,callback:function(i){e.$set(t,"skuCode","string"==typeof i?i.trim():i)},expression:"noChild.skuCode"}})}))])})],2)]),e._v(" "),s("div",{staticClass:"set_box"},[s("span",{staticClass:"set_title"},[e._v("批量设置：")]),e._v(" "),s("el-form",{ref:"form",staticClass:"flex-row-start flex-wrap",attrs:{model:e.publicObj,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"成本价"}},[s("el-input-number",{attrs:{placeholder:"请输入成本价",min:.01,precision:2,controls:!1},model:{value:e.publicObj.originPrice,callback:function(t){e.$set(e.publicObj,"originPrice",t)},expression:"publicObj.originPrice"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"划线价"}},[s("el-input-number",{attrs:{placeholder:"请输入划线价",min:.01,precision:2,controls:!1},model:{value:e.publicObj.linePrice,callback:function(t){e.$set(e.publicObj,"linePrice",t)},expression:"publicObj.linePrice"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"销售价"}},[s("el-input-number",{attrs:{placeholder:"请输入销售价",min:.01,precision:2,controls:!1},model:{value:e.publicObj.salePrice,callback:function(t){e.$set(e.publicObj,"salePrice",t)},expression:"publicObj.salePrice"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"库存"}},[s("el-input-number",{attrs:{placeholder:"请输入库存数",min:0,precision:0,controls:!1},model:{value:e.publicObj.inventory,callback:function(t){e.$set(e.publicObj,"inventory",t)},expression:"publicObj.inventory"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"单位"}},[s("el-input",{attrs:{placeholder:"请输入单位"},model:{value:e.publicObj.unit,callback:function(t){e.$set(e.publicObj,"unit","string"==typeof t?t.trim():t)},expression:"publicObj.unit"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.changeParmas}},[e._v("确 定")]),e._v(" "),s("el-button",{on:{click:e.cancel}},[e._v("重 置")])],1)],1)],1)]):e._e()],1),e._v(" "),s("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[s("div",{staticClass:"pageHead"},[e._v("商品参数")]),e._v(" "),s("el-form-item",{attrs:{label:"参数："}},[s("el-button",{attrs:{type:"primary",disabled:8==e.parameter.length},on:{click:e.addParameter}},[e._v("添加参数"),s("i",{staticClass:"el-icon-circle-plus-outline el-icon--right"})]),e._v(" "),s("span",{staticStyle:{"margin-left":"20px",color:"#909399"}},[e._v("最多可添加8条参数")])],1),e._v(" "),e.parameter.length>0?s("el-form-item",{attrs:{label:""}},[s("el-table",{staticStyle:{width:"800px"},attrs:{data:e.parameter}},[s("el-table-column",{attrs:{label:"参数名",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{type:"text",placeholder:"请输入参数名",maxlength:"10","show-word-limit":""},model:{value:t.row.key,callback:function(i){e.$set(t.row,"key",i)},expression:"scope.row.key"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"参数值",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{type:"text",placeholder:"请输入参数值",maxlength:"15","show-word-limit":""},model:{value:t.row.value,callback:function(i){e.$set(t.row,"value",i)},expression:"scope.row.value"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text"},on:{click:function(i){e.deleteParameter(t.$index)}}},[e._v("删除")])]}}])})],1)],1):e._e()],1),e._v(" "),s("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[s("div",{staticClass:"pageHead"},[e._v("商品详情")]),e._v(" "),s("el-form-item",{attrs:{label:"商品详情：",required:""}},[s("div",{staticStyle:{width:"600px",height:"300px"},attrs:{id:"editor"}})])],1),e._v(" "),s("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[s("div",{staticClass:"pageHead"},[e._v("物流信息")]),e._v(" "),0==e.selffedchStatus?s("el-form-item",{attrs:{label:"提示："}},[s("div",[e._v("“到店自提”需在店铺设置开启后生效 \n          "),s("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.newPage2}},[e._v("去开启")]),e._v(" "),s("el-button",{attrs:{type:"text"},on:{click:e.getStatus}},[e._v("刷新")])],1)]):e._e(),e._v(" "),s("el-form-item",{attrs:{label:"商品物流信息：",required:""}},[s("el-checkbox",{model:{value:e.ruleForm.isCompanyType,callback:function(t){e.$set(e.ruleForm,"isCompanyType",t)},expression:"ruleForm.isCompanyType"}},[e._v("物流")]),e._v(" "),s("el-checkbox",{attrs:{disabled:0==e.selffedchStatus},model:{value:e.ruleForm.isSelffetchType,callback:function(t){e.$set(e.ruleForm,"isSelffetchType",t)},expression:"ruleForm.isSelffetchType"}},[e._v("到店自提")])],1),e._v(" "),e.ruleForm.isCompanyType?s("el-form-item",{attrs:{label:"商品物流信息：",required:""}},[s("el-radio-group",{model:{value:e.ruleForm.isFreeShipping,callback:function(t){e.$set(e.ruleForm,"isFreeShipping",t)},expression:"ruleForm.isFreeShipping"}},[s("el-radio",{attrs:{label:"1"}},[e._v("包邮")]),e._v(" "),s("el-radio",{attrs:{label:"0"}},[e._v("不包邮")])],1)],1):e._e(),e._v(" "),e.ruleForm.isCompanyType&&0==e.ruleForm.isFreeShipping?s("el-form-item",{attrs:{label:"运费模板：",required:""}},[s("el-select",{attrs:{placeholder:"请选择模板"},model:{value:e.ruleForm.freightTemplateId,callback:function(t){e.$set(e.ruleForm,"freightTemplateId",t)},expression:"ruleForm.freightTemplateId"}},e._l(e.logisticsTemplate,function(e,t){return s("el-option",{key:t,attrs:{label:e.templateName,value:e.id}})})),e._v(" "),s("el-button",{staticStyle:{margin:"0 20px"},on:{click:function(t){e.getLogisticsTemplate()}}},[e._v("刷新")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.newPage}},[e._v("新建")])],1):e._e()],1),e._v(" "),s("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[s("div",{staticClass:"pageHead"},[e._v("其他信息")]),e._v(" "),s("el-form-item",{attrs:{label:"上架时间："}},[s("el-radio-group",{model:{value:e.ruleForm.salesStatus,callback:function(t){e.$set(e.ruleForm,"salesStatus",t)},expression:"ruleForm.salesStatus"}},[s("el-radio",{attrs:{label:"0"}},[e._v("立刻上架")]),e._v(" "),s("el-radio",{attrs:{label:"2"}},[e._v("放入待售")])],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"销量显示："}},[s("el-radio-group",{model:{value:e.ruleForm.showSales,callback:function(t){e.$set(e.ruleForm,"showSales",t)},expression:"ruleForm.showSales"}},[s("el-radio",{attrs:{label:"1"}},[e._v("开")]),e._v(" "),s("el-radio",{attrs:{label:"0"}},[e._v("关")])],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"评价显示："}},[s("el-radio-group",{model:{value:e.ruleForm.evaluate,callback:function(t){e.$set(e.ruleForm,"evaluate",t)},expression:"ruleForm.evaluate"}},[s("el-radio",{attrs:{label:"1"}},[e._v("开")]),e._v(" "),s("el-radio",{attrs:{label:"0"}},[e._v("关")])],1)],1)],1),e._v(" "),s("el-form-item",{staticClass:"flex-row-center"},[s("el-button",{on:{click:function(t){e.$router.push({path:"/commodity/commodityList"})}}},[e._v("返 回")]),e._v(" "),s("el-button",{attrs:{loading:e.subLoading,type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"图片库",visible:e.showImgMaterial,width:"70%","append-to-body":!0},on:{"update:visible":function(t){e.showImgMaterial=t}}},[s("imageMaterial",{attrs:{limitType:e.limitType,getPost:e.getPost,multiple:!0,totalNum:5,selectNum:e.selectNum},on:{onlyclose:e.onlyclose,subMit:e.subMit}})],1),e._v(" "),s("el-dialog",{attrs:{title:"视频库",visible:e.showVideoMaterial,width:"70%"},on:{"update:visible":function(t){e.showVideoMaterial=t}}},[s("videoMaterial",{attrs:{limitType:!0,getPost:e.getPost,multiple:!1,totalNum:1,selectNum:0},on:{onlyclose:e.onlyCloseVideo,subMit:e.subMitVideo}})],1),e._v(" "),s("el-dialog",{attrs:{title:"商品描述示例",visible:e.spms,width:"30%",center:""},on:{"update:visible":function(t){e.spms=t}}},[s("img",{staticStyle:{"max-width":"100%",margin:"0 auto"},attrs:{src:i("mtBR"),alt:""}}),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.spms=!1}}},[e._v("确 定")])],1)]),e._v(" "),s("el-dialog",{attrs:{title:"分享描述示例",visible:e.fxms,width:"30%",center:""},on:{"update:visible":function(t){e.fxms=t}}},[s("div",{staticClass:"tac"},[e._v("当商品参加营销活动时，展示活动分享标题及文案。")]),e._v(" "),s("img",{staticStyle:{"max-width":"100%",margin:"0 auto"},attrs:{src:i("IneS"),alt:""}}),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.fxms=!1}}},[e._v("确 定")])],1)])],1)},[],!1,null,"27afbe5a",null);g.options.__file="addCommodity.vue";t.default=g.exports},utjT:function(e,t,i){}}]);
//# sourceMappingURL=chunk-51fc.88dfbb53.js.map