(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-06c5","WFwG"],{"/vX6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAE6ElEQVRoQ9WZW0hlVRjHf8sbhrcxDQXHSwqamo6X1CQ1whIRCaQgfKiQrIceeq9gmoLqPaiHMoZ6kaAYCBGxpFLL1FFHTU1B8woKmncavK34FnvL8XiObk9U7O/F49p7r/Xf/++//utbaysCDK11MPAgEA88BjwO5AIPA9eAB4C/gC3gD2AC+BW4C6wDfyqljgMZXl31Ia11KFAGPANUAgUWSCd9aesl7gE9wHdAv1Lq8Co4nAx02p/WOg94B6iwGBa2Aw1hWRjvBW4ppX5z2pEj0FprkcCrwFtApN350dER9+/fZ3t7m5WVFdbX181vaTs+PiY4OJjw8HBiYmKIj48nKSnJ/Ja2kJAQT4x7wAfAZ0opeZEL41LQWmtJ/7tAHWBGOjg4YHl5mcXFRVZXV9nd3UVryfwlgylFVFQUiYmJpKSkcP36dcLCwk45ANolk0opkY/f8Ataay3XngY+Ah6xexA2BwcHWVtbM+ADDQGbkJBASUmJyYJH/A68AXyvlPLJhE/QFuB64FMgUTqUlI+OjjI2NuaIVacvo5QiPz+fGzduGNlYsQq8BrT5Au4PtDjDlzbgra0tw+7CwgInJydO8Ti+LygoiNTUVMP6tWviliYE+EtKKXGYM3EOtKXhVlsSGxsbdHV1mQnmRLeOkXoDUcpM0urqauLi4uyrIpVGb42fAW25xOfAs/KUMNzZ2Wn+/lchTNfU1Hgy/i3wiqereIN+E3hPXEI03NPTw/z8/L/K8LnUK0VaWhqVlZW2xo+Am0qpD+17T0FrrR8F+mwf7u/vZ3x8/IyGRXu5ubnGNWZnZxGfDjTEpzMyMozlTUxMnBsnLy+PsjJZeE2Ij5fbC5ABbS3NouPn5H+xtTt37pxjWDoqLy837eIkIyMjHB5eaQU2CEJDQyksLDSOIe7R19dnCPIMaW9oaPC0w28sfR/aoGVZ/hpIEBZl4i0tLZ0jMSsri6qqKjOQAJ+cnGRoaMjYodMQWysuLiYnJ+e0n+7ubqanp891kZycbCamtQCtAc8rpXqVVa3dBN4Ggufm5pBOfC0cktKioqJThsT+pqamGBgYcMS4MFxaWkp2djYiNTtjw8PDPqUmYIWk9PR0eSGpVd6XOSegHwK+Ap4Sjfb29jIzM+OXOH8DXyYVb0k4feHMzEwqKirsWuUH4AUBnQ38DMTu7e3R1tbGzs7Ohdn2leKLpHLV+z0Hj46Opr6+nshIU6dtAk8I6BeBLwAllVp7e7sji3PKXKCZObU3pairqzMVongG8LKA/hh4XVpEm/fuXVhgncnAZYCcvthlk7igoMDMBSs+EdA/Ak9Kg7AsJedVwl/qRS7iEJ4uEYjbCBYpYYVtK34S0AtAijS0traa2viq4YvR/f19IiIizrjEZZPV37hSgzc2NtqXFwX0NhAtLbdv33ZkXb4695aKfY9Tl7iIKOm7qanJvmVHQEslL5tVWlpa/lHpGRsbS21trdmd2CGZ6+joYHNTJn5gIZ7e3NxsP3zoWqZdqWlXuocrfdqVK6Iraw9XVnlyHueuetqUTlq7a+digZYV0V17RAu4HOP+4prduL2oa63dde5hsS3Hl+46YbKAy3m0e87yPGTirlNTi205xHHX+bQHcPd8CfDcX7jqm4sXcHd93fICL8fBt1zxHdELuLu+2HqB/9++jf8NhRh7u/GEnU8AAAAASUVORK5CYII="},"3WZy":function(t,e,a){},"4jk9":function(t,e,a){},"8/xu":function(t,e,a){"use strict";var i=a("4jk9");a.n(i).a},DjhN:function(t,e,a){"use strict";var i=a("a25L");a.n(i).a},PRgn:function(t,e,a){"use strict";a.d(e,"b",function(){return s}),a.d(e,"e",function(){return o}),a.d(e,"a",function(){return l}),a.d(e,"f",function(){return r}),a.d(e,"h",function(){return n}),a.d(e,"g",function(){return c}),a.d(e,"d",function(){return u}),a.d(e,"c",function(){return d});var i=a("t3Un");function s(t){return Object(i.a)({url:"/product/business/productCategoryShop/getProductCategoryInfoList",method:"post",data:t})}function o(t){return Object(i.a)({url:"/product/business/productCategoryShop/insertProductCategoryShop",method:"post",data:t})}function l(t){return Object(i.a)({url:"/product/business/productCategoryShop/deleteProductCategoryShop",method:"post",data:t})}function r(t){return Object(i.a)({url:"/product/business/productCategoryShop/isCategoryNameExist?name="+t.name+"&level="+t.level+"&shopId="+t.shopId+"&parentId="+t.parentId,method:"get"})}function n(t){return Object(i.a)({url:"/product/business/productCategoryShop/updateProductCategoryShopOrderNo",method:"post",data:t})}function c(t){return Object(i.a)({url:"/product/business/productCategoryShop/updateProductCategoryShop",method:"post",data:t})}function u(t){return Object(i.a)({url:"/product/business/productCategoryShop/getProductCategoryShopAllList?shopId="+t,method:"get"})}function d(t){return Object(i.a)({url:"/product/business/productCategoryShop/getProductCategoryInfoPageList",method:"post",data:t})}},U7fH:function(t,e,a){"use strict";var i=a("ZB0S");a.n(i).a},WFwG:function(t,e,a){"use strict";a.d(e,"f",function(){return s}),a.d(e,"h",function(){return o}),a.d(e,"l",function(){return l}),a.d(e,"b",function(){return r}),a.d(e,"g",function(){return n}),a.d(e,"d",function(){return c}),a.d(e,"a",function(){return u}),a.d(e,"k",function(){return d}),a.d(e,"j",function(){return h}),a.d(e,"c",function(){return m}),a.d(e,"e",function(){return g}),a.d(e,"i",function(){return p});var i=a("t3Un");function s(t){return Object(i.a)({url:"/product/business/gallery/getGalleryByShopId?shopId="+t.shopId+"&galleryName="+(t.galleryName?t.galleryName:"")+"&type="+t.type,method:"get"})}function o(t){return Object(i.a)({url:"/product/business/gallery/insertGallery",method:"post",data:t})}function l(t){return Object(i.a)({url:"/product/business/gallery/updateGalleryName",method:"post",data:t})}function r(t){return Object(i.a)({url:"/product/business/gallery/deleteGallery",method:"post",data:t})}function n(t){return Object(i.a)({url:"/product/business/gallery/getGalleryImageByGroup",method:"post",data:t})}function c(t){return Object(i.a)({url:"/product/business/gallery/deleteOssFile",method:"post",data:t})}function u(t){return Object(i.a)({url:"/product/business/gallery/addGalleryImage",method:"post",data:t})}function d(t){return Object(i.a)({url:"/product/business/gallery/updateGalleryImageName",method:"post",data:t})}function h(t){return Object(i.a)({url:"/product/business/gallery/updateGalleryImageGroup",method:"post",data:t})}function m(t){return Object(i.a)({url:"/product/business/gallery/deleteGalleryImage",method:"post",data:t})}function g(t){return Object(i.a)({url:"/product/business/gallery/getDeleteGallery",method:"post",data:t})}function p(t){return Object(i.a)({url:"/product/business/gallery/updateDeleteStatus",method:"post",data:t})}},YvBP:function(t,e,a){"use strict";a.r(e);var i=a("pgPq"),s=a("QbLZ"),o=a.n(s),l=a("L2JU"),r=a("PRgn"),n=a("i/Tg"),c={props:["commodityIds","commodityShow"],watch:{commodityShow:function(t,e){t&&this.getData()}},data:function(){return{fromLoading:!1,searchList:{shopCategoryIdArr:[],pageNum:1,pageSize:5},category:[],list:[],listTotal:0,multipleSelection:[]}},created:function(){this.searchList.shopId=this.shop.shopId},methods:{sub:function(){console.log("multipleSelection",this.multipleSelection),0!=this.multipleSelection.length?(this.$emit("commodityFun",this.multipleSelection),this.$refs.multipleTable.clearSelection()):this.$message.error("请选择商品后再试")},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.searchList.pageSize=t,this.getData()},handleCurrentChange:function(t){console.log("当前页: "+t),this.searchList.pageNum=t,this.getData()},reset:function(){this.searchList.productName="",this.searchList.shopCategoryIdArr=[],this.getData()},getData:function(){var t=this;this.fromLoading=!0,this.searchList.productIds=this.commodityIds||"",this.searchList.parentCategoryId=this.searchList.shopCategoryIdArr[0]||"",this.searchList.categoryId=this.searchList.shopCategoryIdArr[1]||"",console.log("请求的数据",this.searchList),Object(n.f)(this.searchList).then(function(e){console.log("商品列表",e),200==e.code&&(t.list=e.data.list,t.listTotal=e.data.total,t.getCategory()),t.fromLoading=!1})},getCategory:function(){var t=this;Object(r.d)(this.shop.shopId).then(function(e){console.log("获取店铺分类",e),t.category=e.data})},close:function(){this.$emit("commodityClose",!0)},change:function(){this.$forceUpdate()}},computed:o()({},Object(l.c)(["user","shop"]))},u=a("KHd+"),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{"append-to-body":!0,title:"新增商品列表",visible:t.commodityShow,width:"70%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.commodityShow=e}}},[a("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[a("div",[a("i",{staticClass:"el-icon-search"}),t._v(" "),a("span",[t._v("筛选搜索")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.getData}},[t._v("查询")]),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:t.reset}},[t._v("重置")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.searchList,size:"small","label-width":"140px"}},[a("el-form-item",{attrs:{label:"商品名称："}},[a("el-input",{staticStyle:{width:"203px"},attrs:{clearable:"",placeholder:"商品名称"},on:{input:function(e){t.change(e)}},model:{value:t.searchList.productName,callback:function(e){t.$set(t.searchList,"productName",e)},expression:"searchList.productName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品类目："}},[a("el-cascader",{attrs:{options:t.category,props:{checkStrictly:!0},clearable:""},model:{value:t.searchList.shopCategoryIdArr,callback:function(e){t.$set(t.searchList,"shopCategoryIdArr",e)},expression:"searchList.shopCategoryIdArr"}})],1)],1)],1)]),t._v(" "),a("el-card",{staticClass:"filter-container",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品图片",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"right",title:"",trigger:"hover"}},[a("el-image",{staticStyle:{"max-height":"40px","max-width":"40px"},attrs:{slot:"reference",src:e.row.imageUrl,alt:e.row.imageUrl},slot:"reference"}),t._v(" "),a("el-image",{staticStyle:{"max-height":"350px","max-width":"350px"},attrs:{src:e.row.imageUrl}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",prop:"productName"}}),t._v(" "),a("el-table-column",{attrs:{label:"成本价",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s("￥"+e.row.minOriginPrice+" ~ ￥"+e.row.maxOriginPrice))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品售价（元）",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s("￥"+e.row.minPrice+" ~ ￥"+e.row.maxPrice))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品库存",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.stock))]}}])})],1),t._v(" "),a("div",{staticStyle:{padding:"10px 0 20px 0"}},[a("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":t.searchList.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.listTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.close}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.sub}},[t._v("确 定")])],1)],1)},[],!1,null,null,null);d.options.__file="normalCommodity.vue";var h=d.exports,m={props:{itemData:{type:Object}},data:function(){return{btnPdClass:!1,btnPdClass1:!1,hoverIndex:-1,loadingbut:!1,loadingbuttext:"确 定",pageNumber:5,nowPage:1,total:1,tableData:[],selectData:[],search:{name:"",shopCategoryId:""},search1:{name:"",shopCategoryId:""},multipleSelection:[],loading:!1,dialogVisible:!1,radioType:!1,radioType1:!1,selectStyle:!1,rightAwaybtn:!1,rightNowbtn:!1,dialogVisible1:!1,hoverIndex1:-1,shopId:"",getPost:!0,commodityShow:!1}},created:function(){this.shopId=Number(localStorage.getItem("shopId"))},mounted:function(){3!=this.itemData.buyBtn&&7!=this.itemData.buyBtn||(this.rightNowbtn=!0),2!=this.itemData.buyBtn&&6!=this.itemData.buyBtn||(this.rightAwaybtn=!0),console.log(this.itemData.buyBtn),0==this.itemData.showBuyBtn?this.radioType=!0:this.radioType=!1,0==this.itemData.showCornerMark?this.radioType1=!0:this.radioType1=!1,2==this.itemData.listType?this.selectStyle=!0:4==this.itemData.listType?this.selectStyle=!0:this.selectStyle=!1},components:{imageMaterial:i.a,normalCommodity:h},methods:{commodityClose:function(){this.commodityShow=!1},commodityFun:function(t){var e=this;t.map(function(t){e.itemData.goodsData.push(t),e.itemData.commodityIds.push(t.productId)}),this.commodityShow=!1},showType:function(t){switch(t){case 0:0==this.itemData.chamfering?this.itemData.chamferingStyle=0:this.itemData.chamferingStyle="8px";break;case 1:0==this.itemData.projection?this.itemData.projectionStyle="0px 0px 0px 0px":this.itemData.projectionStyle="0px 2px 2px 0px rgba(153,153,153,0.1)";break;case 2:0==this.itemData.fill?this.itemData.fillStyle=0:this.itemData.fillStyle="5px"}},changeShow:function(t){0==t?0==this.itemData.showBuyBtn?(this.radioType=!0,this.itemData.buyBtn=-1,this.rightAwaybtn=!1,this.rightNowbtn=!1):(this.radioType=!1,this.itemData.buyBtn=0):0==this.itemData.showCornerMark?(this.radioType1=!0,this.itemData.cornerMark=-1):(this.radioType1=!1,this.itemData.cornerMark=0)},listSelect:function(){2==this.itemData.listType?(this.selectStyle=!0,this.rightAwaybtn=!1,this.rightNowbtn=!1,1==this.itemData.showBuyBtn?this.itemData.buyBtn=1:this.itemData.buyBtn=-1):4==this.itemData.listType?(this.selectStyle=!0,this.rightAwaybtn=!1,this.rightNowbtn=!1,1==this.itemData.showBuyBtn?this.itemData.buyBtn=1:this.itemData.buyBtn=-1):this.selectStyle=!1,0==this.itemData.listType&&(1==this.itemData.showBuyBtn?this.itemData.buyBtn=7:this.itemData.buyBtn=-1),1==this.itemData.listType&&(1==this.itemData.showBuyBtn?this.itemData.buyBtn=4:this.itemData.buyBtn=-1),3==this.itemData.listType&&(1==this.itemData.showBuyBtn?this.itemData.buyBtn=2:this.itemData.buyBtn=-1),5==this.itemData.listType&&(1==this.itemData.showBuyBtn?this.itemData.buyBtn=6:this.itemData.buyBtn=-1)},selsecBtn:function(){2==this.itemData.buyBtn||6==this.itemData.buyBtn?(this.rightAwaybtn=!0,this.rightNowbtn=!1):3==this.itemData.buyBtn||7==this.itemData.buyBtn?(this.rightNowbtn=!0,this.rightAwaybtn=!1):(this.rightAwaybtn=!1,this.rightNowbtn=!1)},submitFormqx:function(){this.dialogVisible=!1,this.$refs.search1.resetFields(),this.search.name="",this.search.shopCategoryId=""},handleSelectionChange:function(t){this.multipleSelection=t},closed:function(){this.loadingbut=!1,this.loadingbuttext="确 定"},mouseOver:function(t){this.hoverIndex=t},mouseLeave:function(){this.hoverIndex=-1},delGoods:function(t){this.itemData.goodsData.splice(t,1),this.itemData.commodityIds.splice(t,1)},addBanner1:function(){this.dialogVisible1=!0,this.getPost=!0},submitFormqx1:function(){this.dialogVisible1=!1},submitForm1:function(t){console.log(t.length),0!=t.length?(this.itemData.anglePicture=t[0],this.dialogVisible1=!1):this.$message.error("请选择图片"),this.getPost=!1},mouseOver1:function(){this.hoverIndex1=1},mouseLeave1:function(){this.hoverIndex1=-1},delBgs1:function(t){this.itemData.anglePicture={}},isChn:function(t){return!!/^[\u4E00-\u9FA5]{2,4}$/.test(t)},btnPd:function(){0==this.isChn(this.itemData.buyBtnName)?(this.$message.error("只能输入2到4个汉字"),this.btnPdClass=!0):this.btnPdClass=!1},btnPd1:function(){0==this.isChn(this.itemData.buyBtnName1)?(this.$message.error("只能输入2到4个汉字"),this.btnPdClass1=!0):this.btnPdClass1=!1}}},g=(a("DjhN"),a("hqmg"),Object(u.a)(m,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"itemBox"},[i("div",[i("p",{staticClass:"title"},[t._v("商品")]),t._v(" "),i("el-form",{ref:"form",attrs:{model:t.itemData,size:"mini"}},[i("el-form-item",{staticClass:"navigation",attrs:{label:"添加商品"}},[i("div",{staticClass:"goodsUpload",on:{click:function(e){t.commodityShow=!0}}},[t._v("+")]),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:0!=t.itemData.goodsData.length,expression:"itemData.goodsData.length!=0"}],staticClass:"goodsUploadList"},t._l(t.itemData.goodsData,function(e,s){return i("li",{key:s,on:{mouseover:function(e){t.mouseOver(s)},mouseleave:t.mouseLeave}},[i("img",{attrs:{src:e.imageUrl,alt:""}}),t._v(" "),i("img",{staticClass:"delBtn",class:t.hoverIndex==s?"delBtnShow":"",attrs:{src:a("/vX6"),alt:""},on:{click:function(e){t.delGoods(s)}}})])}))]),t._v(" "),i("el-form-item",{staticClass:"navigation",attrs:{label:"列表样式"}},[i("el-radio-group",{on:{change:t.listSelect},model:{value:t.itemData.listType,callback:function(e){t.$set(t.itemData,"listType",e)},expression:"itemData.listType"}},[i("el-radio",{attrs:{label:0}},[t._v("大图样式")]),t._v(" "),i("el-radio",{attrs:{label:1}},[t._v("小图样式")]),t._v(" "),i("el-radio",{attrs:{label:2}},[t._v("一行三个")]),t._v(" "),i("el-radio",{attrs:{label:3}},[t._v("详细列表")]),t._v(" "),i("el-radio",{attrs:{label:4}},[t._v("横向滑动")]),t._v(" "),i("el-radio",{attrs:{label:5}},[t._v("一大两小")])],1)],1),t._v(" "),i("el-form-item",{staticClass:"showType",attrs:{label:"商品样式"}},[i("el-radio-group",{on:{change:function(e){t.showType(0)}},model:{value:t.itemData.chamfering,callback:function(e){t.$set(t.itemData,"chamfering",e)},expression:"itemData.chamfering"}},[i("span",{staticClass:"showClass"},[t._v("卡片倒角")]),t._v(" "),i("el-radio",{attrs:{label:0}},[t._v("直角")]),t._v(" "),i("el-radio",{attrs:{label:1}},[t._v("圆角")])],1),t._v(" "),i("el-radio-group",{on:{change:function(e){t.showType(1)}},model:{value:t.itemData.projection,callback:function(e){t.$set(t.itemData,"projection",e)},expression:"itemData.projection"}},[i("span",{staticClass:"showClass"},[t._v("卡片投影")]),t._v(" "),i("el-radio",{attrs:{label:0}},[t._v("无投影")]),t._v(" "),i("el-radio",{attrs:{label:1}},[t._v("有投影")])],1),t._v(" "),i("el-radio-group",{on:{change:function(e){t.showType(2)}},model:{value:t.itemData.fill,callback:function(e){t.$set(t.itemData,"fill",e)},expression:"itemData.fill"}},[i("span",{staticClass:"showClass"},[t._v("图片填充")]),t._v(" "),i("el-radio",{attrs:{label:0}},[t._v("填充")]),t._v(" "),i("el-radio",{attrs:{label:1}},[t._v("周边留白")])],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"显示内容"}},[i("el-checkbox",{model:{value:t.itemData.showGoodsName,callback:function(e){t.$set(t.itemData,"showGoodsName",e)},expression:"itemData.showGoodsName"}},[t._v("商品名称")]),t._v(" "),i("el-checkbox",{model:{value:t.itemData.showGoodsPrice,callback:function(e){t.$set(t.itemData,"showGoodsPrice",e)},expression:"itemData.showGoodsPrice"}},[t._v("商品价格")]),t._v(" "),i("el-checkbox",{on:{change:function(e){t.changeShow(0)}},model:{value:t.itemData.showBuyBtn,callback:function(e){t.$set(t.itemData,"showBuyBtn",e)},expression:"itemData.showBuyBtn"}},[t._v("购买按钮")]),t._v(" "),i("el-radio-group",{staticClass:"buyStyle",on:{change:t.selsecBtn},model:{value:t.itemData.buyBtn,callback:function(e){t.$set(t.itemData,"buyBtn",e)},expression:"itemData.buyBtn"}},[i("el-radio",{attrs:{label:0,disabled:t.radioType}},[t._v("样式1")]),t._v(" "),i("el-radio",{attrs:{label:1,disabled:t.radioType}},[t._v("样式2")]),t._v(" "),i("el-radio",{attrs:{label:2,disabled:t.radioType||t.selectStyle}},[t._v("样式3")]),t._v(" "),i("el-radio",{attrs:{label:3,disabled:t.radioType||t.selectStyle}},[t._v("样式4")]),t._v(" "),i("el-radio",{attrs:{label:4,disabled:t.radioType}},[t._v("样式5")]),t._v(" "),i("el-radio",{attrs:{label:5,disabled:t.radioType}},[t._v("样式6")]),t._v(" "),i("el-radio",{attrs:{label:6,disabled:t.radioType||t.selectStyle}},[t._v("样式7")]),t._v(" "),i("el-radio",{attrs:{label:7,disabled:t.radioType||t.selectStyle}},[t._v("样式8")])],1),t._v(" "),i("el-input",{directives:[{name:"show",rawName:"v-show",value:t.rightNowbtn,expression:"rightNowbtn"}],class:1==t.btnPdClass?"btnPdClass":"",attrs:{maxlength:"4",placeholder:"请输入按钮名称"},on:{blur:t.btnPd},model:{value:t.itemData.buyBtnName,callback:function(e){t.$set(t.itemData,"buyBtnName",e)},expression:"itemData.buyBtnName"}}),t._v(" "),i("el-input",{directives:[{name:"show",rawName:"v-show",value:t.rightAwaybtn,expression:"rightAwaybtn"}],class:1==t.btnPdClass1?"btnPdClass":"",attrs:{maxlength:"4",placeholder:"请输入按钮名称"},on:{blur:t.btnPd1},model:{value:t.itemData.buyBtnName1,callback:function(e){t.$set(t.itemData,"buyBtnName1",e)},expression:"itemData.buyBtnName1"}}),t._v(" "),i("el-checkbox",{on:{change:function(e){t.changeShow(1)}},model:{value:t.itemData.showCornerMark,callback:function(e){t.$set(t.itemData,"showCornerMark",e)},expression:"itemData.showCornerMark"}},[t._v("商品角标")]),t._v(" "),i("el-radio-group",{staticClass:"buyStyle",model:{value:t.itemData.cornerMark,callback:function(e){t.$set(t.itemData,"cornerMark",e)},expression:"itemData.cornerMark"}},[i("el-radio",{attrs:{label:0,disabled:t.radioType1}},[t._v("新品")]),t._v(" "),i("el-radio",{attrs:{label:1,disabled:t.radioType1}},[t._v("热卖")]),t._v(" "),i("el-radio",{attrs:{label:2,disabled:t.radioType1}},[t._v("NEW")]),t._v(" "),i("el-radio",{attrs:{label:3,disabled:t.radioType1}},[t._v("HOT")]),t._v(" "),i("el-radio",{attrs:{label:4,disabled:t.radioType1}},[t._v("自定义")]),t._v(" "),i("div",{staticStyle:{display:"flex"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:0!=Object.keys(t.itemData.anglePicture).length&&4==t.itemData.cornerMark,expression:"Object.keys(itemData.anglePicture).length!=0&&itemData.cornerMark==4"}],staticClass:"customImg1",on:{mouseover:t.mouseOver1,mouseleave:t.mouseLeave1}},[i("img",{attrs:{src:t.itemData.anglePicture.imageUrl,alt:""}}),t._v(" "),i("img",{staticClass:"delBtn",class:1==t.hoverIndex1?"delBtnShow":"",attrs:{src:a("/vX6"),alt:""},on:{click:t.delBgs1}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:4==t.itemData.cornerMark,expression:"itemData.cornerMark==4"}],staticClass:"customImg",on:{click:t.addBanner1}},[i("div",{staticClass:"goodsUpload"},[t._v("+")]),t._v(" "),i("div",{staticClass:"tips"},[t._v("推荐使用 36x36 像素的 .png 图片")])])])],1)],1)],1)],1),t._v(" "),i("normalCommodity",{attrs:{commodityIds:t.itemData.commodityIds.join(","),commodityShow:t.commodityShow},on:{commodityClose:t.commodityClose,commodityFun:t.commodityFun}}),t._v(" "),i("el-dialog",{staticClass:"add-dialog",attrs:{title:"图库列表",visible:t.dialogVisible1,width:"76%","close-on-click-modal":!1,"append-to-body":!0,top:"6vh"},on:{"update:visible":function(e){t.dialogVisible1=e},close:t.submitFormqx1}},[i("imageMaterial",{attrs:{limitType:!0,getPost:t.getPost,multiple:!1,totalNum:1,selectNum:0},on:{onlyclose:t.submitFormqx1,subMit:t.submitForm1}})],1)],1)},[],!1,null,"93dfc432",null));g.options.__file="editorCommodityBox.vue";e.default=g.exports},ZB0S:function(t,e,a){},a25L:function(t,e,a){},hqmg:function(t,e,a){"use strict";var i=a("3WZy");a.n(i).a},"i/Tg":function(t,e,a){"use strict";a.d(e,"d",function(){return s}),a.d(e,"j",function(){return o}),a.d(e,"b",function(){return l}),a.d(e,"c",function(){return r}),a.d(e,"g",function(){return n}),a.d(e,"i",function(){return c}),a.d(e,"h",function(){return u}),a.d(e,"a",function(){return d}),a.d(e,"f",function(){return h}),a.d(e,"e",function(){return m});var i=a("t3Un");function s(t){return Object(i.a)({url:"/product/business/product/getProductInfoList",method:"post",data:t})}function o(t,e){return Object(i.a)({url:"/product/business/product/updateSalesStatus?id="+t+"&salesStatus="+e,method:"get"})}function l(t){return Object(i.a)({url:"/product/business/product/deleteProduct?id="+t,method:"delete"})}function r(t){return Object(i.a)({url:"/product/business/product/getProductInfoById?productId="+t,method:"get"})}function n(t,e,a){return Object(i.a)({url:"/product/business/product/restoreDeleteStatus?productIds="+t+"&salesStatus="+e+"&shopId="+a,method:"get"})}function c(t){return Object(i.a)({url:"/product/business/product/updateProductCategoryShop",method:"post",data:t})}function u(t){return Object(i.a)({url:"/product/business/product/updateProduct",method:"post",data:t})}function d(t){return Object(i.a)({url:"/sys/business/shopActivity/checkProduct",method:"post",data:t})}function h(t){return Object(i.a)({url:"/product/subgroupProduct/getSubgroupProductList",method:"post",data:t})}function m(t){return Object(i.a)({url:"/product/subgroupProduct/getSubgroupProductInfos?productIds="+t,method:"get"})}},"jM9+":function(t,e,a){"use strict";var i=a("ri7H");a.n(i).a},pgPq:function(t,e,a){"use strict";var i=a("QbLZ"),s=a.n(i),o=a("L2JU"),l=a("WFwG"),r={props:["getPost","limitType","multiple","totalNum","selectNum"],watch:{getPost:function(t,e){t&&(console.log("执行了"),this.selectImgArr=[],this.getGaller(),this.hideUpload=this.totalNum-this.selectNum-this.selectImgArr.length==0)}},data:function(){return{selectImgArr:[],hideUpload:!1,imageClassTags:[],getGalleryForm:{},getImgsForm:{pageSize:30,pageNum:1},imgs:[],imgsTotal:0,uploadImg:!1,uploadImgLoading:!1,uploadImgForm:{galleryId:0},galleryList:[],activeClassName:"",updateClassArr:[],ImageBoxHeight:0,OperationHeight:0,action:""}},created:function(){console.log("图片库created的multiple",this.multiple),console.log("图片库created的totalNum",this.totalNum),console.log("图片库created的selectNum",this.selectNum),this.getGalleryForm.shopId=this.shop.shopId,this.getGalleryForm.type=1,this.getImgsForm.shopId=this.shop.shopId,this.getImgsForm.type=1,this.action="/product/business/gallery/uploadGalleryImage?shopId="+this.shop.shopId,this.getGaller()},mounted:function(){var t=this;console.log("执行了mounted"),this.$nextTick(function(){this.OperationHeight=window.innerHeight-282,this.ImageBoxHeight=window.innerHeight-400}),window.onresize=function(){return t.OperationHeight=window.innerHeight-282,void(t.ImageBoxHeight=window.innerHeight-400)}},methods:{showPos:function(t){return-1!==this.selectImgArr.findIndex(function(e){return e.id==t.id})},showNum:function(t){return this.selectImgArr.findIndex(function(e){return e.id==t.id})+1},clickItem:function(t){if(-1===this.selectImgArr.findIndex(function(e){return e.id==t.id})){if(this.limitType&&this.totalNum-this.selectNum-this.selectImgArr.length<=0)return void this.$message.error("已超过添加最大图片数量");this.selectImgArr.push(t)}else this.selectImgArr.splice(this.selectImgArr.findIndex(function(e){return e.id===t.id}),1)},onlyClose:function(){this.$emit("onlyclose",!0)},subMit:function(){console.log("this.selectImgArr",this.selectImgArr),0!=this.selectImgArr.length?this.$emit("subMit",this.selectImgArr):this.$message.error("请先选择图片")},getImgs:function(){var t=this;Object(l.g)(this.getImgsForm).then(function(e){console.log("获取分类下图片",e);var a=e.data.list;a.forEach(function(t){return t.checked=!1}),t.imgs=a,t.imgsTotal=e.data.total})},imgUp:function(t,e){console.log(t,e);var a={};a.imageName=t.data[0].orginName,a.imageSize=t.data[0].size,a.imageUrl=t.data[0].name,a.width=t.data[0].width,a.height=t.data[0].height,this.galleryList.push(a),this.selectImgArr.push(a),this.hideUpload=this.totalNum-this.selectNum-this.selectImgArr.length==0},imgRemove:function(t,e){var a=this;if(console.log("图片删除",t,e),t.response){var i={},s=[],o={};o.imageUrl=t.response.data[0].name,s.push(o),i.shopId=this.shop.shopId,i.type=1,i.galleryList=s,this.deleteImgFun(i),this.galleryList=[],e.forEach(function(t){var e={};e.imageName=t.response.data[0].orginName,e.imageSize=t.response.data[0].size,e.imageUrl=t.response.data[0].name,e.width=t.response.data[0].width,e.height=t.response.data[0].height,a.galleryList.push(e)});var l=t.response.data[0].uid;this.selectImgArr.splice(this.selectImgArr.findIndex(function(t){return(t.uid&&t.uid)===l}),1),this.hideUpload=this.totalNum-this.selectNum-this.selectImgArr.length==0,console.log("删除后的已选择",this.selectImgArr)}},deleteImgFun:function(t){Object(l.d)(t).then(function(t){console.log("删除oss资源",t)})},uploadImgFun:function(){var t=this;this.uploadImgForm.type=1,this.uploadImgForm.shopId=this.shop.shopId,0!=this.galleryList.length?(this.uploadImgLoading=!0,this.uploadImgForm.galleryList=this.galleryList,Object(l.a)(this.uploadImgForm).then(function(e){console.log("上传图片保存",e),200==e.code?(t.$message({message:"恭喜，上传成功",type:"success"}),t.uploadImg=!1,t.uploadImgForm.galleryId=0,t.galleryList=[],t.$refs.upload.clearFiles(),t.subMit(),setTimeout(function(){t.uploadImgLoading=!1},1e3)):(t.uploadImgLoading=!1,t.$message.error(e.message))})):this.$message.error("请先上传图片")},showUploadImg:function(){this.limitType&&this.totalNum-this.selectNum-this.selectImgArr.length<=0?this.$message.error("已超过添加最大图片数量"):this.uploadImg=!0},uploadImgClose:function(t){var e=this;this.$confirm("确认关闭？").then(function(a){console.log("执行了",e.galleryList);var i={},s=[];e.galleryList.forEach(function(t){var e={};e.imageUrl=t.imageUrl,s.push(e)}),i.shopId=e.shop.shopId,i.type=1,i.galleryList=s,e.galleryList=[],e.$refs.upload.clearFiles(),e.deleteImgFun(i),t()}).catch(function(t){})},handleExceed:function(t,e){this.$message.warning("单次最多上传"+(this.totalNum-this.selectNum-this.selectImgArr.length)+"张图片，共选择了 "+(t.length+e.length)+" 个文件")},beforeAvatarUpload:function(t){console.log("file",t);var e="image/jpeg"===t.type||"image/gif"===t.type||"image/png"===t.type||"image/bmp"===t.type;console.log(e);var a=t.size/1024/1024<3;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&a},getGaller:function(){var t=this;console.log("请求分类的数据",this.getGalleryForm),Object(l.f)(this.getGalleryForm).then(function(e){console.log("获取图片库分组",e);var a=e.data;if(a.forEach(function(t){t.type="info"}),""==t.activeClassName)t.activeClassName=a[0].galleryName,a[0].type="",t.getImgsForm.galleryId=a[0].id;else{var i=a.findIndex(function(e){return e.galleryName==t.activeClassName});a[i].type="",t.getImgsForm.galleryId=a[i].id}for(var s=[],o=1;o<a.length;o++)s.push(a[o]);t.updateClassArr=s,t.changeClassArr=s,console.log("arr",s),t.getImgs(),t.imageClassTags=a})},activeClass:function(t){console.log("点击了分组按钮"),this.imageClassTags.forEach(function(t){return t.type="info"}),t.type="",this.allChecked=!1,this.getImgsForm.galleryId=t.id,this.activeClassName=t.galleryName,this.getImgs()},handleSizeChange:function(t){this.getImgsForm.pageSize=t,this.getImgs()},handleCurrentChange:function(t){this.getImgsForm.pageNum=t,this.getImgs()},change:function(t){this.$forceUpdate()}},computed:s()({},Object(o.c)(["user","shop"]))},n=(a("jM9+"),a("U7fH"),a("8/xu"),a("KHd+")),c=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"box"},[a("div",{staticClass:"flex-row-start"},[a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"materinalOperation"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"search",staticStyle:{"margin-bottom":"20px"}},[a("el-input",{staticClass:"input-with-select searchInput",attrs:{placeholder:"搜索分组"},model:{value:t.getGalleryForm.galleryName,callback:function(e){t.$set(t.getGalleryForm,"galleryName",e)},expression:"getGalleryForm.galleryName"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.getGaller},slot:"append"})],1)],1),t._v(" "),a("div",{staticClass:"class flex-column-center"},[a("div",{staticClass:"classList",style:{height:t.OperationHeight+"px"},attrs:{height:t.OperationHeight+"px"}},[a("ul",{staticClass:"infinite-list",staticStyle:{overflow:"auto",height:"100%"}},t._l(t.imageClassTags,function(e){return a("li",{key:e.name,staticClass:"li infinite-list-item",on:{click:function(a){t.activeClass(e)}}},[a("el-tag",{staticStyle:{width:"100%"},attrs:{type:e.type}},[t._v(t._s(e.galleryName)+" "+t._s(-1===e.id?"":"( "+e.totalAmount+" )"))])],1)}))])])])],1)]),t._v(" "),a("el-col",{attrs:{span:18}},[a("div",{staticClass:"materinalContent"},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[a("h3",{staticStyle:{"margin-bottom":"20px"}},[t._v(t._s(t.activeClassName))]),t._v(" "),a("div",{staticClass:"flex-row-between"},[a("el-button",{attrs:{type:"primary"},on:{click:t.showUploadImg}},[t._v("上传图片")]),t._v(" "),a("div",{staticClass:"search"},[a("el-input",{staticClass:"input-with-select searchInput",attrs:{placeholder:"搜索图片"},model:{value:t.getImgsForm.imageName,callback:function(e){t.$set(t.getImgsForm,"imageName",e)},expression:"getImgsForm.imageName"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.getImgs},slot:"append"})],1)],1)],1)]),t._v(" "),a("el-card",{staticClass:"box-card"},[t.imgs.length>0?a("div",[a("div",{staticClass:"classList",style:{height:t.ImageBoxHeight+"px"}},[a("ul",{staticClass:"infinite-list flex-row-start1 ul",staticStyle:{"overflow-x":"hidden","overflow-y":"auto",height:"100%"}},t._l(t.imgs,function(e,i){return a("li",{key:i,staticClass:"infinite-list-item item",on:{click:function(a){t.clickItem(e,i)}}},[a("div",{staticClass:"demo-image__preview"},[a("el-image",{staticStyle:{width:"200px",height:"200px"},attrs:{fit:"fill",src:e.imageUrl}}),t._v(" "),a("div",{staticClass:"imgNameBox"},[t._v(t._s(e.imageName))]),t._v(" "),a("div",{staticStyle:{"text-align":"center",color:"#909399"}},[t._v(t._s(e.width+" x "+e.height))])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showPos(e),expression:"showPos(item)"}],staticClass:"pos"},[t._v(t._s(t.showNum(e)))])])}))]),t._v(" "),a("div",{staticClass:"fy flex-row-end"},[a("div",[a("el-pagination",{attrs:{"page-sizes":[10,20,30],"page-size":t.getImgsForm.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.imgsTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])]):a("div",[t._v("暂无图片，可以点击左上角“上传图片”按钮添加")])])],1)])],1)],1),t._v(" "),a("div",{staticClass:"flex-row-between",staticStyle:{"margin-top":"10px"}},[t.limitType?a("div",[t._v("已选 "+t._s(t.selectNum+t.selectImgArr.length)+" 张，还可以选择 "+t._s(t.totalNum-t.selectNum-t.selectImgArr.length)+" 张")]):a("div",[t._v("已选 "+t._s(t.selectNum+t.selectImgArr.length)+" 张")]),t._v(" "),a("div",[a("el-button",{on:{click:t.onlyClose}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.subMit}},[t._v("确 定")])],1)])]),t._v(" "),a("el-dialog",{attrs:{title:"上传图片",visible:t.uploadImg,"before-close":t.uploadImgClose,"modal-append-to-body":!1,width:"65%"},on:{"update:visible":function(e){t.uploadImg=e}}},[a("el-form",{ref:"editGalleryForm",staticClass:"demo-ruleForm",attrs:{model:t.uploadImgForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"本地图片"}},[a("el-upload",{ref:"upload",class:{hide:t.hideUpload},attrs:{action:t.action,name:"files",multiple:t.multiple,"list-type":"picture-card","on-success":t.imgUp,"on-remove":t.imgRemove,"on-exceed":t.handleExceed,limit:t.limitType?t.totalNum-t.selectNum-t.selectImgArr.length:9999,"before-upload":t.beforeAvatarUpload}},[a("i",{staticClass:"el-icon-plus"}),t._v(" "),t.limitType?a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("单次最多上传"+t._s(this.totalNum-this.selectNum-this.selectImgArr.length)+"张图片，仅支持 gif、 jpeg、 png、 bmp 4种格式, 大小不超过3.0 MB")]):a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("仅支持 gif、 jpeg、 png、 bmp 4种格式, 大小不超过3.0 MB")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"选择分组"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.uploadImgForm.galleryId,callback:function(e){t.$set(t.uploadImgForm,"galleryId",e)},expression:"uploadImgForm.galleryId"}},t._l(t.updateClassArr,function(t){return a("el-option",{key:t.name,attrs:{label:t.galleryName,value:t.id}})}))],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{loading:t.uploadImgLoading,type:"primary"},on:{click:t.uploadImgFun}},[t._v("确 定")])],1)],1)],1)],1)},[],!1,null,"3039c789",null);c.options.__file="imageMaterial.vue";e.a=c.exports},ri7H:function(t,e,a){}}]);
//# sourceMappingURL=chunk-06c5.fde98563.js.map