{"version":3,"sources":["webpack:///./src/api/productInventory/productInventory.js","webpack:///./src/api/productInventory/index.js","webpack:///./src/views/productInventory/inventory.vue?45db","webpack:///./src/views/productInventory/inventory.vue?ac41","webpack:///./src/views/productInventory/inventory.vue?d6f2","webpack:///src/views/productInventory/inventory.vue","webpack:///./src/views/productInventory/inventory.vue","webpack:///./src/views/productInventory/inventory.vue?3a26","webpack:///./src/utils/date.js"],"names":["__webpack_require__","d","__webpack_exports__","fetchList","stockChange","getStockDetails","showDetails","_utils_request__WEBPACK_IMPORTED_MODULE_0__","data","request","url","method","getInventory","getinventoryDraft","getCode","getDraft","getProAdd","getPdList","getDetailList","getDraftDetail","getDraftLists","delectDetails","id","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_11_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_2_node_modules_sass_loader_lib_loader_js_ref_11_3_node_modules_vue_loader_lib_index_js_vue_loader_options_inventory_vue_vue_type_style_index_0_id_4dc736bc_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","n","productInventory_inventoryvue_type_script_lang_js_","inject","filters","formatCreateTime","time","date","Date","Object","utils_date","tips","tableList","disabled","totalCount","inventoryCount","inventoryCountLost","textarea","input","num","elseMoney","successMoney","lostMoney","list","goodName","goodId","goodCode","code","userName","timer","tableData","tableDataPre","pageNum","page_size","total","totalAdd","dialogFormVisible","updialogFormVisible","delectDialogVisible","returnDialogVisible","category","outStock","number","status","remark","productId","skuId","upStock","numList","numList11","created","this","length","mounted","console","log","$route","query","undefined","getDraftDetailCode","getCodeList","methods","cks","row","delect","_this2","api_productInventory","then","res","$message","type","message","goBack","$store","dispatch","$router","push","path","_this3","createTime","inventoryNo","inventoryRemark","categoryCount","forEach","item","comput","totalStockBefore","totalStockAfter","Number","i","_this4","year","getFullYear","month","getMonth","day","getDate","hh","getHours","mm","getMinutes","ss","getSeconds","rq","localStorage","getItem","tepreservation","_this5","datas","shopId","bUserId","profitCount","lossCount","productCount","success","reload","error","complete","_this6","addCom","_this7","pageSize","productName","skuCode","productCode","handleSelectionChange","val","salePriceBefore","ck","_this8","addType","arr","concat","objOne","dataArry","reduce","preVal","curVal","categoryId3","obj","arrOne","result","searchList","_this9","getInventoryList","_this10","replacef","name","target","_this","nodeName","document","createElement","className","value","innerHTML","parentNode","replaceChild","focus","onblur","reset","handleSizeChange","page","pageChange","outStockButton","_this11","$notify","title","productInventory","totalStockChange","creater","updateProduct","index","splice","upStockButton","_this12","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","model","callback","$$v","expression","attrs","label","_v","shadow","staticStyle","float","margin-right","size","on","click","$event","_e","margin-top","inline","label-width","scopedSlots","_u","key","fn","scope","_s","width","border","align","min-width","show-overflow-tooltip","prop","skuName","categoryName3","directives","rawName","modifiers","trim","oninput","placeholder","domProps","blur","$forceUpdate","composing","$set","onchange","fixed","$index","autosize","minRows","maxRows","visible","height","update:visible","clearable","ref","selection-change","margin-left","background","layout","page-size","page-sizes","current-page","size-change","current-change","slot","options","__file","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_7_2_node_modules_vue_loader_lib_index_js_vue_loader_options_inventory_vue_vue_type_style_index_1_lang_css___WEBPACK_IMPORTED_MODULE_0__","formatDate","fmt","test","replace","RegExp","$1","substr","o","M+","d+","h+","m+","s+","k","str","padLeftZero"],"mappings":"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","file":"static/js/chunk-068d.5eee7e58.js","sourcesContent":["/*\r\n * @Description: 库存接口\r\n * @Author: your name\r\n * @Date: 2019-08-07 09:35:37\r\n * @LastEditTime: 2019-08-29 17:25:59\r\n * @LastEditors: Please set LastEditors\r\n */\r\nimport request from '@/utils/request'\r\n\r\n//查询库存\r\nexport function fetchList (data) {\r\n  return request({\r\n    url: `/product/business/stock/findByCondition`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n\r\n//出入库操作\r\n\r\nexport function stockChange (data) {\r\n  return request({\r\n    url: `/product/business/stock/updateStockInOut`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n//出入库明细列表\r\n\r\nexport function getStockDetails (data) {\r\n  return request({\r\n    url: `/product/business/stockRecord/findByCondition`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n//查看明细详情\r\nexport function showDetails (data) {\r\n  return request({\r\n    url: `/product/business/stockRecord/findByDetailCondition`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n","import request from '@/utils/request'\r\n\r\nexport function getInventory(data) {\r\n  return request({\r\n    url: '/product/business/inventory/findByCondition',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function addInventory(data) {\r\n  return request({\r\n    url: '/product/business/inventory/add',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function getinventoryDraft(data) {\r\n  //查询商品\r\n  return request({\r\n    url: '/product/business/inventoryDraft/findByCondition',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function getCode(data) {\r\n  //查询编号\r\n  return request({\r\n    url: '/product/business/inventoryDraft/genInventoryNo',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function getDraft(data) {\r\n  //添加草稿箱\r\n  return request({\r\n    url: '/product/business/inventoryDraft/add',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\nexport function getProAdd(data) {\r\n  //添加草稿箱\r\n  return request({\r\n    url: '/product/business/inventory/add',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\nexport function getPdList(data) {\r\n  //查询盘点列表\r\n  return request({\r\n    url: '/product/business/inventory/findByCondition',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\nexport function getDetailList(data) {\r\n  //详情\r\n  return request({\r\n    url: `/product/business/inventory/findById?id=${data.id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function del(data) {\r\n  //详情\r\n  return request({\r\n    url: '/product/business/inventoryDraft/del',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function getDraftDetail(data) {\r\n  //草稿箱详情，继续盘点\r\n  return request({\r\n    url: `/product/business/inventoryDraft/findDraftById?id=${data.id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\nexport function getDraftLists(data) {\r\n  //草稿箱列表\r\n  return request({\r\n    url: '/product/business/inventoryDraft/findDraftByCondition',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function delectDetails(data) {\r\n  //草稿箱删除记录\r\n  return request({\r\n    url: '/product/business/inventoryDraft/delDetail',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--11-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../node_modules/sass-loader/lib/loader.js??ref--11-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inventory.vue?vue&type=style&index=0&id=4dc736bc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--11-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../node_modules/sass-loader/lib/loader.js??ref--11-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inventory.vue?vue&type=style&index=0&id=4dc736bc&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-radio-group',{model:{value:(_vm.tips),callback:function ($$v) {_vm.tips=$$v},expression:\"tips\"}},[_c('el-radio-button',{attrs:{\"label\":\"1\"}},[_vm._v(\"盘点单\")])],1),_vm._v(\" \"),_c('el-card',{staticClass:\"operate-container\",attrs:{\"shadow\":\"never\"}},[_c('div',[_c('i',{staticClass:\"el-icon-goods\"}),_vm._v(\" \"),_c('span',[_vm._v(\"数据展示\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.disabled},on:{\"click\":function($event){_vm.complete()}}},[_vm._v(\"\\n        盘点完成\\n      \")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"size\":\"small\",\"disabled\":_vm.disabled},on:{\"click\":function($event){_vm.tepreservation()}}},[_vm._v(\"\\n        临时保存\\n      \")]),_vm._v(\" \"),(_vm.id !== undefined)?_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"type\":\"danger\",\"size\":\"small\",\"disabled\":_vm.disabled},on:{\"click\":function($event){_vm.delectDialogVisible = true}}},[_vm._v(\"\\n        删除\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.id !== undefined)?_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"size\":\"small\",\"disabled\":_vm.disabled},on:{\"click\":function($event){_vm.returnDialogVisible = true}}},[_vm._v(\"\\n        返回\\n      \")]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-form',{attrs:{\"inline\":true,\"size\":\"small\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"编号：\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(_vm.code)+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"盘点仓库：\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            默认仓库\\n          \")]}}])}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"盘点人：\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(_vm.userName)+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"盘点时间：\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(_vm.timer)+\"\\n          \")]}}])})],1)],1)]),_vm._v(\" \"),_c('el-card',{staticClass:\"operate-container\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"shadow\":\"never\"}},[_c('i',{staticClass:\"el-icon-tickets\"}),_vm._v(\" \"),_c('span',[_vm._v(\"数据列表\")]),_vm._v(\" \"),_c('span',{staticClass:\"tips\"},[_vm._v(\"温馨提示：盘点时临时保存的盘点单，会进入草稿箱，可在草稿箱找到该盘点单，继续盘点；\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.addCom()}}},[_vm._v(\"\\n      添加商品\\n    \")])],1),_vm._v(\" \"),_c('el-card',{staticClass:\"operate-container\",staticStyle:{\"margin-top\":\"10px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"min-width\":\"200\",\"show-overflow-tooltip\":\"\",\"prop\":\"name\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.row.productName + '('+  scope.row.skuName  +')')+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品编码\",\"width\":\"100\",\"prop\":\"productCode\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"规格编码\",\"width\":\"140\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.row.skuCode== ''? '--':scope.row.skuCode)+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"分类\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.row.categoryName3)+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"库存总数\",\"width\":\"150\",\"prop\":\"totalStockBefore\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"盘点数量\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.totalStockBefore!='')?_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(scope.row.totalStockAfter),expression:\"scope.row.totalStockAfter\",modifiers:{\"trim\":true}}],staticClass:\"myStyle\",attrs:{\"type\":\"text\",\"oninput\":\"value=value.replace(/[^\\\\d]/g,'')\",\"placeholder\":\"请输入数量\"},domProps:{\"value\":(scope.row.totalStockAfter)},on:{\"blur\":[function($event){_vm.ck(scope.row)},function($event){_vm.$forceUpdate()}],\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"totalStockAfter\", $event.target.value.trim())}}}):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"盘盈盘亏\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.row.type === 0 ? '盘盈' : scope.row.type === 1 ?  '无变化': scope.row.type === 2 ? '盘亏' : '--')+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"备注\",\"width\":\"150\",\"prop\":\"inventoryRemark\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.totalStockBefore!='')?_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(scope.row.remark),expression:\"scope.row.remark\",modifiers:{\"trim\":true}}],staticClass:\"myStyle\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入备注\"},domProps:{\"value\":(scope.row.remark)},on:{\"blur\":[function($event){_vm.ck(scope.row)},function($event){_vm.$forceUpdate()}],\"onchange\":function($event){_vm.cks(scope.row)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"remark\", $event.target.value.trim())}}}):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"160\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.totalStockBefore!='')?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\"},on:{\"click\":function($event){_vm.updateProduct(scope.$index, scope.row)}}},[_vm._v(\"\\n            删除\\n          \")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"total\"},[_c('span',[_vm._v(\"合计：\")]),_vm._v(\" \"),_c('span',[_vm._v(\"已添加\"+_vm._s(_vm.totalCount)+\"条\")]),_vm._v(\" \"),_c('span',[_vm._v(\"盘盈：\"+_vm._s(_vm.inventoryCount))]),_vm._v(\" \"),_c('span',[_vm._v(\"盘亏：\"+_vm._s(_vm.inventoryCountLost))])]),_vm._v(\" \"),_c('div',{staticClass:\"totaltextarea\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2, maxRows: 6},\"placeholder\":\"请输入内容\"},model:{value:(_vm.textarea),callback:function ($$v) {_vm.textarea=$$v},expression:\"textarea\"}})],1)],1),_vm._v(\" \"),_c('el-card',[_c('div',{staticClass:\"column\"})]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加商品\",\"visible\":_vm.dialogFormVisible,\"width\":\"1220px\",\"height\":\"752px\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('div',[_c('el-card',{staticClass:\"filter-container\",attrs:{\"shadow\":\"never\"}},[_c('div',[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" \"),_c('span',[_vm._v(\"筛选搜索\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.searchList}},[_vm._v(\"\\n            查询\\n          \")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"size\":\"small\"},on:{\"click\":_vm.reset}},[_vm._v(\"\\n            重置\\n          \")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.list,\"size\":\"small\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"商品名称\"},model:{value:(_vm.list.goodName),callback:function ($$v) {_vm.$set(_vm.list, \"goodName\", $$v)},expression:\"list.goodName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品编码：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"商品编码\"},model:{value:(_vm.list.goodId),callback:function ($$v) {_vm.$set(_vm.list, \"goodId\", $$v)},expression:\"list.goodId\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规格编码：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"规格编码\"},model:{value:(_vm.list.goodCode),callback:function ($$v) {_vm.$set(_vm.list, \"goodCode\", $$v)},expression:\"list.goodCode\"}})],1)],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-container\"},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableList,\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"60\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"分类\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(scope.row.categoryName3)+\"\\n            \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"width\":\"520\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(scope.row.productName+'('+ scope.row.skuName +')')+\"\\n            \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品编码\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(scope.row.productCode)+\"\\n            \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"规格编码\",\"width\":\"200\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(scope.row.skuCode == ''? '--':scope.row.skuCode)+\"\\n            \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"库存总数\",\"width\":\"00\",\"prop\":\"sumStock\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(scope.row.totalStockBefore)+\"\\n            \")]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"fixedB\"},[_c('div',{staticClass:\"testButton\"},[_c('el-button',{on:{\"click\":_vm.result}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addType}},[_vm._v(\"确定\")])],1),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"margin-top\":\"10px\",\"margin-left\":\"20px\"},attrs:{\"background\":\"\",\"layout\":\"total,sizes,prev,pager,next,jumper\",\"page-size\":_vm.page_size,\"page-sizes\":[10, 30, 50, 100],\"current-page\":_vm.pageNum,\"total\":_vm.totalAdd},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.pageChange}})],1)],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.delectDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.delectDialogVisible=$event}}},[_c('span',[_vm._v(\"您确定要删除这一条记录吗？\")]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.delectDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.delect}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.returnDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.returnDialogVisible=$event}}},[_c('span',[_vm._v(\"是否放弃本次操作，确定放弃后，将不会保存本次修改\")]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.returnDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.goBack}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/happypack/loader.js?id=js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inventory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/happypack/loader.js?id=js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inventory.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"app-container\">\r\n    <!-- 筛选条件 -->\r\n    <el-radio-group v-model=\"tips\">\r\n      <el-radio-button label=\"1\">盘点单</el-radio-button>\r\n      <!-- <el-radio-button label=\"2\">草稿箱</el-radio-button> -->\r\n    </el-radio-group>\r\n    <el-card class=\"operate-container\" shadow=\"never\">\r\n      <div>\r\n        <i class=\"el-icon-goods\"></i>\r\n        <span>数据展示</span>\r\n        <el-button type=\"primary\" style=\"float:right;margin-right: 15px\" @click=\"complete()\" size=\"small\" :disabled=\"disabled\">\r\n          盘点完成\r\n        </el-button>\r\n        <el-button style=\"float:right;margin-right: 15px\" @click=\"tepreservation()\" size=\"small\" :disabled=\"disabled\">\r\n          临时保存\r\n        </el-button>\r\n        <el-button type=\"danger\" v-if=\"id !== undefined\" style=\"float:right;margin-right: 15px\" @click=\"delectDialogVisible = true\" size=\"small\" :disabled=\"disabled\">\r\n          删除\r\n        </el-button>\r\n        <el-button v-if=\"id !== undefined\" style=\"float:right;margin-right: 15px\" @click=\"returnDialogVisible = true\" size=\"small\" :disabled=\"disabled\">\r\n          返回\r\n        </el-button>\r\n      </div>\r\n      <div style=\"margin-top: 15px\">\r\n        <el-form :inline=\"true\" size=\"small\" label-width=\"120px\">\r\n          <el-form-item label=\"编号：\">\r\n            <template slot-scope=\"scope\" :data-type=\"scope.row.id\">\r\n              {{code}}\r\n            </template>\r\n          </el-form-item>\r\n          <el-form-item label=\"盘点仓库：\">\r\n            <template slot-scope=\"scope\" :data-type=\"scope.row.id\">\r\n              默认仓库\r\n            </template>\r\n          </el-form-item>\r\n          <el-form-item label=\"盘点人：\">\r\n            <template slot-scope=\"scope\" :data-type=\"scope.row.id\">\r\n              {{userName}}\r\n            </template>\r\n          </el-form-item>\r\n          <el-form-item label=\"盘点时间：\">\r\n            <template slot-scope=\"scope\" :data-type=\"scope.row.id\">\r\n              {{timer}}\r\n            </template>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </el-card>\r\n    <!-- 数据列表 -->\r\n    <el-card class=\"operate-container\"\r\n             style=\"margin-top:10px\"\r\n             shadow=\"never\">\r\n      <i class=\"el-icon-tickets\"></i>\r\n      <span>数据列表</span>\r\n      <span class=\"tips\">温馨提示：盘点时临时保存的盘点单，会进入草稿箱，可在草稿箱找到该盘点单，继续盘点；</span>\r\n      <el-button style=\"float:right;margin-right: 15px\"\r\n                 @click=\"addCom()\"\r\n                 size=\"small\"\r\n                 type=\"primary\">\r\n        添加商品\r\n      </el-button>\r\n    </el-card>\r\n    <el-card class=\"operate-container\"\r\n             style=\"margin-top:10px\">\r\n      <el-table :data=\"tableData\"\r\n                style=\"width: 100%\"\r\n                border>\r\n        <el-table-column type=\"index\"\r\n                         width=\"50\"\r\n                         align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"商品名称\"\r\n                         min-width=\"200\"\r\n                         show-overflow-tooltip\r\n                         prop=\"name\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            {{scope.row.productName + '('+  scope.row.skuName  +')'}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"商品编码\"\r\n                         width=\"100\"\r\n                         prop=\"productCode\"\r\n                         align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"规格编码\"\r\n                         width=\"140\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            {{scope.row.skuCode== ''? '--':scope.row.skuCode}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"分类\"\r\n                         width=\"150\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            {{scope.row.categoryName3}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"库存总数\"\r\n                         width=\"150\"\r\n                         prop=\"totalStockBefore\"\r\n                         align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"盘点数量\"\r\n                         width=\"180\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- <span @dblclick=\"replacef($event,scope.row.id,scope.row)\">{{scope.row.originalPriceAfter}}</span> -->\r\n            <input type=\"text\" v-if=\"scope.row.totalStockBefore!=''\" class=\"myStyle\" v-model.trim=\"scope.row.totalStockAfter\" @blur=\"ck(scope.row)\" oninput=\"value=value.replace(/[^\\d]/g,'')\" placeholder=\"请输入数量\" />\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"盘盈盘亏\"\r\n                         width=\"180\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- {{id === undefined ? scope.row.salePriceBefore : scope.row.type == 0 ? '盘盈' : scope.row.type == 1?  '无变化': '盘亏'}} -->\r\n            {{scope.row.type === 0 ? '盘盈' : scope.row.type === 1 ?  '无变化': scope.row.type === 2 ? '盘亏' : '--'}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"备注\"\r\n                         width=\"150\"\r\n                         prop=\"inventoryRemark\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <input type=\"text\" v-if=\"scope.row.totalStockBefore!=''\" class=\"myStyle\" v-model.trim=\"scope.row.remark\" @blur=\"ck(scope.row)\" @onchange=\"cks(scope.row)\" placeholder=\"请输入备注\" />\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\"\r\n                         fixed=\"right\"\r\n                         width=\"160\"\r\n                         align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button v-if=\"scope.row.totalStockBefore!=''\" size=\"mini\" type=\"warning\" @click=\"updateProduct(scope.$index, scope.row)\">\r\n              删除\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"total\">\r\n        <span>合计：</span>\r\n        <span>已添加{{totalCount}}条</span>\r\n        <span>盘盈：{{inventoryCount}}</span>\r\n        <span>盘亏：{{inventoryCountLost}}</span>\r\n      </div>\r\n      <div class=\"totaltextarea\">\r\n        <el-input type=\"textarea\"\r\n                  :autosize=\"{ minRows: 2, maxRows: 6}\"\r\n                  placeholder=\"请输入内容\"\r\n                  v-model=\"textarea\">\r\n        </el-input>\r\n      </div>\r\n    </el-card>\r\n    <el-card>\r\n      <div class=\"column\"></div>\r\n    </el-card>\r\n    <!-- 出库弹窗 -->\r\n    <el-dialog title=\"添加商品\"\r\n               :visible.sync=\"dialogFormVisible\"\r\n               width=\"1220px\"\r\n               height=\"752px\">\r\n      <div>\r\n        <!-- 筛选条件 -->\r\n        <el-card class=\"filter-container\"\r\n                 shadow=\"never\">\r\n          <div>\r\n            <i class=\"el-icon-search\"></i>\r\n            <span>筛选搜索</span>\r\n            <el-button style=\"float: right\"\r\n                       @click=\"searchList\"\r\n                       type=\"primary\"\r\n                       size=\"small\">\r\n              查询\r\n            </el-button>\r\n            <el-button style=\"float: right;margin-right: 15px\"\r\n                       @click=\"reset\"\r\n                       size=\"small\">\r\n              重置\r\n            </el-button>\r\n          </div>\r\n          <div style=\"margin-top: 15px\">\r\n            <el-form :inline=\"true\"\r\n                     :model=\"list\"\r\n                     size=\"small\"\r\n                     label-width=\"140px\">\r\n              <el-form-item label=\"商品名称：\">\r\n                <el-input style=\"width: 203px\"\r\n                          v-model=\"list.goodName\"\r\n                          clearable\r\n                          placeholder=\"商品名称\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"商品编码：\">\r\n                <el-input style=\"width: 203px\"\r\n                          v-model=\"list.goodId\"\r\n                          clearable\r\n                          placeholder=\"商品编码\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"规格编码：\">\r\n                <el-input style=\"width: 203px\"\r\n                          v-model=\"list.goodCode\"\r\n                          clearable\r\n                          placeholder=\"规格编码\"></el-input>\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n        </el-card>\r\n\r\n        <div class=\"table-container\">\r\n          <el-table :data=\"tableList\"\r\n                    style=\"width: 100%\"\r\n                    ref=\"multipleTable\"\r\n                    @selection-change=\"handleSelectionChange\"\r\n                    border>\r\n            <el-table-column type=\"selection\"\r\n                             width=\"60\"\r\n                             align=\"center\"></el-table-column>\r\n            <el-table-column label=\"分类\"\r\n                             width=\"100\"\r\n                             align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                {{scope.row.categoryName3}}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"商品名称\"\r\n                             width=\"520\"\r\n                             align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                {{scope.row.productName+'('+ scope.row.skuName +')'}}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"商品编码\"\r\n                             width=\"200\"\r\n                             align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                {{scope.row.productCode}}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"规格编码\"\r\n                             width=\"200\"\r\n                             show-overflow-tooltip\r\n                             align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                {{scope.row.skuCode == ''? '--':scope.row.skuCode}}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"库存总数\"\r\n                             width=\"00\"\r\n                             prop=\"sumStock\"\r\n                             align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                {{scope.row.totalStockBefore}}\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n\r\n        <!-- 固定在下面 -->\r\n        <div class=\"fixedB\">\r\n          <div class=\"testButton\">\r\n            <el-button @click=\"result\">取消</el-button>\r\n            <el-button type=\"primary\"\r\n                       @click=\"addType\">确定</el-button>\r\n          </div>\r\n          <!-- 页码 -->\r\n          <el-pagination background\r\n                         style=\"margin-top: 10px;margin-left:20px\"\r\n                         @size-change=\"handleSizeChange\"\r\n                         @current-change=\"pageChange\"\r\n                         layout=\"total,sizes,prev,pager,next,jumper\"\r\n                         :page-size=\"page_size\"\r\n                         :page-sizes=\"[10, 30, 50, 100]\"\r\n                         :current-page=\"pageNum\"\r\n                         :total=\"totalAdd\">\r\n          </el-pagination>\r\n        </div>\r\n\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!-- 删除提示弹窗 -->\r\n    <el-dialog\r\n      title=\"提示\"\r\n      :visible.sync=\"delectDialogVisible\"\r\n      width=\"30%\">\r\n      <span>您确定要删除这一条记录吗？</span>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"delectDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"delect\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 返回提示弹窗 -->\r\n    <el-dialog\r\n      title=\"提示\"\r\n      :visible.sync=\"returnDialogVisible\"\r\n      width=\"30%\">\r\n      <span>是否放弃本次操作，确定放弃后，将不会保存本次修改</span>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"returnDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"goBack\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n  import {\r\n    fetchList,\r\n    stockChange\r\n  } from '@/api/productInventory/productInventory'\r\n  import {\r\n    getInventory,\r\n    addInventory,\r\n    getinventoryDraft,\r\n    getCode,\r\n    getDraft,\r\n    getProAdd,\r\n    delectDetails,\r\n    getDraftDetail //草稿箱继续盘点\r\n  } from '@/api/productInventory/index'\r\n    import {\r\n  formatDate\r\n} from '@/utils/date'\r\n  export default {\r\n    inject: ['reload'],\r\n    filters: {\r\n      formatCreateTime(time) {\r\n        let date = new Date(time);\r\n        return formatDate(date, 'yyyy-MM-dd hh:mm:ss')\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        tips: 1,\r\n        tableList: [],\r\n        disabled: false,\r\n        totalCount: 0,\r\n        inventoryCount: 0,\r\n        inventoryCountLost: 0,\r\n        textarea: '',\r\n        input: '',\r\n        num: '--',\r\n        elseMoney: false, //一样\r\n        successMoney: false,\r\n        lostMoney: false,\r\n        list: {\r\n          goodName: '',\r\n          goodId: '',\r\n          goodCode: ''\r\n        },\r\n        code: '',\r\n        userName: '',\r\n        timer: null,\r\n        tableData: [],\r\n        tableDataPre: [],\r\n        pageNum: 1,\r\n        page_size: 10,\r\n        total: 0,\r\n        totalAdd: 0,\r\n        dialogFormVisible: false,\r\n        updialogFormVisible: false,\r\n        delectDialogVisible: false,\r\n        returnDialogVisible: false,\r\n        category: '',\r\n        outStock: {\r\n          number: '',\r\n          status: '',\r\n          remark: '',\r\n          productId: '',\r\n          skuId: ''\r\n        },\r\n        upStock: {\r\n          number: '',\r\n          status: '',\r\n          remark: '',\r\n          productId: '',\r\n          skuId: ''\r\n        },\r\n        id: '',\r\n        numList: [],\r\n        numList11: [],\r\n      }\r\n    },\r\n    created() {\r\n      if (this.tableData.length == 0) {\r\n        this.disabled = true\r\n      } else {\r\n        this.disabled = false\r\n      }\r\n    },\r\n    mounted() {\r\n      let _this = this\r\n      console.log(9)\r\n      _this.id = _this.$route.query.id;\r\n      if (_this.id != undefined) {\r\n        _this.getDraftDetailCode()\r\n      } else {\r\n        _this.getCodeList()\r\n      }\r\n    },\r\n    methods: {\r\n      cks(row) {\r\n        // console.log(row)\r\n      },\r\n      delect(){\r\n        delectDetails({\r\n          id: this.id\r\n        }).then(res =>{\r\n          if(res.code == 200){\r\n            this.delectDialogVisible = false\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功'\r\n            }); \r\n            this.goBack()   \r\n          }\r\n        })\r\n      },\r\n\r\n      goBack(){\r\n        this.$store.dispatch('delView', this.$route)\r\n        this.$router.push({\r\n          path: '/inventoryManagement/inventoryList',\r\n        })\r\n      },\r\n      //查询继续盘点\r\n      getDraftDetailCode() {\r\n        getDraftDetail({\r\n          id: this.id\r\n        }).then(res => {\r\n          this.timer = res.data.createTime\r\n          this.code = res.data.inventoryNo\r\n          this.userName = res.data.userName\r\n          this.totalCount = res.data.list.length\r\n          this.textarea = res.data.inventoryRemark\r\n          this.category = res.data.categoryCount\r\n          res.data.list.forEach(item => {\r\n            item.comput = ''\r\n            if (item.totalStockBefore > item.totalStockAfter) {\r\n              item.type = 2\r\n              item.comput = Number(item.totalStockBefore) - Number(item.totalStockAfter)\r\n            } else if (item.totalStockBefore < item.totalStockAfter) {\r\n              item.type = 0\r\n              item.comput = Number(item.totalStockAfter) - Number(item.totalStockBefore)\r\n            } else if (item.totalStockBefore = item.totalStockAfter) {\r\n              item.type = 1\r\n              item.comput = 0\r\n            }\r\n          })\r\n          this.tableData = res.data.list\r\n          for (let i = 0; i < this.tableData.length; i++) {\r\n            if (this.tableData[i].type == 0) {\r\n              this.inventoryCount += Number(this.tableData[i].comput)\r\n            } else if (this.tableData[i].type == 2) {\r\n              this.inventoryCountLost += Number(this.tableData[i].comput)\r\n            } else {}\r\n          }\r\n          this.disabled = false\r\n        })\r\n      },\r\n      //查询编号\r\n      getCodeList() {\r\n        var date = new Date();\r\n        //年\r\n        var year = date.getFullYear();\r\n        //月\r\n        var month = date.getMonth() + 1;\r\n        //日\r\n        var day = date.getDate();\r\n        //时\r\n        var hh = date.getHours();\r\n        if(hh < 10){\r\n          hh = '0'+ hh\r\n        }\r\n        //分\r\n        var mm = date.getMinutes();\r\n        if(mm < 10){\r\n          mm = '0'+ mm\r\n        }\r\n        //秒\r\n        var ss = date.getSeconds();\r\n        if(ss < 10){\r\n          ss = '0'+ ss\r\n        }\r\n        var rq = year + \"年\" + month + \"月\" + day + \"日\" + hh + \":\" + mm + \":\" + ss;\r\n        console.log(rq)\r\n        this.timer = rq\r\n        getCode().then(res => {\r\n          this.code = res.data\r\n          this.userName = localStorage.getItem(\"userName\")\r\n          this.timer = rq\r\n        })\r\n      },\r\n      //临时保存\r\n      tepreservation() {\r\n        if (this.tableData.length == 0) {\r\n          this.$message.error({\r\n            type: 'error',\r\n            message: '列表数据为空！'\r\n          });\r\n          return\r\n        }else{\r\n          // for (var i = 0; i < this.tableData.length; i++) {\r\n          //   if (this.tableData[i].totalStockAfter == '') {\r\n          //     this.$message.error({\r\n          //       type: 'error',\r\n          //       message: '盘点数量不能为空！'\r\n          //     });\r\n          //     return false\r\n          //   } else {}\r\n          // }\r\n          let datas = {\r\n            inventoryNo: this.code, //盘点单编号\r\n            shopId: localStorage.getItem(\"shopId\"), //店铺ID\r\n            bUserId: localStorage.getItem(\"userId\"), //商户用户ID（盘点人）\r\n            profitCount: this.inventoryCount, //盘盈总和\r\n            lossCount: this.inventoryCountLost, //盘亏总和\r\n            categoryCount: this.category, //商品分类总和\r\n            productCount: this.totalCount, //盘点商品数量\r\n            inventoryRemark: this.textarea, //单据备注\r\n            list: this.tableData\r\n          }\r\n          getDraft(datas).then(res => {\r\n            if (res.code == 200) {\r\n              this.$message.success({\r\n                type: 'success',\r\n                message: res.message\r\n              });\r\n              this.reload()\r\n              this.$router.push('/inventoryManagement/inventoryList')\r\n            } else {\r\n              this.$message.error({\r\n                type: 'error',\r\n                message: res.message\r\n              });\r\n            }\r\n          })\r\n          this.disabled = false\r\n        }\r\n      },\r\n      //完成保存\r\n      complete() {\r\n        console.log(this.category)\r\n        // return\r\n        if (this.tableData.length == 0) {\r\n          this.$message.error({\r\n            type: 'error',\r\n            message: '列表数据为空！'\r\n          });\r\n        } else {\r\n          for (var i = 0; i < this.tableData.length; i++) {\r\n            if (this.tableData[i].totalStockAfter == '') {\r\n              this.$message.error({\r\n                type: 'error',\r\n                message: '盘点数量不能为空！'\r\n              });\r\n              return false\r\n            } else {}\r\n          }\r\n          let datas = {\r\n            inventoryNo: this.code, //盘点单编号\r\n            shopId: localStorage.getItem(\"shopId\"), //店铺ID\r\n            bUserId: localStorage.getItem(\"userId\"), //商户用户ID（盘点人）\r\n            profitCount: this.inventoryCount, //盘盈总和\r\n            lossCount: this.inventoryCountLost, //盘亏总和\r\n            categoryCount: this.category, //商品分类总和\r\n            productCount: this.totalCount, //盘点商品数量\r\n            inventoryRemark: this.textarea, //单据备注\r\n            list: this.tableData\r\n          }\r\n          getProAdd(datas).then(res => {\r\n            if (res.code == 200) {\r\n              this.$message.success({\r\n                type: 'success',\r\n                message: res.message\r\n              });\r\n              // this.reload()\r\n              this.$router.push('/inventoryManagement/inventoryList')\r\n            } else {\r\n              this.$message.error({\r\n                type: 'error',\r\n                message: res.message\r\n              });\r\n            }\r\n          })\r\n        }\r\n      },\r\n      //添加商品\r\n      addCom() {\r\n        this.dialogFormVisible = true\r\n        getinventoryDraft({\r\n          pageNum: this.pageNum,\r\n          pageSize: this.page_size,\r\n          productName: this.list.goodName,\r\n          skuCode: this.list.goodCode,\r\n          productCode: this.list.goodId,\r\n          shopId: localStorage.getItem(\"shopId\")\r\n        }).then(res => {\r\n          this.disabled = false\r\n          this.tableList = res.data.list\r\n          this.totalAdd = res.data.total\r\n        })\r\n      },\r\n      handleSelectionChange(val) {\r\n        val.forEach(item => {\r\n          item.salePriceBefore = '--'\r\n          item.type = ''\r\n          // item.id = id++\r\n          item.remark = ''\r\n          item.totalStockAfter = ''\r\n          item.comput = ''\r\n        })\r\n        this.tableDataPre = val\r\n        // this.totalCount = this.tableDataPre.length\r\n      },\r\n      ck(row) {\r\n        if(row){\r\n          if(row.totalStockAfter == ''){\r\n            return\r\n          }\r\n          if (row.totalStockBefore > row.totalStockAfter) {\r\n            // row.salePriceBefore = '盘亏'\r\n            row.type = 2\r\n            row.comput = Number(row.totalStockBefore) - Number(row.totalStockAfter)\r\n          } else if (row.totalStockBefore < row.totalStockAfter) {\r\n            // row.salePriceBefore = '盘盈'\r\n            row.type = 0\r\n            row.comput = Number(row.totalStockAfter) - Number(row.totalStockBefore)\r\n          } else if (row.totalStockBefore = row.totalStockAfter) {\r\n            // row.salePriceBefore = '无差异'\r\n            row.type = 1\r\n            row.comput = 0\r\n          }\r\n        }\r\n\r\n        this.tableData.forEach(item => {\r\n          this.tableData.push()\r\n        })\r\n        this.inventoryCount = 0\r\n        this.inventoryCountLost = 0\r\n        // let newfood = [];\r\n        // var temp = {};\r\n        // for (var i in this.tableData) {\r\n        //   // var key = this.tableData[i].salePriceBefore;\r\n        //   if (temp[key]) {\r\n        //     temp[key].salePriceBefore = temp[key].salePriceBefore;\r\n        //     temp[key].comput = temp[key].comput + this.tableData[i].comput;\r\n        //   } else {\r\n        //     temp[key] = {};\r\n        //     temp[key].salePriceBefore = this.tableData[i].salePriceBefore;\r\n        //     temp[key].comput = this.tableData[i].comput;\r\n        //   }\r\n        //   temp[key].id = this.tableData[i].id;\r\n        // }\r\n        // for (var k in temp) {\r\n        //   newfood.push(temp[k])\r\n        // }\r\n        // for (var i = 0; i < newfood.length; i++) {\r\n        //   if (newfood[i].salePriceBefore == '盘盈') {\r\n        //     this.inventoryCount = newfood[i].comput\r\n        //   } else if (newfood[i].salePriceBefore = '盘亏') {\r\n        //     this.inventoryCountLost = newfood[i].comput\r\n        //   } else {}\r\n        // }\r\n        for (let i = 0; i < this.tableData.length; i++) {\r\n          // console.log(this.tableData[i].salePriceBefore)\r\n          if (this.tableData[i].type == 0) {\r\n            this.inventoryCount += Number(this.tableData[i].comput)\r\n          } else if (this.tableData[i].type == 2) {\r\n            this.inventoryCountLost += Number(this.tableData[i].comput)\r\n          } else {}\r\n        }\r\n        console.log(this.tableData)\r\n      },\r\n      addType() {\r\n        // this.tableData = this.tableDataPre\r\n        // var id = 0\r\n        this.tableDataPre.forEach(item => {\r\n          item.totalStockAfter = ''\r\n          item.comput = ''\r\n        })\r\n        // let obj = {}; \r\n        // const dataArry = this.tableData.reduce((preVal, curVal) => {  \r\n        //   obj[curVal.skuId] ? '' : obj[curVal.skuId] = true && preVal.push(curVal);    \r\n        //   return preVal \r\n        // }, [])\r\n        // this.category = dataArry.length\r\n        // this.tableData = dataArry\r\n        // console.log(arr,'-----')\r\n        console.log(this.tableDataPre,123)\r\n        let arr = this.tableDataPre.concat(this.tableData)\r\n        let objOne = {}; \r\n        const dataArry = arr.reduce((preVal, curVal) => {  \r\n          objOne[curVal.categoryId3] ? '' : objOne[curVal.categoryId3] = true && preVal.push(curVal);    \r\n          return preVal \r\n        }, [])\r\n        let obj = {}; \r\n        let arrOne = arr.reduce((preVal, curVal) => {  \r\n          obj[curVal.skuId] ? '' : obj[curVal.skuId] = true && preVal.push(curVal);    \r\n          return preVal \r\n        }, [])\r\n        console.log(this.tableDataPre,'1111111')\r\n        this.tableData = arrOne\r\n        this.category = dataArry.length\r\n        this.totalCount = arrOne.length\r\n        this.ck()\r\n        this.dialogFormVisible = false\r\n        // this.searchList()\r\n      },\r\n      result() {\r\n        this.dialogFormVisible = false\r\n        this.searchList()\r\n      },\r\n      searchList() {\r\n        getinventoryDraft({\r\n          pageNum: this.pageNum,\r\n          pageSize: this.page_size,\r\n          productName: this.list.goodName,\r\n          skuCode: this.list.goodCode,\r\n          productCode: this.list.goodId,\r\n          shopId:localStorage.getItem(\"shopId\")\r\n        }).then(res => {\r\n          this.tableList = res.data.list\r\n          this.totalAdd = res.data.total\r\n        })\r\n      },\r\n      getInventoryList() {\r\n        getInventory({\r\n          shopId: localStorage.getItem(\"shopId\"),\r\n          pageSize: this.page_size,\r\n          pageNum: this.pageNum,\r\n          inventoryNo: '',\r\n          createTime: ''\r\n        }).then(res => {\r\n          this.tableData = res.data.list\r\n          this.total = res.data.total\r\n        })\r\n      },\r\n      replacef(name, id, row) {\r\n        var obj = name.target;\r\n        let _this = this\r\n        if (obj.nodeName == 'SPAN') {\r\n          //转换成输入框\r\n          var input = document.createElement(\"input\");\r\n          input.className = \"myStyle\"\r\n          input.value = obj.innerHTML;\r\n          obj.parentNode.replaceChild(input, obj);\r\n          //聚焦的替换后的input上\r\n          input.focus();\r\n          input.onblur = function() {\r\n            obj.innerHTML = input.value;\r\n            input.parentNode.replaceChild(obj, input);\r\n            if (row.totalStockBefore > obj.innerHTML) {\r\n              _this.successMoney = true //盘盈\r\n              _this.lostMoney = false\r\n              _this.elseMoney = false\r\n            } else if (row.totalStockBefore < obj.innerHTML) {\r\n              _this.lostMoney = true //盘亏\r\n              _this.successMoney = false\r\n              _this.elseMoney = false\r\n            } else if (row.totalStockBefore = obj.innerHTML) {\r\n              _this.elseMoney = true //一样\r\n              _this.successMoney = false\r\n              _this.lostMoney = false\r\n            }\r\n          };\r\n        }\r\n      },\r\n      // 重置\r\n      reset() {\r\n        this.list = {\r\n          goodName: '',\r\n          goodId: '',\r\n          goodCode: ''\r\n        }\r\n        this.searchList()\r\n      },\r\n      //修改每页页数\r\n      handleSizeChange(page) {\r\n        this.page_size = page\r\n        this.searchList()\r\n      },\r\n      //点击跳转页码\r\n      pageChange(page) {\r\n        this.pageNum = page\r\n        this.searchList()\r\n      },\r\n      outStockButton() {\r\n        if (typeof(this.outStock.number) != \"number\") {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: '请输入数字'\r\n          });\r\n          return\r\n        }\r\n        if (this.outStock.number > this.outStock.total) {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: '出库量不能大于可用库存量'\r\n          });\r\n          return\r\n        }\r\n        if (this.outStock.status == '') {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: '请选择出库类型'\r\n          });\r\n          return\r\n        }\r\n        stockChange({\r\n          shopId: localStorage.getItem(\"shopId\"),\r\n          productId: this.outStock.productId,\r\n          skuId: this.outStock.skuId,\r\n          type: this.outStock.status,\r\n          totalStockChange: -this.outStock.number,\r\n          remark: this.outStock.remark,\r\n          creater: localStorage.getItem(\"userId\")\r\n        }).then(res => {\r\n          if (res.code == 200) {\r\n            this.$notify({\r\n              title: '成功',\r\n              message: '出库成功',\r\n              type: \"success\"\r\n            });\r\n            this.dialogFormVisible = false\r\n            this.outStock.status = ''\r\n            this.outStock.skuId = ''\r\n            this.outStock.number = ''\r\n            this.outStock.remark = ''\r\n            this.searchList()\r\n          } else {\r\n            this.$notify.error({\r\n              title: '失败',\r\n              message: '出库失败',\r\n            });\r\n          }\r\n        })\r\n      },\r\n      // 删除\r\n      updateProduct(index, row) {\r\n        var id = row.id\r\n        if (this.tableData.length == 0) {\r\n          this.disabled = false\r\n        } else {\r\n          // this.tableData = this.tableData.filter(item => item.id != id)\r\n          this.tableData.splice(index, 1)\r\n          this.ck()\r\n          this.disabled = false\r\n        }\r\n\r\n        this.totalCount = this.tableData.length\r\n        console.log(this.tableData)\r\n      },\r\n      upStockButton() {\r\n        if (typeof(this.upStock.number) != \"number\") {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: '请输入数字'\r\n          });\r\n          return\r\n        }\r\n        if (this.upStock.status == '') {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: '请选择入库类型'\r\n          });\r\n          return\r\n        }\r\n        stockChange({\r\n          shopId: localStorage.getItem(\"shopId\"),\r\n          productId: this.upStock.productId,\r\n          skuId: this.upStock.skuId,\r\n          type: this.upStock.status,\r\n          totalStockChange: this.upStock.number,\r\n          remark: this.upStock.remark,\r\n          creater: localStorage.getItem(\"userId\")\r\n        }).then(res => {\r\n          if (res.code == 200) {\r\n            this.$notify({\r\n              title: '成功',\r\n              message: '入库成功',\r\n              type: \"success\"\r\n            });\r\n            this.updialogFormVisible = false\r\n            this.upStock.status = ''\r\n            this.upStock.skuId = ''\r\n            this.upStock.number = ''\r\n            this.upStock.remark = ''\r\n            this.searchList()\r\n          } else {\r\n            this.$notify.error({\r\n              title: '失败',\r\n              message: '入库失败',\r\n            });\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .app-container {\r\n    padding: 20px 20px 40px 20px;\r\n  }\r\n  .tips {\r\n    color: green;\r\n    margin-left: 20px;\r\n    font-size: 14px;\r\n  }\r\n  .testButton {\r\n    float: left;\r\n    margin-top: 20px;\r\n  }\r\n  .myStyle {\r\n    width: 100px;\r\n    height: 35px;\r\n    padding-left: 10px;\r\n  }\r\n</style>\r\n<style>\r\n  .myStyle {\r\n    width: 100px;\r\n    height: 35px;\r\n    padding-left: 10px;\r\n  }\r\n  .total {\r\n    width: 100%;\r\n    border: 1px solid #eee;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    padding: 0 10px;\r\n  }\r\n  .totaltextarea {\r\n    width: 100%;\r\n    border: 1px solid #eee;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    margin-top: 10px;\r\n  }\r\n  .total>span {\r\n    margin-right: 45px;\r\n  }\r\n</style>\r\n\r\n","import { render, staticRenderFns } from \"./inventory.vue?vue&type=template&id=4dc736bc&scoped=true&\"\nimport script from \"./inventory.vue?vue&type=script&lang=js&\"\nexport * from \"./inventory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./inventory.vue?vue&type=style&index=0&id=4dc736bc&lang=scss&scoped=true&\"\nimport style1 from \"./inventory.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4dc736bc\",\n  null\n  \n)\n\ncomponent.options.__file = \"inventory.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--7-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inventory.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--7-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inventory.vue?vue&type=style&index=1&lang=css&\"","// date.js\r\nexport function formatDate(date, fmt) {\r\n  if (/(y+)/.test(fmt)) {\r\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n  }\r\n  let o = {\r\n    'M+': date.getMonth() + 1,\r\n    'd+': date.getDate(),\r\n    'h+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds()\r\n  };\r\n  for (let k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      let str = o[k] + '';\r\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? str : padLeftZero(str));\r\n    }\r\n  }\r\n  return fmt;\r\n}\r\n\r\nfunction padLeftZero(str) {\r\n  return ('00' + str).substr(str.length);\r\n}\r\n\r\nexport function str2Date(dateStr, separator) {\r\n  if (!separator) {\r\n    separator = \"-\";\r\n  }\r\n  let dateArr = dateStr.split(separator);\r\n  let year = parseInt(dateArr[0]);\r\n  let month;\r\n  //处理月份为04这样的情况\r\n  if (dateArr[1].indexOf(\"0\") == 0) {\r\n    month = parseInt(dateArr[1].substring(1));\r\n  } else {\r\n    month = parseInt(dateArr[1]);\r\n  }\r\n  let day = parseInt(dateArr[2]);\r\n  let date = new Date(year, month - 1, day);\r\n  return date;\r\n}\r\n"],"sourceRoot":""}