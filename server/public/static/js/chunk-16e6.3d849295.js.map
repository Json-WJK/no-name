{"version":3,"sources":["webpack:///./src/api/marketManage/discount.js","webpack:///./src/views/marketManage/bargain/bargain.vue?5e5f","webpack:///./src/views/marketManage/bargain/bargain.vue?de8a","webpack:///src/views/marketManage/bargain/bargain.vue","webpack:///./src/views/marketManage/bargain/bargain.vue","webpack:///./src/views/marketManage/bargain/bargain.vue?9a78","webpack:///./src/api/marketManage/bargain.js"],"names":["__webpack_require__","d","__webpack_exports__","getShopActivityList","calculatedActivityDiscount","addShopActivity","updateShopActivity","deleteShopActivity","invalidShopActivity","getShopActivityById","getActivityProductListById","getShopActivityListById","findActiveAndProduct","_utils_request__WEBPACK_IMPORTED_MODULE_0__","data","request","url","method","activeId","ids","bargain_bargainvue_type_script_lang_js_","searchList","tabType","pageNum","pageSize","category","list","listTotal","applicationTime","pickerOptions","shortcuts","text","onClick","picker","$emit","Date","date","setTime","getTime","extedShowForm","extendShow","extendForm","extendFormLoading","activeName","created","this","shopId","shop","activityType","getData","methods","_this","activityStatus","console","log","Object","bargain","then","res","code","total","reset","name","beginActivityTime","endActivityTime","extendItem","i","productId","getExted","_this2","$message","error","message","setTimeout","downImg","window","open","bargainCodeUrl","miniBargainCodeUrl","failItem","o","_this3","$confirm","confirmButtonText","cancelButtonText","type","obj","id","userId","user","discount","catch","deleteItem","_this4","handleSizeChange","val","handleCurrentChange","computed","extends_default","vuex_esm","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","shadow","on","tab-click","model","value","callback","$$v","$set","expression","label","_v","staticStyle","float","size","click","margin-right","margin-top","inline","label-width","width","clearable","placeholder","value-format","align","picker-options","padding-right","icon","$event","$router","push","path","border","prop","scopedSlots","_u","key","fn","scope","_s","row","color","_e","data-scope","effect","content","placement","orderAmount","orderTotal","userTotal","bargainUserTotal","helpUserTotal","bargainSuccessTotal","lockStock","fixed","query","padding-top","page-sizes","page-size","layout","size-change","current-change","title","visible","center","update:visible","directives","rawName","ref","tab-position","margin","src","alt","disabled","miniBargainStatus","slot","options","__file","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_9_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_9_2_node_modules_less_loader_dist_cjs_js_ref_9_3_node_modules_vue_loader_lib_index_js_vue_loader_options_bargain_vue_vue_type_style_index_0_id_70fcb168_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","n","getBargainActivityList","getBargainActivityImg","getBargainSubgroupProductPage","getBargainSubgroupInfo"],"mappings":"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","file":"static/js/chunk-16e6.3d849295.js","sourcesContent":["import request from '@/utils/request'\r\n// 发布商品\r\nexport function getShopActivityList(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/getShopActivityList`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 计算价格\r\nexport function calculatedActivityDiscount(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/calculatedActivityDiscount`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 新增活动\r\nexport function addShopActivity(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/addShopActivity`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 修改限时折扣活动\r\nexport function updateShopActivity(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/updateShopActivity`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 删除活动\r\nexport function deleteShopActivity(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/deleteShopActivity`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 活动失效\r\nexport function invalidShopActivity(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/invalidShopActivity`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 活动详情\r\nexport function getShopActivityById(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/getShopActivityById`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 活动详情\r\nexport function getActivityProductListById(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/getActivityProductListById`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 组件 - 弹出框列表\r\nexport function getShopActivityListById(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/getShopActivityListById`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 页面装修回显\r\nexport function findActiveAndProduct(data) {\r\n  return request({\r\n    url: `/product/mall/active/findActiveAndProduct?activeId=${data.activeId}&productIds=${data.ids}`,\r\n    method: 'get',\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pageContent\"},[_c('el-card',{staticClass:\"filter-container\",attrs:{\"shadow\":\"never\"}},[_c('el-tabs',{on:{\"tab-click\":_vm.getData},model:{value:(_vm.searchList.tabType),callback:function ($$v) {_vm.$set(_vm.searchList, \"tabType\", $$v)},expression:\"searchList.tabType\"}},[_c('el-tab-pane',{attrs:{\"label\":\"所有活动\",\"name\":\"-1\"}}),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"未开始\",\"name\":\"0\"}}),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"进行中\",\"name\":\"1\"}}),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"已结束\",\"name\":\"2\"}}),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"已失效\",\"name\":\"3\"}})],1),_vm._v(\" \"),_c('div',[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" \"),_c('span',[_vm._v(\"筛选搜索\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.getData}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"size\":\"small\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.searchList,\"size\":\"small\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"活动名称：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"活动名称\"},model:{value:(_vm.searchList.name),callback:function ($$v) {_vm.$set(_vm.searchList, \"name\", $$v)},expression:\"searchList.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"开始日期：\"}},[_c('el-date-picker',{attrs:{\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"type\":\"datetime\",\"placeholder\":\"选择开始时间\",\"align\":\"right\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.searchList.beginActivityTime),callback:function ($$v) {_vm.$set(_vm.searchList, \"beginActivityTime\", $$v)},expression:\"searchList.beginActivityTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束日期：\"}},[_c('el-date-picker',{attrs:{\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"type\":\"datetime\",\"placeholder\":\"选择结束时间\",\"align\":\"right\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.searchList.endActivityTime),callback:function ($$v) {_vm.$set(_vm.searchList, \"endActivityTime\", $$v)},expression:\"searchList.endActivityTime\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('el-card',{staticClass:\"operate-container\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"shadow\":\"never\"}},[_c('div',{staticClass:\"flex-row-between\",staticStyle:{\"width\":\"100%\"}},[_c('div',[_c('i',{staticClass:\"el-icon-tickets\"}),_vm._v(\" \"),_c('span',[_vm._v(\"数据列表\")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"padding-right\":\"20px\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":function($event){_vm.$router.push({path:'/marketManage/bargain/newBargain'})}}},[_vm._v(\"新增砍价活动\")])],1)])]),_vm._v(\" \"),_c('div',[_c('el-card',{staticClass:\"filter-container\",staticStyle:{\"margin-top\":\"20px\"},attrs:{\"shadow\":\"never\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"活动名称\",\"width\":\"300\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"活动时间\",\"width\":\"450\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.beginActivityTime + ' 至 ' + scope.row.endActivityTime)+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"活动状态\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.activityStatus == 0)?_c('div',{staticStyle:{\"color\":\"#E6A23C\"}},[_vm._v(\"未开始\")]):_vm._e(),_vm._v(\" \"),(scope.row.activityStatus == 1)?_c('div',{staticStyle:{\"color\":\"#409EFF\"}},[_vm._v(\"进行中\")]):_vm._e(),_vm._v(\" \"),(scope.row.activityStatus == 2)?_c('div',{staticStyle:{\"color\":\"#F56C6C\"}},[_vm._v(\"已结束\")]):_vm._e(),_vm._v(\" \"),(scope.row.activityStatus == 3)?_c('div',{staticStyle:{\"color\":\"#F56C6C\"}},[_vm._v(\"已失效\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\"},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_c('span',{attrs:{\"data-scope\":scope.row}},[_vm._v(\"订单总金额\")]),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"活动订单总付款金额（包含退款）\",\"placement\":\"top-start\"}},[_c('i',{staticClass:\"el-icon-question\"})])]}},{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.orderAmount ? scope.row.orderAmount : '0')+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\"},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_c('span',{attrs:{\"data-scope\":scope.row}},[_vm._v(\"付款订单数\")]),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"参与活动并付款的订单（包含退款订单）\",\"placement\":\"top-start\"}},[_c('i',{staticClass:\"el-icon-question\"})])]}},{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.orderTotal ? scope.row.orderTotal : '0')+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\"},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_c('span',{attrs:{\"data-scope\":scope.row}},[_vm._v(\"付款人数\")]),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"参与活动并付款的人数（包含退款人数）\",\"placement\":\"top-start\"}},[_c('i',{staticClass:\"el-icon-question\"})])]}},{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.userTotal ? scope.row.userTotal : '0')+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"砍价人数\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.bargainUserTotal ? scope.row.bargainUserTotal : '0')+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"productTotal\",\"label\":\"帮砍人数\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.helpUserTotal ? scope.row.helpUserTotal : '0')+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\"},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_c('span',{attrs:{\"data-scope\":scope.row}},[_vm._v(\"砍价成功数\")]),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"砍价成功的数量（包含砍价成功未付款数）\",\"placement\":\"top-start\"}},[_c('i',{staticClass:\"el-icon-question\"})])]}},{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.bargainSuccessTotal ? scope.row.bargainSuccessTotal : '0')+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\"},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_c('span',{attrs:{\"data-scope\":scope.row}},[_vm._v(\"活动库存\")]),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"用户支付成功扣除活动库存，退货不增加活动库存\",\"placement\":\"top-start\"}},[_c('i',{staticClass:\"el-icon-question\"})])]}},{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.lockStock)+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.$router.push({path:'/marketManage/bargain/bargainInfo',query:{id:scope.row.id}})}}},[_vm._v(\"查看\")]),_vm._v(\" \"),(scope.row.activityStatus == 1 || scope.row.activityStatus == 0)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.$router.push({path:'/marketManage/bargain/editBargain',query:{id:scope.row.id}})}}},[_vm._v(\"修改\")]):_vm._e(),_vm._v(\" \"),(scope.row.activityStatus == 1)?_c('el-button',{staticStyle:{\"color\":\"#F56C6C\"},attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.failItem(scope.row)}}},[_vm._v(\"使失效\")]):_vm._e(),_vm._v(\" \"),(scope.row.activityStatus == 1)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.extendItem(scope.row)}}},[_vm._v(\"推广\")]):_vm._e(),_vm._v(\" \"),(scope.row.activityStatus == 0)?_c('el-button',{staticStyle:{\"color\":\"#F56C6C\"},attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.deleteItem(scope.row.id)}}},[_vm._v(\"删除\")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"flex-row-end\",staticStyle:{\"padding-top\":\"20px\"}},[_c('div',[_c('el-pagination',{attrs:{\"page-sizes\":[5,10,15,20],\"page-size\":_vm.searchList.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.listTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"砍价推广\",\"visible\":_vm.extendShow,\"width\":\"40%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.extendShow=$event}}},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.extendFormLoading),expression:\"extendFormLoading\"}],ref:\"form\",attrs:{\"model\":_vm.extendForm}},[_c('div',{staticClass:\"extend\"},[_c('el-tabs',{attrs:{\"tab-position\":\"left\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"H5推广\",\"name\":\"h5\"}},[_c('img',{staticStyle:{\"width\":\"375px\",\"margin\":\"auto\"},attrs:{\"src\":_vm.extendForm.bargainCodeUrl,\"alt\":\"\"}})]),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"disabled\":_vm.extendForm.miniBargainStatus == 2,\"label\":\"小程序推广\",\"name\":\"mini\"}},[_c('img',{staticStyle:{\"width\":\"375px\",\"margin\":\"auto\"},attrs:{\"src\":_vm.extendForm.miniBargainCodeUrl,\"alt\":\"\"}})])],1)],1)]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.getExted}},[_vm._v(\"重新生成\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.downImg}},[_vm._v(\"下载推广图\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/happypack/loader.js?id=js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bargain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/happypack/loader.js?id=js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bargain.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"pageContent\">\r\n    <!-- 筛选条件 -->\r\n    <el-card class=\"filter-container\" shadow=\"never\">\r\n      <el-tabs v-model=\"searchList.tabType\" @tab-click=\"getData\">\r\n        <el-tab-pane label=\"所有活动\" name=\"-1\"></el-tab-pane>\r\n        <el-tab-pane label=\"未开始\" name=\"0\"></el-tab-pane>\r\n        <el-tab-pane label=\"进行中\" name=\"1\"></el-tab-pane>\r\n        <el-tab-pane label=\"已结束\" name=\"2\"></el-tab-pane>\r\n        <el-tab-pane label=\"已失效\" name=\"3\"></el-tab-pane>\r\n      </el-tabs>\r\n      <div>\r\n        <i class=\"el-icon-search\"></i>\r\n        <span>筛选搜索</span>\r\n        <el-button style=\"float: right\" @click=\"getData\" type=\"primary\" size=\"small\">查询</el-button>\r\n        <el-button style=\"float: right;margin-right: 15px\" @click=\"reset\" size=\"small\">重置</el-button>\r\n      </div>\r\n      <div style=\"margin-top: 15px\">\r\n        <el-form :inline=\"true\" :model=\"searchList\" size=\"small\" label-width=\"140px\">\r\n          <el-form-item label=\"活动名称：\">\r\n            <el-input style=\"width: 203px\" v-model=\"searchList.name\" clearable placeholder=\"活动名称\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"开始日期：\">\r\n            <el-date-picker\r\n              v-model=\"searchList.beginActivityTime\"\r\n              value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n              type=\"datetime\"\r\n              placeholder=\"选择开始时间\"\r\n              align=\"right\"\r\n              :picker-options=\"pickerOptions\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n          <el-form-item label=\"结束日期：\">\r\n            <el-date-picker\r\n              v-model=\"searchList.endActivityTime\"\r\n              value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n              type=\"datetime\"\r\n              placeholder=\"选择结束时间\"\r\n              align=\"right\"\r\n              :picker-options=\"pickerOptions\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </el-card>\r\n    <!-- 数据列表 - head-->\r\n    <el-card class=\"operate-container\" style=\"margin-top:10px\" shadow=\"never\">\r\n      <div class=\"flex-row-between\" style=\"width:100%;\">\r\n        <div>\r\n          <i class=\"el-icon-tickets\"></i>\r\n          <span>数据列表</span>\r\n        </div>\r\n        <div style=\"padding-right:20px;\">\r\n          <el-button type=\"text\" icon=\"el-icon-circle-plus-outline\" @click=\"$router.push({path:'/marketManage/bargain/newBargain'})\">新增砍价活动</el-button>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n    <!-- 数据列表 -->\r\n    <div>\r\n      <el-card style=\"margin-top:20px;\" class=\"filter-container\" shadow=\"never\">\r\n        <el-table :data=\"list\" border style=\"width: 100%\">\r\n          <el-table-column prop=\"name\" label=\"活动名称\" width=\"300\"></el-table-column>\r\n          <el-table-column label=\"活动时间\" width=\"450\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.beginActivityTime + ' 至 ' + scope.row.endActivityTime}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"活动状态\" width=\"140\">\r\n            <template slot-scope=\"scope\">\r\n              <div style=\"color:#E6A23C;\" v-if=\"scope.row.activityStatus == 0\">未开始</div>\r\n              <div style=\"color:#409EFF;\" v-if=\"scope.row.activityStatus == 1\">进行中</div>\r\n              <div style=\"color:#F56C6C;\" v-if=\"scope.row.activityStatus == 2\">已结束</div>\r\n              <div style=\"color:#F56C6C;\" v-if=\"scope.row.activityStatus == 3\">已失效</div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column width=\"140\">\r\n            <template slot=\"header\" slot-scope=\"scope\">\r\n              <span :data-scope=\"scope.row\">订单总金额</span>\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"活动订单总付款金额（包含退款）\" placement=\"top-start\">\r\n                <i class=\"el-icon-question\"></i>\r\n              </el-tooltip>\r\n            </template>\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.orderAmount ? scope.row.orderAmount : '0'}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column width=\"140\">\r\n            <template slot=\"header\" slot-scope=\"scope\">\r\n              <span :data-scope=\"scope.row\">付款订单数</span>\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"参与活动并付款的订单（包含退款订单）\" placement=\"top-start\">\r\n                <i class=\"el-icon-question\"></i>\r\n              </el-tooltip>\r\n            </template>\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.orderTotal ? scope.row.orderTotal : '0'}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column width=\"140\">\r\n            <template slot=\"header\" slot-scope=\"scope\">\r\n              <span :data-scope=\"scope.row\">付款人数</span>\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"参与活动并付款的人数（包含退款人数）\" placement=\"top-start\">\r\n                <i class=\"el-icon-question\"></i>\r\n              </el-tooltip>\r\n            </template>\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.userTotal ? scope.row.userTotal : '0'}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"砍价人数\" width=\"140\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.bargainUserTotal ? scope.row.bargainUserTotal : '0'}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"productTotal\" label=\"帮砍人数\" width=\"140\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.helpUserTotal ? scope.row.helpUserTotal : '0'}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column width=\"140\">\r\n            <template slot=\"header\" slot-scope=\"scope\">\r\n              <span :data-scope=\"scope.row\">砍价成功数</span>\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"砍价成功的数量（包含砍价成功未付款数）\" placement=\"top-start\">\r\n                <i class=\"el-icon-question\"></i>\r\n              </el-tooltip>\r\n            </template>\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.bargainSuccessTotal ? scope.row.bargainSuccessTotal : '0'}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column width=\"140\">\r\n            <template slot=\"header\" slot-scope=\"scope\">\r\n              <span :data-scope=\"scope.row\">活动库存</span>\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"用户支付成功扣除活动库存，退货不增加活动库存\" placement=\"top-start\">\r\n                <i class=\"el-icon-question\"></i>\r\n              </el-tooltip>\r\n            </template>\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.lockStock}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            fixed=\"right\"\r\n            label=\"操作\"\r\n            width=\"240\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button @click=\"$router.push({path:'/marketManage/bargain/bargainInfo',query:{id:scope.row.id}})\" type=\"text\" size=\"small\">查看</el-button>\r\n              <el-button @click=\"$router.push({path:'/marketManage/bargain/editBargain',query:{id:scope.row.id}})\" v-if=\"scope.row.activityStatus == 1 || scope.row.activityStatus == 0\" type=\"text\" size=\"small\">修改</el-button>\r\n              <el-button @click=\"failItem(scope.row)\" v-if=\"scope.row.activityStatus == 1\" style=\"color:#F56C6C;\" type=\"text\" size=\"small\">使失效</el-button>\r\n              <el-button @click=\"extendItem(scope.row)\" v-if=\"scope.row.activityStatus == 1\" type=\"text\" size=\"small\">推广</el-button>\r\n              <el-button @click=\"deleteItem(scope.row.id)\" v-if=\"scope.row.activityStatus == 0\" style=\"color:#F56C6C;\" type=\"text\" size=\"small\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <div class=\"flex-row-end\" style=\"padding-top:20px;\">\r\n          <div>\r\n            <el-pagination\r\n              @size-change=\"handleSizeChange\"\r\n              @current-change=\"handleCurrentChange\"\r\n              :page-sizes=\"[5,10,15,20]\"\r\n              :page-size=\"searchList.pageSize\"\r\n              layout=\"total, sizes, prev, pager, next, jumper\"\r\n              :total=\"listTotal\">\r\n            </el-pagination>\r\n          </div>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n    <!-- 推广弹出框 -->\r\n    <el-dialog title=\"砍价推广\" :visible.sync=\"extendShow\" width=\"40%\" center>\r\n      <el-form ref=\"form\" :model=\"extendForm\" v-loading=\"extendFormLoading\">\r\n        <div class=\"extend\">\r\n          <el-tabs tab-position=\"left\" v-model=\"activeName\">\r\n            <el-tab-pane label=\"H5推广\" name=\"h5\">\r\n              <img style=\"width:375px;margin:auto;\" :src=\"extendForm.bargainCodeUrl\" alt=\"\">\r\n            </el-tab-pane>\r\n            <el-tab-pane :disabled=\"extendForm.miniBargainStatus == 2\" label=\"小程序推广\" name=\"mini\">\r\n              <img style=\"width:375px;margin:auto;\" :src=\"extendForm.miniBargainCodeUrl\" alt=\"\">\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </div>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"getExted\">重新生成</el-button>\r\n        <el-button @click=\"downImg\">下载推广图</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { getBargainActivityList , getBargainActivityImg } from '@/api/marketManage/bargain'\r\nimport { deleteShopActivity , invalidShopActivity } from '@/api/marketManage/discount'\r\nexport default {\r\n  data(){\r\n    return{\r\n      searchList:{\r\n        tabType:'-1',\r\n        pageNum:1,\r\n        pageSize:5\r\n      },\r\n      category:[],\r\n      list:[],\r\n      listTotal:0,\r\n      applicationTime: '',\r\n      pickerOptions: {\r\n        shortcuts: [{\r\n          text: '今天',\r\n          onClick(picker) {\r\n            picker.$emit('pick', new Date());\r\n          }\r\n        }, {\r\n          text: '昨天',\r\n          onClick(picker) {\r\n            const date = new Date();\r\n            date.setTime(date.getTime() - 3600 * 1000 * 24);\r\n            picker.$emit('pick', date);\r\n          }\r\n        }, {\r\n          text: '一周前',\r\n          onClick(picker) {\r\n            const date = new Date();\r\n            date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\r\n            picker.$emit('pick', date);\r\n          }\r\n        }]\r\n      },\r\n      extedShowForm:{},\r\n      extendShow: false,        // 推广弹出框\r\n      extendForm:{},\r\n      extendFormLoading:false,\r\n      activeName:'h5'\r\n    }\r\n  },\r\n  created(){\r\n    this.searchList.shopId = this.shop.shopId\r\n    this.searchList.activityType = 2\r\n    this.getData();\r\n  },\r\n  methods:{\r\n    // 列表 - 获取数据\r\n    getData(){\r\n      this.searchList.activityStatus = this.searchList.tabType == '-1' ? '' : this.searchList.tabType\r\n      console.log('请求的数据',this.searchList)\r\n      getBargainActivityList(this.searchList).then(res=>{\r\n        console.log('砍价活动列表',res)\r\n        if(res.code == 200){\r\n          this.list = res.data.list\r\n          this.listTotal = res.data.total\r\n        }\r\n      })\r\n    },\r\n    // 搜索栏 - 重置\r\n    reset(){\r\n      this.searchList.name = ''\r\n      this.searchList.beginActivityTime = ''\r\n      this.searchList.endActivityTime = ''\r\n      this.getData()\r\n    },\r\n    // 一开始 - 推广\r\n    extendItem(i){\r\n      this.extedShowForm.productId = i.productId;\r\n      this.extedShowForm.shopId = this.shop.shopId;\r\n      this.getExted()\r\n    },\r\n    getExted(){\r\n      this.extendFormLoading = true;\r\n      getBargainActivityImg(this.extedShowForm).then(res=>{\r\n        console.log('推广',res)\r\n        if(res.code == 200){\r\n          this.extendForm = res.data;\r\n          this.extendShow = true;\r\n        }else{\r\n          this.$message.error(res.message);\r\n        }\r\n        setTimeout(()=>{\r\n          this.extendFormLoading = false;\r\n        },500)\r\n      })\r\n    },\r\n    downImg(){\r\n      if(this.activeName == 'h5') window.open(this.extendForm.bargainCodeUrl)\r\n      if(this.activeName == 'mini') window.open(this.extendForm.miniBargainCodeUrl)\r\n    },\r\n    // 已开始 - 失效\r\n    failItem(o){\r\n      this.$confirm('确定让这组砍价活动失效吗？ 失效后，买家无法发起砍价活动；你也不能继续编辑活动内容；买家之前已发起的砍价活动，在有效期内还能继续邀请好友砍价。', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        let obj = {\r\n          id:o.id,\r\n          userId:this.user.userId,\r\n          shopId:this.shop.shopId,\r\n          name:o.name\r\n        }\r\n        invalidShopActivity(obj).then(res=>{\r\n          console.log('失效操作',res)\r\n          if(res.code == 200){\r\n            this.$message({\r\n              type: 'success',\r\n              message: res.message\r\n            });\r\n            this.getData();\r\n          }else{\r\n            this.$message.error(res.message);\r\n          }\r\n        })\r\n      }).catch(() => {});\r\n    },\r\n    // 未开始 - 删除\r\n    deleteItem(id){\r\n      this.$confirm('确定删除此砍价活动?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        deleteShopActivity({id:id,userId:this.user.userId}).then(res=>{\r\n          console.log('删除操作',res)\r\n          if(res.code == 200){\r\n            this.$message({\r\n              type: 'success',\r\n              message: res.message\r\n            });\r\n            this.getData();\r\n          }else{\r\n            this.$message.error(res.message);\r\n          }\r\n        })\r\n      }).catch(() => {});\r\n    },\r\n    // 分页\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n      this.searchList.pageSize = val\r\n      this.getData();\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.searchList.pageNum = val\r\n      this.getData();\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'user',\r\n      'shop'\r\n    ])\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  .checkBoxDiv{\r\n    font-size: 14px;\r\n    margin-left: 40px;\r\n    line-height: 19px;\r\n    color: #606266;\r\n  }\r\n  .active {\r\n    height: 70px;\r\n  }\r\n  .extend /deep/ .el-tabs__nav-scroll{\r\n    border-bottom: none;\r\n  }\r\n</style>","import { render, staticRenderFns } from \"./bargain.vue?vue&type=template&id=70fcb168&scoped=true&\"\nimport script from \"./bargain.vue?vue&type=script&lang=js&\"\nexport * from \"./bargain.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bargain.vue?vue&type=style&index=0&id=70fcb168&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70fcb168\",\n  null\n  \n)\n\ncomponent.options.__file = \"bargain.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--9-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--9-2!../../../../node_modules/less-loader/dist/cjs.js??ref--9-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bargain.vue?vue&type=style&index=0&id=70fcb168&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--9-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--9-2!../../../../node_modules/less-loader/dist/cjs.js??ref--9-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bargain.vue?vue&type=style&index=0&id=70fcb168&lang=less&scoped=true&\"","import request from '@/utils/request'\r\n// 发布商品\r\nexport function getBargainActivityList(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/getBargainActivityList`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 推广\r\nexport function getBargainActivityImg(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/getBargainActivityImg?shopId=${data.shopId}&productId=${data.productId}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 组件 - 列表\r\nexport function getBargainSubgroupProductPage(data) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/getBargainSubgroupProductPage`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 组件 - 回显\r\nexport function getBargainSubgroupInfo(ids) {\r\n  return request({\r\n    url: `/sys/business/shopActivity/getBargainSubgroupInfo?bargainIds=${ids}`,\r\n    method: 'get',\r\n  })\r\n}"],"sourceRoot":""}