{"version":3,"sources":["webpack:///./src/views/components/IconSelect.vue?a525","webpack:///./src/views/components/IconSelect.vue?8549","webpack:///./src/components/IconSelect/requireIcons.js","webpack:///./src/utils/clipboard.js","webpack:///./src/views/components/IconSelect.vue?9d7a","webpack:///src/views/components/IconSelect.vue","webpack:///./src/views/components/IconSelect.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_11_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_2_node_modules_sass_loader_lib_loader_js_ref_11_3_node_modules_vue_loader_lib_index_js_vue_loader_options_IconSelect_vue_vue_type_style_index_0_id_4b3739c8_rel_stylesheet_2Fscss_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","re","icons","requireContext","keys","requireAll","require","map","i","match","handleClipboard","text","event","clipboard","Clipboard","target","on","Vue","prototype","$message","message","type","duration","off","destroy","onClick","components_IconSelectvue_type_script_lang_js_","name","data","dialog","fileList","files","headers","Authorization","Object","auth","iconsMap","computed","extends_default","vuex_esm","created","this","requireIcons","methods","doSubmit","dialogVisible","dialogImageUrl","init","handleError","e","file","msg","JSON","parse","$notify","title","handleSuccess","response","uid","id","push","handleBeforeRemove","length","del","then","res","handlePictureCardPreview","url","generateIconCode","symbol","clipboard_handleClipboard","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","display","margin","attrs","size","icon","click","$event","_v","_l","item","key","placement","slot","_s","icon-class","class-name","visible","append-to-body","width","update:visible","close","before-remove","on-success","on-error","file-list","action","qiNiuUploadApi","multiple","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/chunk-155b.996db307.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--11-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../node_modules/sass-loader/lib/loader.js??ref--11-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconSelect.vue?vue&type=style&index=0&id=4b3739c8&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--11-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../node_modules/sass-loader/lib/loader.js??ref--11-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconSelect.vue?vue&type=style&index=0&id=4b3739c8&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icons-container\"},[_c('div',{staticStyle:{\"display\":\"inline-block\",\"margin\":\"0px 2px\"}},[_c('el-button',{staticClass:\"filter-item\",attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-upload\"},on:{\"click\":function($event){_vm.dialog = true}}},[_vm._v(\"上传文件\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"icons-wrapper\"},_vm._l((_vm.iconsMap),function(item){return _c('div',{key:item,on:{\"click\":function($event){_vm.handleClipboard(_vm.generateIconCode(item),$event)}}},[_c('el-tooltip',{attrs:{\"placement\":\"top\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\"\\n          \"+_vm._s(_vm.generateIconCode(item))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"icon-item\"},[_c('svg-icon',{attrs:{\"icon-class\":item,\"class-name\":\"disabled\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item))])],1)])],1)})),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialog,\"append-to-body\":\"\",\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.dialog=$event},\"close\":_vm.doSubmit}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"before-remove\":_vm.handleBeforeRemove,\"on-success\":_vm.handleSuccess,\"on-error\":_vm.handleError,\"file-list\":_vm.fileList,\"headers\":_vm.headers,\"action\":_vm.qiNiuUploadApi,\"multiple\":\"\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",staticStyle:{\"display\":\"block\"},attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"请勿上传违法文件，且文件不超过1M\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.doSubmit}},[_vm._v(\"确认\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nconst req = require.context('../../icons/svg', false, /\\.svg$/)\r\nconst requireAll = requireContext => requireContext.keys()\r\n\r\nconst re = /\\.\\/(.*)\\.svg/\r\n\r\nconst icons = requireAll(req).map(i => {\r\n  return i.match(re)[1]\r\n})\r\n\r\nexport default icons\r\n","import Vue from 'vue'\r\nimport Clipboard from 'clipboard'\r\n\r\nfunction clipboardSuccess() {\r\n  Vue.prototype.$message({\r\n    message: '复制成功',\r\n    type: 'success',\r\n    duration: 1500\r\n  })\r\n}\r\n\r\nfunction clipboardError() {\r\n  Vue.prototype.$message({\r\n    message: '复制失败',\r\n    type: 'error'\r\n  })\r\n}\r\n\r\nexport default function handleClipboard(text, event) {\r\n  const clipboard = new Clipboard(event.target, {\r\n    text: () => text\r\n  })\r\n  clipboard.on('success', () => {\r\n    clipboardSuccess()\r\n    clipboard.off('error')\r\n    clipboard.off('success')\r\n    clipboard.destroy()\r\n  })\r\n  clipboard.on('error', () => {\r\n    clipboardError()\r\n    clipboard.off('error')\r\n    clipboard.off('success')\r\n    clipboard.destroy()\r\n  })\r\n  clipboard.onClick(event)\r\n}\r\n","import mod from \"-!../../../node_modules/happypack/loader.js?id=js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/happypack/loader.js?id=js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconSelect.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"icons-container\">\r\n    <div style=\"display: inline-block;margin: 0px 2px;\">\r\n      <el-button class=\"filter-item\"\r\n                 size=\"mini\"\r\n                 type=\"primary\"\r\n                 icon=\"el-icon-upload\"\r\n                 @click=\"dialog = true\">上传文件</el-button>\r\n    </div>\r\n    <div class=\"icons-wrapper\">\r\n      <div v-for=\"item of iconsMap\"\r\n           :key=\"item\"\r\n           @click=\"handleClipboard(generateIconCode(item),$event)\">\r\n        <el-tooltip placement=\"top\">\r\n          <div slot=\"content\">\r\n            {{ generateIconCode(item) }}\r\n          </div>\r\n          <div class=\"icon-item\">\r\n            <svg-icon :icon-class=\"item\"\r\n                      class-name=\"disabled\" />\r\n            <span>{{ item }}</span>\r\n          </div>\r\n        </el-tooltip>\r\n      </div>\r\n    </div>\r\n    <!-- 文件上传 -->\r\n    <el-dialog :visible.sync=\"dialog\"\r\n               append-to-body\r\n               width=\"500px\"\r\n               @close=\"doSubmit\">\r\n      <el-upload :before-remove=\"handleBeforeRemove\"\r\n                 :on-success=\"handleSuccess\"\r\n                 :on-error=\"handleError\"\r\n                 :file-list=\"fileList\"\r\n                 :headers=\"headers\"\r\n                 :action=\"qiNiuUploadApi\"\r\n                 class=\"upload-demo\"\r\n                 multiple>\r\n        <el-button size=\"small\"\r\n                   type=\"primary\">点击上传</el-button>\r\n        <div slot=\"tip\"\r\n             style=\"display: block;\"\r\n             class=\"el-upload__tip\">请勿上传违法文件，且文件不超过1M</div>\r\n      </el-upload>\r\n      <div slot=\"footer\"\r\n           class=\"dialog-footer\">\r\n        <el-button type=\"primary\"\r\n                   @click=\"doSubmit\">确认</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport icons from '@/components/IconSelect/requireIcons'\r\nimport clipboard from '@/utils/clipboard'\r\nimport { mapGetters } from 'vuex'\r\n// import { del, download, sync, delAll } from '@/api/qiniu'\r\nimport { getToken } from '@/utils/auth'\r\nexport default {\r\n  name: 'Icons',\r\n  data () {\r\n    return {\r\n      dialog: false,\r\n      fileList: [],\r\n      files: [],\r\n      headers: { 'Authorization': 'Bearer ' + getToken() },\r\n      iconsMap: []\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'qiNiuUploadApi'\r\n    ])\r\n  },\r\n  created () {\r\n    this.iconsMap = icons\r\n  },\r\n  methods: {\r\n    doSubmit () {\r\n      this.fileList = []\r\n      this.dialogVisible = false\r\n      this.dialogImageUrl = ''\r\n      this.dialog = false\r\n      this.init()\r\n    },\r\n    handleError (e, file, fileList) {\r\n      const msg = JSON.parse(e.message)\r\n      this.$notify({\r\n        title: msg.message,\r\n        type: 'error',\r\n        duration: 2500\r\n      })\r\n    },\r\n    handleSuccess (response, file, fileList) {\r\n      const uid = file.uid\r\n      const id = response.id\r\n      this.files.push({ uid, id })\r\n    },\r\n    handleBeforeRemove (file, fileList) {\r\n      for (let i = 0; i < this.files.length; i++) {\r\n        if (this.files[i].uid === file.uid) {\r\n          del(this.files[i].id).then(res => { })\r\n          return true\r\n        }\r\n      }\r\n    },\r\n    handlePictureCardPreview (file) {\r\n      this.dialogImageUrl = file.url\r\n      this.dialogVisible = true\r\n    },\r\n    generateIconCode (symbol) {\r\n      return `<svg-icon icon-class=\"${symbol}\" />`\r\n    },\r\n    handleClipboard (text, event) {\r\n      clipboard(text, event)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n.icons-container {\r\n  margin: 10px 20px 0;\r\n  overflow: hidden;\r\n  .icons-wrapper {\r\n    margin: 0 auto;\r\n  }\r\n  .icon-item {\r\n    margin: 20px;\r\n    height: 110px;\r\n    text-align: center;\r\n    width: 110px;\r\n    float: left;\r\n    font-size: 30px;\r\n    color: #24292e;\r\n    cursor: pointer;\r\n  }\r\n  span {\r\n    display: block;\r\n    font-size: 24px;\r\n    margin-top: 10px;\r\n  }\r\n  .disabled {\r\n    pointer-events: none;\r\n  }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./IconSelect.vue?vue&type=template&id=4b3739c8&scoped=true&\"\nimport script from \"./IconSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./IconSelect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconSelect.vue?vue&type=style&index=0&id=4b3739c8&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b3739c8\",\n  null\n  \n)\n\ncomponent.options.__file = \"IconSelect.vue\"\nexport default component.exports"],"sourceRoot":""}