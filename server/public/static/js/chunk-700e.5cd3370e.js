(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-700e"],{"/vX6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAE6ElEQVRoQ9WZW0hlVRjHf8sbhrcxDQXHSwqamo6X1CQ1whIRCaQgfKiQrIceeq9gmoLqPaiHMoZ6kaAYCBGxpFLL1FFHTU1B8woKmncavK34FnvL8XiObk9U7O/F49p7r/Xf/++//utbaysCDK11MPAgEA88BjwO5AIPA9eAB4C/gC3gD2AC+BW4C6wDfyqljgMZXl31Ia11KFAGPANUAgUWSCd9aesl7gE9wHdAv1Lq8Co4nAx02p/WOg94B6iwGBa2Aw1hWRjvBW4ppX5z2pEj0FprkcCrwFtApN350dER9+/fZ3t7m5WVFdbX181vaTs+PiY4OJjw8HBiYmKIj48nKSnJ/Ja2kJAQT4x7wAfAZ0opeZEL41LQWmtJ/7tAHWBGOjg4YHl5mcXFRVZXV9nd3UVryfwlgylFVFQUiYmJpKSkcP36dcLCwk45ANolk0opkY/f8Ataay3XngY+Ah6xexA2BwcHWVtbM+ADDQGbkJBASUmJyYJH/A68AXyvlPLJhE/QFuB64FMgUTqUlI+OjjI2NuaIVacvo5QiPz+fGzduGNlYsQq8BrT5Au4PtDjDlzbgra0tw+7CwgInJydO8Ti+LygoiNTUVMP6tWviliYE+EtKKXGYM3EOtKXhVlsSGxsbdHV1mQnmRLeOkXoDUcpM0urqauLi4uyrIpVGb42fAW25xOfAs/KUMNzZ2Wn+/lchTNfU1Hgy/i3wiqereIN+E3hPXEI03NPTw/z8/L/K8LnUK0VaWhqVlZW2xo+Am0qpD+17T0FrrR8F+mwf7u/vZ3x8/IyGRXu5ubnGNWZnZxGfDjTEpzMyMozlTUxMnBsnLy+PsjJZeE2Ij5fbC5ABbS3NouPn5H+xtTt37pxjWDoqLy837eIkIyMjHB5eaQU2CEJDQyksLDSOIe7R19dnCPIMaW9oaPC0w28sfR/aoGVZ/hpIEBZl4i0tLZ0jMSsri6qqKjOQAJ+cnGRoaMjYodMQWysuLiYnJ+e0n+7ubqanp891kZycbCamtQCtAc8rpXqVVa3dBN4Ggufm5pBOfC0cktKioqJThsT+pqamGBgYcMS4MFxaWkp2djYiNTtjw8PDPqUmYIWk9PR0eSGpVd6XOSegHwK+Ap4Sjfb29jIzM+OXOH8DXyYVb0k4feHMzEwqKirsWuUH4AUBnQ38DMTu7e3R1tbGzs7Ohdn2leKLpHLV+z0Hj46Opr6+nshIU6dtAk8I6BeBLwAllVp7e7sji3PKXKCZObU3pairqzMVongG8LKA/hh4XVpEm/fuXVhgncnAZYCcvthlk7igoMDMBSs+EdA/Ak9Kg7AsJedVwl/qRS7iEJ4uEYjbCBYpYYVtK34S0AtAijS0traa2viq4YvR/f19IiIizrjEZZPV37hSgzc2NtqXFwX0NhAtLbdv33ZkXb4695aKfY9Tl7iIKOm7qanJvmVHQEslL5tVWlpa/lHpGRsbS21trdmd2CGZ6+joYHNTJn5gIZ7e3NxsP3zoWqZdqWlXuocrfdqVK6Iraw9XVnlyHueuetqUTlq7a+digZYV0V17RAu4HOP+4prduL2oa63dde5hsS3Hl+46YbKAy3m0e87yPGTirlNTi205xHHX+bQHcPd8CfDcX7jqm4sXcHd93fICL8fBt1zxHdELuLu+2HqB/9++jf8NhRh7u/GEnU8AAAAASUVORK5CYII="},CZ1M:function(t,e,a){"use strict";a.r(e);var i=a("QbLZ"),o=a.n(i),s=a("L2JU"),l=a("lmFE"),n={props:["bargainIds","bargainCommodityShow"],watch:{bargainCommodityShow:function(t,e){t&&this.getData()}},data:function(){return{fromLoading:!1,searchList:{pageNum:1,pageSize:5},list:[],listTotal:0,multipleSelection:[]}},created:function(){this.searchList.shopId=this.shop.shopId},methods:{sub:function(){console.log("multipleSelection",this.multipleSelection),0!=this.multipleSelection.length?(this.$emit("bargainCommodityFun",this.multipleSelection),this.$refs.multipleTable.clearSelection()):this.$message.error("请选择商品后再试")},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.searchList.pageSize=t,this.getData()},handleCurrentChange:function(t){console.log("当前页: "+t),this.searchList.pageNum=t,this.getData()},reset:function(){this.searchList.activeName="",this.getData()},getData:function(){var t=this;this.fromLoading=!0,this.searchList.bargainIds=this.bargainIds||"",console.log("请求的数据",this.searchList),Object(l.d)(this.searchList).then(function(e){console.log("数据列表",e),200==e.code&&(t.list=e.data.list,t.listTotal=e.data.total),t.fromLoading=!1})},close:function(){this.$emit("bargainCommodityClose",!0)},change:function(){this.$forceUpdate()}},computed:o()({},Object(s.c)(["user","shop"]))},r=(a("Lcey"),a("KHd+")),c=Object(r.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{"append-to-body":!0,title:"新增活动商品",visible:t.bargainCommodityShow,width:"70%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.bargainCommodityShow=e}}},[a("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[a("div",[a("i",{staticClass:"el-icon-search"}),t._v(" "),a("span",[t._v("筛选搜索")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.getData}},[t._v("查询")]),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:t.reset}},[t._v("重置")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.searchList,size:"small","label-width":"140px"}},[a("el-form-item",{attrs:{label:"活动名称："}},[a("el-input",{staticStyle:{width:"203px"},attrs:{clearable:"",placeholder:"活动名称"},on:{input:function(e){t.change(e)}},model:{value:t.searchList.activeName,callback:function(e){t.$set(t.searchList,"activeName",e)},expression:"searchList.activeName"}})],1)],1)],1)]),t._v(" "),a("el-card",{staticClass:"filter-container",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品图片",prop:"productName",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"right",title:"",trigger:"hover"}},[a("el-image",{staticStyle:{"max-height":"40px","max-width":"40px"},attrs:{slot:"reference",src:e.row.imageUrl,alt:e.row.imageUrl},slot:"reference"}),t._v(" "),a("el-image",{staticStyle:{"max-height":"350px","max-width":"350px"},attrs:{src:e.row.imageUrl}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"活动名称",prop:"activeName"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",prop:"productName",width:"300"}}),t._v(" "),a("el-table-column",{attrs:{label:"开始时间",prop:"beginTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"结束时间",prop:"endTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"活动状态",prop:"endTime"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.activityStatus?a("div",{staticClass:"warningFont"},[t._v("未开始")]):t._e(),t._v(" "),1==e.row.activityStatus?a("div",[t._v("进行中")]):t._e(),t._v(" "),2==e.row.activityStatus?a("div",{staticClass:"dangerFont"},[t._v("已结束")]):t._e(),t._v(" "),3==e.row.activityStatus?a("div",{staticClass:"dangerFont"},[t._v("已失效")]):t._e()]}}])})],1),t._v(" "),a("div",{staticStyle:{padding:"10px 0 20px 0"}},[a("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":t.searchList.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.listTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.close}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.sub}},[t._v("确 定")])],1)],1)},[],!1,null,null,null);c.options.__file="bargainCommodity.vue";var m=c.exports,d={props:{itemData:{type:Object}},data:function(){return{bargainCommodityShow:!1,checked:!0,hoverIndex:-1,loadingbut:!1,loadingbuttext:"确 定",loading:!1,bargainIds:""}},methods:{bargainCommodityClose:function(){this.bargainCommodityShow=!1},bargainCommodityFun:function(t){var e=this;console.log("父",t),this.itemData.goodsData[0].showFalse&&(this.itemData.goodsData=[]),t.forEach(function(t){e.itemData.goodsData.push(t),e.itemData.bargainIds.push(t.bargainId)}),console.log("选择完数据后的商品列表",this.itemData.goodsData),this.bargainCommodityShow=!1},showType:function(){switch(this.itemData.listType){case 0:this.itemData.chamferingStyle="8px",this.itemData.projectionStyle="0px 0px 0px 0px";break;case 1:this.itemData.chamferingStyle="8px",this.itemData.projectionStyle="0px 2px 2px 0px rgba(153,153,153,0.1)";break;case 2:this.itemData.chamferingStyle=0,this.itemData.projectionStyle="0px 0px 0px 0px";break;case 3:this.itemData.chamferingStyle=0,this.itemData.projectionStyle="0px 2px 2px 0px rgba(153,153,153,0.1)";break;case 4:this.itemData.chamferingStyle=0,this.itemData.projectionStyle="0px 0px 0px 0px";break;case 5:this.itemData.chamferingStyle="8px",this.itemData.projectionStyle="0px 0px 0px 0px"}},mouseOver:function(t){this.hoverIndex=t},mouseLeave:function(){this.hoverIndex=-1},delGoods:function(t){this.itemData.goodsData.splice(t,1),this.itemData.bargainIds.splice(t,1),0==this.itemData.goodsData.length&&this.itemData.goodsData.push({productName:"这里是商品名称，最多展示2行，超出将...",activityPrice:"688.00",minPrice:"999.99",imageUrl:"",showFalse:!0,activityStatus:1})}},components:{bargainCommodity:m}},h=(a("kVM8"),Object(r.a)(d,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"itemBox"},[i("p",{staticClass:"title"},[t._v("砍价")]),t._v(" "),i("el-form",{ref:"form",attrs:{model:t.itemData,size:"mini"}},[i("el-form-item",{attrs:{label:"砍价专区名称"}},[i("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:t.itemData.title,callback:function(e){t.$set(t.itemData,"title",e)},expression:"itemData.title"}})],1),t._v(" "),i("el-form-item",{staticClass:"navigation",attrs:{label:"添加活动商品"}},[i("div",{staticClass:"goodsUpload",on:{click:function(e){t.bargainCommodityShow=!0}}},[t._v("+")]),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:0!=t.itemData.goodsData.length,expression:"itemData.goodsData.length!=0"}],staticClass:"goodsUploadList"},t._l(t.itemData.goodsData,function(e,o){return i("li",{directives:[{name:"show",rawName:"v-show",value:!e.showFalse,expression:"!item.showFalse"}],key:o,on:{mouseover:function(e){t.mouseOver(o)},mouseleave:t.mouseLeave}},[i("img",{attrs:{src:e.imageUrl,alt:""}}),t._v(" "),i("img",{staticClass:"delBtn",class:t.hoverIndex==o?"delBtnShow":"",attrs:{src:a("/vX6"),alt:""},on:{click:function(e){t.delGoods(o)}}})])}))]),t._v(" "),i("el-form-item",{staticClass:"navigation",attrs:{label:"列表样式"}},[i("el-radio-group",{on:{change:t.showType},model:{value:t.itemData.listType,callback:function(e){t.$set(t.itemData,"listType",e)},expression:"itemData.listType"}},[i("el-radio",{attrs:{label:0}},[t._v("圆角")]),t._v(" "),i("el-radio",{attrs:{label:1}},[t._v("圆角有投影")]),t._v(" "),i("el-radio",{attrs:{label:2}},[t._v("直角")]),t._v(" "),i("el-radio",{attrs:{label:3}},[t._v("直角有投影")])],1)],1),t._v(" "),i("el-form-item",{staticClass:"checkboxGroup",attrs:{label:"显示内容"}},[i("el-checkbox",{attrs:{disabled:""},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("商品名称")]),t._v(" "),i("el-checkbox",{attrs:{disabled:""},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("底价")]),t._v(" "),i("el-checkbox",{attrs:{disabled:""},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("去砍价按钮")]),t._v(" "),i("el-checkbox",{model:{value:t.itemData.lineation,callback:function(e){t.$set(t.itemData,"lineation",e)},expression:"itemData.lineation"}},[t._v("划线原价")]),t._v(" "),i("el-checkbox",{model:{value:t.itemData.showMore,callback:function(e){t.$set(t.itemData,"showMore",e)},expression:"itemData.showMore"}},[t._v("查看更多")]),t._v(" "),i("p",[t._v("店铺所有参与砍价活动的商品可以在【查看更多】中的【全部砍价】页面展示。建议显示")])],1)],1),t._v(" "),i("bargainCommodity",{attrs:{bargainCommodityShow:t.bargainCommodityShow,bargainIds:t.itemData.bargainIds.join(",")},on:{bargainCommodityClose:t.bargainCommodityClose,bargainCommodityFun:t.bargainCommodityFun}})],1)},[],!1,null,"aaa4d6e8",null));h.options.__file="editorBargainBox.vue";e.default=h.exports},Lcey:function(t,e,a){"use strict";var i=a("YrKO");a.n(i).a},YrKO:function(t,e,a){},kVM8:function(t,e,a){"use strict";var i=a("pN0b");a.n(i).a},lmFE:function(t,e,a){"use strict";a.d(e,"b",function(){return o}),a.d(e,"a",function(){return s}),a.d(e,"d",function(){return l}),a.d(e,"c",function(){return n});var i=a("t3Un");function o(t){return Object(i.a)({url:"/sys/business/shopActivity/getBargainActivityList",method:"post",data:t})}function s(t){return Object(i.a)({url:"/sys/business/shopActivity/getBargainActivityImg?shopId="+t.shopId+"&productId="+t.productId,method:"get"})}function l(t){return Object(i.a)({url:"/sys/business/shopActivity/getBargainSubgroupProductPage",method:"post",data:t})}function n(t){return Object(i.a)({url:"/sys/business/shopActivity/getBargainSubgroupInfo?bargainIds="+t,method:"get"})}},pN0b:function(t,e,a){}}]);
//# sourceMappingURL=chunk-700e.5cd3370e.js.map