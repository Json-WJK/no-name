(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a442"],{"5k57":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("oF3Q"),s=n.n(i);function a(t){var e=arguments,n="";return s()(t).forEach(function(t){"[object Object]"==Object.prototype.toString.call(t[1])?e.callee(t[1]):n+=t.join("=")+"&"}),n.substring(0,n.length-1)}},E8gZ:function(t,e,n){var i=n("jmDH"),s=n("w6GO"),a=n("NsO/"),o=n("NV0k").f;t.exports=function(t){return function(e){for(var n,r=a(e),l=s(r),c=l.length,u=0,h=[];c>u;)n=l[u++],i&&!o.call(r,n)||h.push(t?[n,r[n]]:r[n]);return h}}},"c+mu":function(t,e,n){"use strict";var i=n("tbI0");n.n(i).a},nGDx:function(t,e,n){var i=n("Y7ZC"),s=n("E8gZ")(!0);i(i.S,"Object",{entries:function(t){return s(t)}})},nP1G:function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"t",function(){return a}),n.d(e,"n",function(){return o}),n.d(e,"r",function(){return r}),n.d(e,"p",function(){return l}),n.d(e,"o",function(){return c}),n.d(e,"b",function(){return u}),n.d(e,"i",function(){return h}),n.d(e,"e",function(){return d}),n.d(e,"h",function(){return p}),n.d(e,"f",function(){return m}),n.d(e,"q",function(){return f}),n.d(e,"m",function(){return g}),n.d(e,"l",function(){return b}),n.d(e,"d",function(){return v}),n.d(e,"k",function(){return _}),n.d(e,"a",function(){return y}),n.d(e,"g",function(){return k}),n.d(e,"s",function(){return C}),n.d(e,"j",function(){return w});var i=n("t3Un");function s(t){return Object(i.a)({url:"/sys/business/shopChannel/findChannelUserList",method:"post",data:t})}function a(t){return Object(i.a)({url:"/sys/business/shopChannel/updateChannelUserStatus",method:"post",data:t})}function o(t){return Object(i.a)({url:"/sys/business/shopChannel/findChannelUserByParentId",method:"post",data:t})}function r(t){return Object(i.a)({url:"/sys/business/shopChannel/removeBindByid",method:"post",data:t})}function l(t){return Object(i.a)({url:"/sys/business/shopChannel/initChannelGroupList",method:"post",data:t})}function c(t){return Object(i.a)({url:"/sys/business/shopChannel/verificationGroupCapacity",method:"post",data:t})}function u(t){return Object(i.a)({url:"/sys/business/shopChannel/changeChannelUserGroup",method:"post",data:t})}function h(t){return Object(i.a)({url:"/sys/business/shopChannel/findChannelGroupList",method:"post",data:t})}function d(t){return Object(i.a)({url:"/sys/business/shopChannel/verificationGroupName",method:"post",data:t})}function p(t){return Object(i.a)({url:"/sys/business/shopChannel/editChannelGroup",method:"post",data:t})}function m(t){return Object(i.a)({url:"/sys/business/shopChannel/deleteChannelGroup",method:"post",data:t})}function f(t){return Object(i.a)({url:"/sys/business/shopChannel/initChannelUserList",method:"post",data:t})}function g(t){return Object(i.a)({url:"/sys/business/shopChannel/findChannelUserByGroupId",method:"post",data:t})}function b(t){return Object(i.a)({url:"/sys/business/shopChannel/findChannelUserApplyRecordList",method:"post",data:t})}function v(t){return Object(i.a)({url:"/sys/business/shopChannel/checkApplyState",method:"post",data:t})}function _(t){return Object(i.a)({url:"/sys/business/shopChannel/findChannelRecruitInfoList",method:"post",data:t})}function y(t){return Object(i.a)({url:"/sys/business/shopChannel/addChannelRecruitInfo",method:"post",data:t})}function k(t){return Object(i.a)({url:"/sys/business/shopChannel/deleteChannelRecruitInfoById",method:"post",data:t})}function C(t){return Object(i.a)({url:"/sys/business/shopChannel/updateChannelRecruitInfo",method:"post",data:t})}function w(t){return Object(i.a)({url:"/sys/business/shopChannel/findChannelRecruitInfoById",method:"post",data:t})}},oF3Q:function(t,e,n){t.exports={default:n("tgZa"),__esModule:!0}},qoqb:function(t,e,n){"use strict";n.r(e);var i=n("5k57"),s=n("nP1G"),a={props:["status","user","shop"],data:function(){return{list:{channelUsernickName:"",channelUserPhone:"",invitationState:"",inviternickName:"",inviterPhone:"",groupId:"",registerTime:""},group:{groupId:""},dialogFormVisible:!1,dialogFormVisibleOne:!1,dialogFormVisibleGroup:!1,id:"",tableList:[],multipleSelection:[],groupList:[],pageNum:1,page_size:10,total:0,loading:!1,pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){var e=new Date;e.setTime(e.getTime()),e.setHours(e.getHours()),e.setMinutes(e.getMinutes()),e.setSeconds(e.getSeconds());var n=new Date;n.setTime(n.getTime()),n.setHours(0),n.setMinutes(0),n.setSeconds(0),t.$emit("pick",[n,e])}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),e.setHours(23),e.setMinutes(59),e.setSeconds(59);var n=new Date;n.setTime(n.getTime()-864e5),n.setHours(0),n.setMinutes(0),n.setSeconds(0),t.$emit("pick",[n,e])}},{text:"最近一周",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-6048e5),t.$emit("pick",[n,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-2592e6),t.$emit("pick",[n,e])}}]},invitationStateList:[{value:"",label:"全部"},{value:"0",label:"无"},{value:"1",label:"有"}]}},created:function(){this.searchList(),this.searchGroupList()},mounted:function(){},methods:{searchGroupList:function(){var t=this;Object(s.p)({shopId:this.shop.shopId}).then(function(e){200==e.code?t.groupList=e.data:t.$notify.error({title:"错误",message:e.message})}).catch(function(t){console.log(t)})},searchList:function(){var t=this;this.loading=!0,Object(s.c)({shopId:this.shop.shopId,pageNum:this.pageNum,pageSize:this.page_size,channelUsernickName:this.list.channelUsernickName,channelUserPhone:this.list.channelUserPhone,invitationState:this.list.invitationState,inviterPhone:this.list.inviterPhone,inviternickName:this.list.inviternickName,groupId:this.list.groupId,startCreateTime:null==this.list.registerTime?"":this.list.registerTime[0],endCreateTime:null==this.list.registerTime?"":this.list.registerTime[1]}).then(function(e){200==e.code?(t.tableList=e.data.list,t.total=e.data.total,t.loading=!1):t.$notify.error({title:"错误",message:e.message})}).catch(function(t){console.log(t)})},handleSelectionChange:function(t){this.multipleSelection=t},changeGroup:function(){if(0!=this.multipleSelection.length){this.dialogFormVisibleGroup=!0;var t=this.groupList.find(function(t){return 1==t.isDefault});this.group.groupId=t.id}else this.$message({message:"请选择要操作的分销员",type:"warning",duration:1e3})},setDistriGroup:function(){var t=this;Object(s.o)({shopId:this.shop.shopId,groupId:this.group.groupId,count:this.multipleSelection.length}).then(function(e){if(1==e.data){var n=t.multipleSelection.map(function(t){return t.cUserId});Object(s.b)({shopId:t.shop.shopId,groupId:t.group.groupId,ids:n}).then(function(e){1==e.data?(t.$notify({title:"成功",type:"success",message:e.message}),t.dialogFormVisibleGroup=!1,t.searchList()):t.$notify.error({title:"失败",message:e.message})})}else t.$notify.error({title:"错误",message:e.message})})},showDetails:function(t){this.$router.push({path:"/distributionManagement/distributor/juniorDistributor",query:{id:t.cUserId,channelUsernickName:t.channelUsernickName,channelGroupName:t.channelGroupName,channelUserPhone:t.channelUserPhone}})},auditTrue:function(t,e){0==t&&(this.dialogFormVisible=!0),1==t&&(this.dialogFormVisibleOne=!0),this.id=e.id},audit:function(t){var e=this;Object(s.t)({shopId:this.shop.shopId,id:this.id,state:t}).then(function(t){200==t.code?(e.$notify({title:"成功",type:"success",message:"操作成功",duration:3e3}),e.dialogFormVisible=!1,e.dialogFormVisibleOne=!1,e.searchList()):e.$notify.error({message:t.message,title:"失败"})}).catch(function(t){console.log(t)})},exportExcel:function(){var t={shopId:this.shop.shopId,pageNum:this.pageNum,pageSize:this.page_size,channelUsernickName:this.list.channelUsernickName,channelUserPhone:this.list.channelUserPhone,invitationState:this.list.invitationState,inviterPhone:this.list.inviterPhone,inviternickName:this.list.inviternickName,groupId:this.list.groupId,startCreateTime:null==this.list.registerTime?"":this.list.registerTime[0],endCreateTime:null==this.list.registerTime?"":this.list.registerTime[1]},e=Object(i.a)(t);window.open("/sys/business/shopChannel/exportChannelUserInfo?"+e)},handleClose:function(){this.dialogFormVisibleTwo=!1,this.form.name="",this.form.orderID=void 0,this.orderNo="",this.form.month="",this.form.buyTime=""},reset:function(){this.list={channelUsernickName:"",channelUserPhone:"",invitationState:"",inviternickName:"",inviterPhone:"",groupId:"",registerTime:""},this.searchList()},handleSizeChange:function(t){this.page_size=t,this.searchList()},pageChange:function(t){this.pageNum=t,this.searchList()}},computed:{startTime:function(){return this.status}},watch:{}},o=(n("c+mu"),n("KHd+")),r=Object(o.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[n("div",[n("i",{staticClass:"el-icon-search"}),t._v(" "),n("span",[t._v("筛选搜索")]),t._v(" "),n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.searchList}},[t._v("\n        查询\n      ")]),t._v(" "),n("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:t.reset}},[t._v("\n        重置\n      ")])],1),t._v(" "),n("div",{staticStyle:{"margin-top":"40px"}},[n("el-form",{attrs:{inline:!0,model:t.list,size:"small","label-width":"140px"}},[n("el-form-item",{attrs:{label:"分销员昵称："}},[n("el-input",{attrs:{clearable:"",placeholder:"分销员昵称"},model:{value:t.list.channelUsernickName,callback:function(e){t.$set(t.list,"channelUsernickName",e)},expression:"list.channelUsernickName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"分销员手机号："}},[n("el-input",{attrs:{clearable:"",placeholder:"分销员手机号"},model:{value:t.list.channelUserPhone,callback:function(e){t.$set(t.list,"channelUserPhone",e)},expression:"list.channelUserPhone"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"邀请方昵称："}},[n("el-input",{attrs:{clearable:"",placeholder:"邀请方昵称"},model:{value:t.list.inviternickName,callback:function(e){t.$set(t.list,"inviternickName",e)},expression:"list.inviternickName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"邀请方手机号："}},[n("el-input",{attrs:{clearable:"",placeholder:"邀请方手机号"},model:{value:t.list.inviterPhone,callback:function(e){t.$set(t.list,"inviterPhone",e)},expression:"list.inviterPhone"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"是否有邀请方："}},[n("el-select",{attrs:{clearable:"",placeholder:"默认选择全部"},model:{value:t.list.invitationState,callback:function(e){t.$set(t.list,"invitationState",e)},expression:"list.invitationState"}},t._l(t.invitationStateList,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),n("el-form-item",{attrs:{label:"加入时间："}},[n("el-date-picker",{attrs:{type:"datetimerange","value-format":"yyyy-MM-dd HH-mm-ss","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.list.registerTime,callback:function(e){t.$set(t.list,"registerTime",e)},expression:"list.registerTime"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"按分组查看："}},[n("el-select",{attrs:{clearable:"",placeholder:"默认选择全部"},model:{value:t.list.groupId,callback:function(e){t.$set(t.list,"groupId",e)},expression:"list.groupId"}},t._l(t.groupList,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1)],1)]),t._v(" "),n("el-card",{staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[n("div",{staticClass:"flex-row-between"},[n("div",[n("i",{staticClass:"el-icon-tickets"}),t._v(" "),n("span",[t._v("数据列表")]),t._v(" "),n("span",{staticStyle:{"margin-left":"20px",color:"#f59a23","font-weight":"500","font-size":"20px"}},[t._v("分销员总数："+t._s(t.total))])]),t._v(" "),n("div",[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.exportExcel()}}},[t._v("\n          导出Excel\n        ")])],1)])]),t._v(" "),n("el-card",{staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableList,border:""},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{label:"分销员昵称",width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.channelUsernickName))]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"分销员手机号",width:"120",prop:"channelUserPhone",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"标识码",width:"160",prop:"inviteCode",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"所属分组",width:"200",prop:"channelGroupName",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"邀请方昵称",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(""==e.row.inviternickName?"--":e.row.inviternickName)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"邀请方手机号",width:"130",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(""==e.row.inviterPhone?"--":e.row.inviterPhone)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"130",prop:"orderTotal",align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"累计成交笔数是指该分销员转发成功下单和有绑定关系的客户成功下单；",placement:"top"}},[n("el-button",{staticStyle:{color:"#909399","font-weight":"600"},attrs:{type:"text"}},[t._v("累计成交笔数"),n("i",{staticClass:"el-icon-question"})])],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"165",prop:"orderAmount",align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"累计分销商品交易额是指该分销员转发成功下单和邀请成功的客户关联的订单支付成功的分销商品交易额；",placement:"top"}},[n("el-button",{staticStyle:{color:"#909399","font-weight":"600"},attrs:{type:"text"}},[t._v("累计分销商品交易额"),n("i",{staticClass:"el-icon-question"})])],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"累计分到佣金（不剔除退款）",width:"240",prop:"commissionAmount",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"累计分到邀请奖励",width:"180",prop:"inviteAmount",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"加入时间",width:"160",prop:"createTime",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"状态",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.state?n("span",[t._v("正常")]):t._e(),t._v(" "),1===e.row.state?n("span",[t._v("锁定")]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.state?n("el-button",{staticClass:"button_mian",attrs:{type:"text"},on:{click:function(n){t.auditTrue(0,e.row)}}},[t._v("解冻")]):t._e(),t._v(" "),0===e.row.state?n("el-button",{staticClass:"button_mian",attrs:{type:"text"},on:{click:function(n){t.auditTrue(1,e.row)}}},[t._v("冻结")]):t._e(),t._v(" "),n("el-button",{staticClass:"button_mian",attrs:{type:"text"},on:{click:function(n){t.showDetails(e.row)}}},[t._v("查看绑定客户")])]}}])})],1),t._v(" "),n("div",{staticClass:"flex-row-between",staticStyle:{"padding-top":"20px"}},[n("div",[n("el-button",{attrs:{type:"primary"},on:{click:t.changeGroup}},[t._v("批量修改分组")])],1),t._v(" "),n("el-pagination",{staticStyle:{"margin-top":"10px","margin-left":"20px"},attrs:{background:"",layout:"total,sizes,prev,pager,next,jumper","page-size":t.page_size,"page-sizes":[10,30,50],"current-page":t.pageNum,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.pageChange}})],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"分销员解冻",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("span",{staticStyle:{"margin-left":"10%","font-weight":"600"}},[t._v("您确定要解冻该分销员？")]),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.audit(0)}}},[t._v("确 定")])],1)]),t._v(" "),n("el-dialog",{attrs:{title:"分销员冻结",visible:t.dialogFormVisibleOne},on:{"update:visible":function(e){t.dialogFormVisibleOne=e}}},[n("span",{staticStyle:{"margin-left":"10%","font-weight":"600"}},[t._v("冻结账号后分销员分享不再得钱，商城会做提示该分销员已冻结，但是可以能提现，冻结后分销员不再分佣。")]),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisibleOne=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.audit(1)}}},[t._v("确 定")])],1)]),t._v(" "),n("el-dialog",{attrs:{title:"设置分销员分组",visible:t.dialogFormVisibleGroup,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisibleGroup=e}}},[n("el-form",{attrs:{size:"small","label-width":"140px"}},[n("el-form-item",{attrs:{label:"按分组查看："}},[n("el-select",{attrs:{placeholder:"默认分组"},model:{value:t.group.groupId,callback:function(e){t.$set(t.group,"groupId",e)},expression:"group.groupId"}},t._l(t.groupList,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisibleGroup=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.setDistriGroup}},[t._v("确 定")])],1)],1)],1)},[],!1,null,"6960415a",null);r.options.__file="distributorList.vue";e.default=r.exports},tbI0:function(t,e,n){},tgZa:function(t,e,n){n("nGDx"),t.exports=n("WEpk").Object.entries}}]);
//# sourceMappingURL=chunk-a442.87faa58c.js.map