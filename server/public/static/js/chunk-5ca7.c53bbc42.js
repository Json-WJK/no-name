(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5ca7"],{"2gUd":function(e,t,i){"use strict";var r=i("yR6R");i.n(r).a},LhgM:function(e,t,i){"use strict";i.d(t,"b",function(){return s}),i.d(t,"c",function(){return o}),i.d(t,"a",function(){return a});var r=i("t3Un");function s(e,t){return Object(r.a)({url:"/order/mall/district/getSysDistrict",method:"post",data:{level:e,code:t}})}function o(){return Object(r.a)({url:"/sys/business/shopInfo/getShopCategoryList",method:"get"})}function a(e){return Object(r.a)({url:"/sys/business/shopInfo/addShop",method:"post",data:e})}},smdy:function(e,t,i){"use strict";i.r(t);var r=i("QbLZ"),s=i.n(r),o=i("L2JU"),a=i("LhgM"),n=i("t3Un");var c={data:function(){return{searchList:{pageNum:1,pageSize:5},list:[],listTotal:0,dataLoading:!1,newForm:{},newShow:!1,newSubLoading:!1,addressList1:[],addressList2:[],addressList3:[],editForm:{},editShow:!1,editSubLoading:!1,editaddressList1:[],editaddressList2:[],editaddressList3:[]}},created:function(){this.searchList.shopId=this.shop.shopId,this.getData(),this.getAddressInput(1,"")},methods:{selectDisposeCode:function(){this.$forceUpdate()},showEdit:function(e){var t=this;this.editShow=!0,function(e){return Object(n.a)({url:"/sys/shop/return/shopReturnDetail?id="+e,method:"get"})}(e).then(function(e){console.log("数据详情",e),t.editForm=e.data,t.editForm.isDefault=""+t.editForm.isDefault,t.editForm.province={name:e.data.receiverProvinceName,code:e.data.receiverProvinceCode},t.getAddressInput(2,e.data.receiverProvinceCode),t.editForm.city={name:e.data.receiverCityName,code:e.data.receiverCityCode},t.getAddressInput(3,e.data.receiverCityCode),t.editForm.district={name:e.data.receiverDistrictName,code:e.data.receiverDistrictCode}})},editSub:function(){var e=this;console.log("editForm",this.editForm),this.editForm.receiverName?this.editForm.receiverPhone?this.editForm.province&&this.editForm.city&&this.editForm.district?(this.editForm.receiverProvinceName=this.editForm.province.name,this.editForm.receiverProvinceCode=this.editForm.province.code,this.editForm.receiverCityName=this.editForm.city.name,this.editForm.receiverCityCode=this.editForm.city.code,this.editForm.receiverDistrictName=this.editForm.district.name,this.editForm.receiverDistrictCode=this.editForm.district.code,this.editForm.receiverAddress?(this.editForm.shopId=this.shop.shopId,this.editSubLoading=!0,function(e){return Object(n.a)({url:"/sys/shop/return/updateShopReturn",method:"post",data:e})}(this.editForm).then(function(t){console.log("编辑收货地址",t),200==t.code?(e.$message({message:"编辑成功",type:"success"}),e.getData(),e.clearEditForm(),e.editShow=!1,setTimeout(function(){e.editSubLoading=!1},1e3)):(e.$message.error(t.message),e.editSubLoading=!1)})):this.$message.error("请填写详细地址")):this.$message.error("请选择省市区"):this.$message.error("请填写发货人联系电话"):this.$message.error("请填写发货人姓名")},setDefault:function(e){var t=this;(function(e){return Object(n.a)({url:"/sys/shop/return/setDefaultReturn",method:"post",data:e})})({id:e,shopId:this.shop.shopId}).then(function(e){console.log("设置默认",e),200==e.code?(t.$message({message:"设置成功",type:"success"}),t.getData()):t.$message.error(e.message)})},deleteItem:function(e){var t=this;this.$confirm("此操作将删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){(function(e){return Object(n.a)({url:"/sys/shop/return/deleteDefaultReturn",method:"post",data:e})})({id:e}).then(function(e){console.log("删除",e),200==e.code?(t.$message({message:"删除成功",type:"success"}),t.getData()):t.$message.error(e.message)})}).catch(function(){})},getAddressInput:function(e,t){var i=this;Object(a.b)(e,t).then(function(t){console.log(e+"级下拉获取下拉框地址",t),1!=e?2!=e?3!=e||(i.addressList3=t.data):i.addressList2=t.data:i.addressList1=t.data})},getData:function(){var e=this;this.dataLoading=!0,console.log("请求列表的数据",this.searchList),function(e){return Object(n.a)({url:"/sys/shop/return/getReturnPage",method:"post",data:e})}(this.searchList).then(function(t){console.log("获取数据列表",t),e.list=t.data.list,e.listTotal=t.data.total,e.dataLoading=!1})},newSub:function(){var e=this;console.log("newForm",this.newForm),this.newForm.receiverName?this.newForm.receiverPhone?this.newForm.province&&this.newForm.city&&this.newForm.district?(this.newForm.receiverProvinceName=this.newForm.province.name,this.newForm.receiverProvinceCode=this.newForm.province.code,this.newForm.receiverCityName=this.newForm.city.name,this.newForm.receiverCityCode=this.newForm.city.code,this.newForm.receiverDistrictName=this.newForm.district.name,this.newForm.receiverDistrictCode=this.newForm.district.code,this.newForm.receiverAddress?(this.newForm.shopId=this.shop.shopId,this.newSubLoading=!0,function(e){return Object(n.a)({url:"/sys/shop/return/insertShopReturn",method:"post",data:e})}(this.newForm).then(function(t){console.log("新增收货地址",t),200==t.code?(e.$message({message:"创建成功",type:"success"}),e.getData(),e.clearNewForm(),e.newShow=!1,setTimeout(function(){e.newSubLoading=!1},1e3)):(e.$message.error(t.message),e.newSubLoading=!1)})):this.$message.error("请填写详细地址")):this.$message.error("请选择省市区"):this.$message.error("请填写发货人联系电话"):this.$message.error("请填写发货人姓名")},clearNewForm:function(){this.newForm.receiverName="",this.newForm.receiverPhone="",this.newForm.province={},this.newForm.city={},this.addressList2=[],this.newForm.district={},this.addressList3=[],this.newForm.receiverAddress="",this.newForm.isDefault=0},clearEditForm:function(){this.editForm.receiverName="",this.editForm.receiverPhone="",this.editForm.province={},this.editForm.city={},this.addressList2=[],this.editForm.district={},this.addressList3=[],this.editForm.receiverAddress="",this.editForm.isDefault=0},address1:function(e){console.log("执行了1",e),this.addressList2=[],this.addressList3=[],this.newShow&&(this.newForm.city&&(this.newForm.city={}),this.newForm.district&&(this.newForm.district={})),this.editShow&&(this.editForm.city&&(this.editForm.city={}),this.editForm.district&&(this.editForm.district={})),this.getAddressInput(2,e.code)},address2:function(e){console.log("执行了2",e),this.addressList3=[],this.newShow&&this.newForm.district&&(this.newForm.district={}),this.editShow&&this.editForm.district&&(this.editForm.district={}),this.getAddressInput(3,e.code)},reset:function(){this.searchList.sendUserName="",this.searchList.telephone="",this.getData()},handleSizeChange:function(e){this.searchList.pageSize=e,this.getData(),console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.searchList.pageNum=e,this.getData(),console.log("当前页: "+e)},change:function(e){this.$forceUpdate()}},computed:s()({},Object(o.c)(["user","shop"]))},l=(i("2gUd"),i("KHd+")),d=Object(l.a)(c,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pageContent"},[i("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[i("div",[i("i",{staticClass:"el-icon-search"}),e._v(" "),i("span",[e._v("筛选搜索")]),e._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:e.getData}},[e._v("查询")]),e._v(" "),i("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:e.reset}},[e._v(" 重置")])],1),e._v(" "),i("div",{staticStyle:{"margin-top":"15px"}},[i("el-form",{attrs:{inline:!0,model:e.searchList,size:"small","label-width":"140px"}},[i("el-form-item",{attrs:{label:"联系人姓名："}},[i("el-input",{staticStyle:{width:"203px"},attrs:{clearable:"",placeholder:"联系人姓名"},on:{input:function(t){e.change(t)}},model:{value:e.searchList.sendUserName,callback:function(t){e.$set(e.searchList,"sendUserName","string"==typeof t?t.trim():t)},expression:"searchList.sendUserName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"联系电话："}},[i("el-input",{staticStyle:{width:"203px"},attrs:{clearable:"",placeholder:"联系电话"},on:{input:function(t){e.change(t)}},model:{value:e.searchList.telephone,callback:function(t){e.$set(e.searchList,"telephone","string"==typeof t?t.trim():t)},expression:"searchList.telephone"}})],1)],1)],1)]),e._v(" "),i("el-card",{staticClass:"operate-container",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[i("div",{staticClass:"flex-row-between",staticStyle:{width:"100%"}},[i("div",[i("i",{staticClass:"el-icon-tickets"}),e._v(" "),i("span",[e._v("数据列表")])]),e._v(" "),i("div",{staticStyle:{"padding-right":"20px"}},[i("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.newShow=!0}}},[e._v("新增物流地址")])],1)])]),e._v(" "),i("div",[i("el-card",{staticClass:"filter-container",staticStyle:{"margin-top":"20px"},attrs:{shadow:"never"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list}},[i("el-table-column",{attrs:{label:"联系人姓名",prop:"receiverName"}}),e._v(" "),i("el-table-column",{attrs:{label:"联系电话",prop:"receiverPhone"}}),e._v(" "),i("el-table-column",{attrs:{label:"所在地区",prop:"area"}}),e._v(" "),i("el-table-column",{attrs:{label:"详细地址",prop:"receiverAddress"}}),e._v(" "),i("el-table-column",{attrs:{label:"默认"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.isDefault?i("div",[e._v("是")]):e._e(),e._v(" "),0==t.row.isDefault?i("div",[e._v("否")]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.isDefault?i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){e.setDefault(t.row.id)}}},[e._v("设为默认")]):e._e(),e._v(" "),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){e.showEdit(t.row.id)}}},[e._v("编辑")]),e._v(" "),0==t.row.isDefault?i("el-button",{staticClass:"dangerFont",attrs:{type:"text",size:"small"},on:{click:function(i){e.deleteItem(t.row.id)}}},[e._v("删除")]):e._e()]}}])})],1)],1),e._v(" "),i("div",{staticClass:"pageDown"},[i("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":e.searchList.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.listTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"新增物流地址",visible:e.newShow,width:"70%"},on:{"update:visible":function(t){e.newShow=t}}},[i("el-form",{ref:"newForm",staticClass:"demo-ruleForm",attrs:{model:e.newForm,"label-width":"140px"}},[i("el-form-item",{attrs:{label:"联系人姓名：",required:""}},[i("el-input",{staticStyle:{"max-width":"400px"},attrs:{maxlength:"10","show-word-limit":""},model:{value:e.newForm.receiverName,callback:function(t){e.$set(e.newForm,"receiverName","string"==typeof t?t.trim():t)},expression:"newForm.receiverName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"联系电话：",required:""}},[i("el-input",{staticStyle:{"max-width":"400px"},attrs:{maxlength:"11","show-word-limit":""},model:{value:e.newForm.receiverPhone,callback:function(t){e.$set(e.newForm,"receiverPhone","string"==typeof t?t.trim():t)},expression:"newForm.receiverPhone"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"自提点地址：",required:""}},[i("div",{staticClass:"flex-row-start"},[i("el-form-item",{staticStyle:{"margin-right":"10px"}},[i("el-select",{attrs:{"value-key":"code",placeholder:"请选择省"},on:{change:e.address1},model:{value:e.newForm.province,callback:function(t){e.$set(e.newForm,"province",t)},expression:"newForm.province"}},e._l(e.addressList1,function(e){return i("el-option",{key:e.code,attrs:{label:e.name,value:e}})}))],1),e._v(" "),i("el-form-item",{staticStyle:{"margin-right":"10px"}},[i("el-select",{attrs:{"value-key":"code",placeholder:"请选择市"},on:{change:e.address2},model:{value:e.newForm.city,callback:function(t){e.$set(e.newForm,"city",t)},expression:"newForm.city"}},e._l(e.addressList2,function(e){return i("el-option",{key:e.code,attrs:{label:e.name,value:e}})}))],1),e._v(" "),i("el-form-item",[i("el-select",{attrs:{"value-key":"code",placeholder:"请选择区"},model:{value:e.newForm.district,callback:function(t){e.$set(e.newForm,"district",t)},expression:"newForm.district"}},e._l(e.addressList3,function(e){return i("el-option",{key:e.code,attrs:{label:e.name,value:e}})}))],1)],1)]),e._v(" "),i("el-form-item",{attrs:{label:"详细地址：",required:""}},[i("el-input",{staticStyle:{"max-width":"400px"},attrs:{maxlength:"50","show-word-limit":""},model:{value:e.newForm.receiverAddress,callback:function(t){e.$set(e.newForm,"receiverAddress","string"==typeof t?t.trim():t)},expression:"newForm.receiverAddress"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"设为默认"}},[i("el-switch",{attrs:{"inactive-value":"0","active-value":"1"},model:{value:e.newForm.isDefault,callback:function(t){e.$set(e.newForm,"isDefault",t)},expression:"newForm.isDefault"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{loading:e.newSubLoading,type:"primary"},on:{click:function(t){e.newSub("newForm")}}},[e._v("立即创建")]),e._v(" "),i("el-button",{on:{click:function(t){e.newShow=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"编辑物流地址",visible:e.editShow,width:"70%"},on:{"update:visible":function(t){e.editShow=t}}},[i("el-form",{ref:"newExpForm",staticClass:"demo-ruleForm",attrs:{model:e.editForm,"label-width":"140px"}},[i("el-form-item",{attrs:{label:"联系人姓名：",required:""}},[i("el-input",{staticStyle:{"max-width":"400px"},attrs:{maxlength:"10","show-word-limit":""},model:{value:e.editForm.receiverName,callback:function(t){e.$set(e.editForm,"receiverName","string"==typeof t?t.trim():t)},expression:"editForm.receiverName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"联系电话：",required:""}},[i("el-input",{staticStyle:{"max-width":"400px"},attrs:{maxlength:"11","show-word-limit":""},model:{value:e.editForm.receiverPhone,callback:function(t){e.$set(e.editForm,"receiverPhone","string"==typeof t?t.trim():t)},expression:"editForm.receiverPhone"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"自提点地址：",required:""}},[i("div",{staticClass:"flex-row-start"},[i("el-form-item",{staticStyle:{"margin-right":"10px"}},[i("el-select",{attrs:{"value-key":"code",placeholder:"请选择省"},on:{change:e.address1},model:{value:e.editForm.province,callback:function(t){e.$set(e.editForm,"province",t)},expression:"editForm.province"}},e._l(e.addressList1,function(e){return i("el-option",{key:e.code,attrs:{label:e.name,value:e}})}))],1),e._v(" "),i("el-form-item",{staticStyle:{"margin-right":"10px"}},[i("el-select",{attrs:{"value-key":"code",placeholder:"请选择市"},on:{change:e.address2},model:{value:e.editForm.city,callback:function(t){e.$set(e.editForm,"city",t)},expression:"editForm.city"}},e._l(e.addressList2,function(e){return i("el-option",{key:e.code,attrs:{label:e.name,value:e}})}))],1),e._v(" "),i("el-form-item",[i("el-select",{attrs:{"value-key":"code",placeholder:"请选择区"},on:{change:e.selectDisposeCode},model:{value:e.editForm.district,callback:function(t){e.$set(e.editForm,"district",t)},expression:"editForm.district"}},e._l(e.addressList3,function(e){return i("el-option",{key:e.code,attrs:{label:e.name,value:e}})}))],1)],1)]),e._v(" "),i("el-form-item",{attrs:{label:"详细地址：",required:""}},[i("el-input",{staticStyle:{"max-width":"400px"},attrs:{maxlength:"50","show-word-limit":""},model:{value:e.editForm.receiverAddress,callback:function(t){e.$set(e.editForm,"receiverAddress","string"==typeof t?t.trim():t)},expression:"editForm.receiverAddress"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"设为默认"}},[i("el-switch",{attrs:{"inactive-value":"0","active-value":"1"},model:{value:e.editForm.isDefault,callback:function(t){e.$set(e.editForm,"isDefault",t)},expression:"editForm.isDefault"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{loading:e.editSubLoading,type:"primary"},on:{click:e.editSub}},[e._v("确定")]),e._v(" "),i("el-button",{on:{click:function(t){e.editShow=!1}}},[e._v("取消")])],1)],1)],1)],1)},[],!1,null,"7b796d5b",null);d.options.__file="logisticsAddress.vue";t.default=d.exports},yR6R:function(e,t,i){}}]);
//# sourceMappingURL=chunk-5ca7.c53bbc42.js.map