(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4447"],{Wfvo:function(t,e,a){},dtQX:function(t,e,a){"use strict";var s=a("Wfvo");a.n(s).a},nNX2:function(t,e,a){"use strict";a.r(e);var s=a("QbLZ"),n=a.n(s),l=a("L2JU"),i=a("sWNr"),o={data:function(){return{searchList:{pageSize:5,pageNum:1},list:[],listTotal:0}},created:function(){this.searchList.shopId=this.shop.shopId,this.getData()},methods:{getData:function(){var t=this;console.log("请求的数据",this.searchList),Object(i.c)(this.searchList).then(function(e){console.log("数据列表",e),200==e.code&&(t.list=e.data.list,t.listTotal=e.data.total)})},reset:function(){this.searchList.roleName="",this.searchList.enabled="",this.getData()},changeItem:function(t,e){var a=this;this.$confirm("确定"+(0==e?"启":"禁")+"用此角色？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.f)({id:t,enabled:e}).then(function(t){console.log("启用、禁用角色",t),200==t.code?(a.$message({message:t.message,type:"success"}),a.getData()):a.$message.error(t.message)})}).catch(function(){})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.searchList.pageSize=t,this.getData()},handleCurrentChange:function(t){console.log("当前页: "+t),this.searchList.pageNum=t,this.getData()},change:function(){this.$forceUpdate()}},computed:n()({},Object(l.c)(["user","shop"]))},r=(a("dtQX"),a("KHd+")),c=Object(r.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pageContent"},[a("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[a("div",[a("i",{staticClass:"el-icon-search"}),t._v(" "),a("span",[t._v("筛选搜索")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.getData}},[t._v("查询")]),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:t.reset}},[t._v("重置")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.searchList,size:"small","label-width":"140px"}},[a("el-form-item",{attrs:{label:"角色名称："}},[a("el-input",{staticStyle:{width:"203px"},attrs:{clearable:"",placeholder:"角色名称"},on:{input:function(e){t.change(e)}},model:{value:t.searchList.roleName,callback:function(e){t.$set(t.searchList,"roleName",e)},expression:"searchList.roleName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择状态"},model:{value:t.searchList.enabled,callback:function(e){t.$set(t.searchList,"enabled",e)},expression:"searchList.enabled"}},[a("el-option",{attrs:{label:"启用",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:"1"}})],1)],1)],1)],1)]),t._v(" "),a("el-card",{staticClass:"operate-container",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[a("div",{staticClass:"flex-row-between",staticStyle:{width:"100%"}},[a("div",[a("i",{staticClass:"el-icon-tickets"}),t._v(" "),a("span",[t._v("数据列表")])]),t._v(" "),a("div",{staticStyle:{"padding-right":"20px"}},[a("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.$router.push({path:"/systemSetting/roleManage/newRole"})}}},[t._v("新增角色")])],1)])]),t._v(" "),a("div",[a("el-card",{staticClass:"filter-container",staticStyle:{"margin-top":"20px"},attrs:{shadow:"never"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{prop:"roleName",label:"角色名称"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"角色描述"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.roleDescription?e.row.roleDescription:"-"))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.enabled?a("div",[t._v("启用")]):t._e(),t._v(" "),1==e.row.enabled?a("div",{staticClass:"dangerFont"},[t._v("禁用")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.$router.push({path:"/systemSetting/roleManage/roleInfo",query:{id:e.row.id}})}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.$router.push({path:"/systemSetting/roleManage/editRole",query:{id:e.row.id}})}}},[t._v("修改")]),t._v(" "),1==e.row.enabled?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.changeItem(e.row.id,0)}}},[t._v("启用")]):t._e(),t._v(" "),0==e.row.enabled?a("el-button",{staticClass:"dangerFont",attrs:{type:"text",size:"small"},on:{click:function(a){t.changeItem(e.row.id,1)}}},[t._v("禁用")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"flex-row-end",staticStyle:{"padding-top":"20px"}},[a("div",[a("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":t.searchList.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.listTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1)],1)],1)},[],!1,null,"e9ce3e6a",null);c.options.__file="roleManage.vue";e.default=c.exports},sWNr:function(t,e,a){"use strict";a.d(e,"c",function(){return n}),a.d(e,"a",function(){return l}),a.d(e,"e",function(){return i}),a.d(e,"d",function(){return o}),a.d(e,"f",function(){return r}),a.d(e,"b",function(){return c});var s=a("t3Un");function n(t){return Object(s.a)({url:"/sys/sysRole/findByCondition",method:"post",data:t})}function l(t){return Object(s.a)({url:"/sys/sysRole/add",method:"post",data:t})}function i(t){return Object(s.a)({url:"/sys/sysRole/update",method:"post",data:t})}function o(t){return Object(s.a)({url:"/sys/sysRole/findById",method:"post",data:t})}function r(t){return Object(s.a)({url:"/sys/sysRole/updateEnable",method:"post",data:t})}function c(){return Object(s.a)({url:"/sys/sysMenu/findAll",method:"post"})}}}]);
//# sourceMappingURL=chunk-4447.1e3c338a.js.map