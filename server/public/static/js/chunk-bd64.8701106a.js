(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-bd64"],{OBPw:function(t,e,n){"use strict";var s=n("bqmX");n.n(s).a},bqmX:function(t,e,n){},dCWa:function(t,e,n){"use strict";n.r(e);var s=n("nP1G"),i={props:["status","shop","user"],data:function(){return{list:{channelUsernickName:"",channelUserPhone:"",registerTime:"",status:""},statusList:[{value:"",label:"全部"},{value:"0",label:"待审核"},{value:"2",label:"已驳回"},{value:"1",label:"已通过"}],groupList:[],form:{reason:"",groupId:""},userId:"",orderNo:"",dialogFormVisibleTwo:!1,dialogFormVisible:!1,dialogFormVisibleOne:!1,dialogFormVisibleReason:!1,auditFalseReason:"",id:"",tableList:[],pageNum:1,page_size:10,total:0,loading:!1,loadingDia:!1,pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){var e=new Date;e.setTime(e.getTime()),e.setHours(e.getHours()),e.setMinutes(e.getMinutes()),e.setSeconds(e.getSeconds());var n=new Date;n.setTime(n.getTime()),n.setHours(0),n.setMinutes(0),n.setSeconds(0),t.$emit("pick",[n,e])}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),e.setHours(23),e.setMinutes(59),e.setSeconds(59);var n=new Date;n.setTime(n.getTime()-864e5),n.setHours(0),n.setMinutes(0),n.setSeconds(0),t.$emit("pick",[n,e])}},{text:"最近一周",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-6048e5),t.$emit("pick",[n,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-2592e6),t.$emit("pick",[n,e])}}]}}},created:function(){},mounted:function(){},methods:{searchGroupList:function(){var t=this;Object(s.p)({shopId:this.shop.shopId}).then(function(e){200==e.code?t.groupList=e.data:t.$notify.error({title:"错误",message:e.message})}).catch(function(t){console.log(t)})},searchList:function(){var t=this;this.loading=!0,Object(s.l)({shopId:this.shop.shopId,pageNum:this.pageNum,pageSize:this.page_size,channelUsernickName:this.list.channelUsernickName,channelUserPhone:this.list.channelUserPhone,applyState:this.list.status,startCreateTime:null==this.list.registerTime?"":this.list.registerTime[0],endCreateTime:null==this.list.registerTime?"":this.list.registerTime[1]}).then(function(e){200==e.code?(t.tableList=e.data.list,t.total=e.data.total,t.loading=!1):t.$notify.error({title:"失败",message:e.message})})},showReason:function(t){this.dialogFormVisibleReason=!0,this.auditFalseReason=t.applyComment},auditTrue:function(t,e){1==t&&(this.dialogFormVisible=!0),2==t&&(this.dialogFormVisibleOne=!0),this.id=e.id,this.form.reason="",this.form.groupId="";var n=this.groupList.find(function(t){return 1==t.isDefault});this.form.groupId=n.id,this.loadingDia=!1},audit:function(t){var e=this;1==t&&("1",Object(s.o)({shopId:this.shop.shopId,groupId:this.form.groupId,count:1}).then(function(t){1==t.data?(e.loadingDia=!0,Object(s.d)({shopId:e.shop.shopId,id:e.id,applyState:1,channelGroupId:e.form.groupId}).then(function(t){1==t.data?(e.$notify({title:"成功",type:"success",message:"审核成功"}),e.loadingDia=!1,e.dialogFormVisible=!1,e.searchList()):e.$notify.error({title:"失败",message:t.message})})):e.$notify.error({title:"失败",message:t.message})})),"2"!=t||""!=this.form.reason?2==t&&(this.loadingDia=!0,Object(s.d)({shopId:this.shop.shopId,id:this.id,applyState:2,applyComment:this.form.reason}).then(function(t){1==t.data?(e.$notify({title:"成功",type:"success",message:"驳回操作成功"}),e.loadingDia=!1,e.dialogFormVisibleOne=!1,e.searchList()):e.$notify.error({title:"失败",message:t.message})})):this.$notify.error({title:"失败",message:"驳回原因不能为空"})},reset:function(){this.list={channelUsernickName:"",channelUserPhone:"",registerTime:"",status:""},this.searchList()},handleSizeChange:function(t){this.page_size=t,this.searchList()},pageChange:function(t){this.pageNum=t,this.searchList()}},computed:{startTime:function(){return this.status}},watch:{startTime:function(t,e){return this.searchList(),this.searchGroupList(),t}}},a=(n("OBPw"),n("KHd+")),o=Object(a.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[n("div",[n("i",{staticClass:"el-icon-search"}),t._v(" "),n("span",[t._v("筛选搜索")]),t._v(" "),n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.searchList}},[t._v("\n        查询\n      ")]),t._v(" "),n("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:t.reset}},[t._v("\n        重置\n      ")])],1),t._v(" "),n("div",{staticStyle:{"margin-top":"40px"}},[n("el-form",{attrs:{inline:!0,model:t.list,size:"small","label-width":"140px"}},[n("el-form-item",{attrs:{label:"分销员昵称："}},[n("el-input",{attrs:{clearable:"",placeholder:"分销员昵称"},model:{value:t.list.channelUsernickName,callback:function(e){t.$set(t.list,"channelUsernickName",e)},expression:"list.channelUsernickName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"分销员手机号："}},[n("el-input",{attrs:{clearable:"",placeholder:"分销员手机号"},model:{value:t.list.channelUserPhone,callback:function(e){t.$set(t.list,"channelUserPhone",e)},expression:"list.channelUserPhone"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"审核状态："}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.list.status,callback:function(e){t.$set(t.list,"status",e)},expression:"list.status"}},t._l(t.statusList,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),n("el-form-item",{attrs:{label:"申请时间："}},[n("el-date-picker",{attrs:{type:"datetimerange","value-format":"yyyy-MM-dd HH-mm-ss","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.list.registerTime,callback:function(e){t.$set(t.list,"registerTime",e)},expression:"list.registerTime"}})],1)],1)],1)]),t._v(" "),n("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[n("i",{staticClass:"el-icon-tickets"}),t._v(" "),n("span",[t._v("数据列表")])]),t._v(" "),n("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableList,border:""}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{label:"分销员昵称","min-width":"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.channelUsernickName))]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"分销员手机号",width:"120",prop:"channelUserPhone",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"邀请方昵称",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(""==e.row.inviternickName?"--":e.row.inviternickName)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"邀请方手机号",width:"130",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(""==e.row.inviterPhone?"--":e.row.inviterPhone)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"130",align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"累计交易笔数是指该用户支付过的订单笔数，剔除退款，不剔除部分退款",placement:"top"}},[n("el-button",{staticStyle:{color:"#909399","font-weight":"600"},attrs:{type:"text"}},[t._v("累计交易笔数"),n("i",{staticClass:"el-icon-question"})])],1)]}},{key:"default",fn:function(e){return[t._v("\n          "+t._s(""==e.row.orderTotal?"--":e.row.orderTotal)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"150",align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"累计自购金额是指该用户的实付金额，剔除退款",placement:"top"}},[n("el-button",{staticStyle:{color:"#909399","font-weight":"600"},attrs:{type:"text"}},[t._v("累计自购金额"),n("i",{staticClass:"el-icon-question"})])],1)]}},{key:"default",fn:function(e){return[t._v("\n          "+t._s(""==e.row.orderAmount?"--":e.row.orderAmount)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"申请加入时间",width:"160",prop:"createTime",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"状态",width:"120",prop:"applyState",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.applyState?n("span",[t._v("待审核")]):t._e(),t._v(" "),1==e.row.applyState?n("span",[t._v("已通过")]):t._e(),t._v(" "),2==e.row.applyState?n("span",[t._v("已驳回")]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作","min-width":"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.applyState?n("el-button",{attrs:{type:"text"},on:{click:function(n){t.auditTrue(1,e.row)}}},[t._v("审核通过")]):t._e(),t._v(" "),0==e.row.applyState?n("el-button",{attrs:{type:"text"},on:{click:function(n){t.auditTrue(2,e.row)}}},[t._v("驳回")]):t._e(),t._v(" "),2==e.row.applyState?n("el-button",{attrs:{type:"text"},on:{click:function(n){t.showReason(e.row)}}},[t._v("查看驳回原因")]):t._e()]}}])})],1),t._v(" "),n("div",{staticClass:"flex-row-end"},[n("el-pagination",{staticStyle:{"margin-top":"10px","margin-left":"20px"},attrs:{background:"",layout:"total,sizes,prev,pager,next,jumper","page-size":t.page_size,"page-sizes":[10,30,50],"current-page":t.pageNum,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.pageChange}})],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"分销员审核",visible:t.dialogFormVisible,width:"40%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("span",{staticStyle:{display:"flex",margin:"0 45px 20px","font-weight":"600"}},[t._v("是否通过该分销员的申请？如果同意请选择所属分组")]),t._v(" "),n("el-form",{attrs:{size:"small","label-width":"140px"}},[n("el-form-item",{attrs:{label:"按分组查看："}},[n("el-select",{attrs:{placeholder:"默认分组"},model:{value:t.form.groupId,callback:function(e){t.$set(t.form,"groupId",e)},expression:"form.groupId"}},t._l(t.groupList,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDia,expression:"loadingDia"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.audit(1)}}},[t._v("确 定")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"驳回申请",visible:t.dialogFormVisibleOne},on:{"update:visible":function(e){t.dialogFormVisibleOne=e}}},[n("el-form",{attrs:{"label-width":"80px",model:t.form}},[n("el-form-item",{attrs:{label:"驳回原因"}},[n("el-input",{attrs:{"show-word-limit":"",maxlength:"20"},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason","string"==typeof e?e.trim():e)},expression:"form.reason"}})],1)],1),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDia,expression:"loadingDia"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisibleOne=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.audit(2)}}},[t._v("确 定")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"查看驳回原因",visible:t.dialogFormVisibleReason,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisibleReason=e}}},[n("span",{staticStyle:{"margin-left":"20px"}},[t._v(t._s(t.auditFalseReason))]),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisibleReason=!1}}},[t._v("关闭")])],1)])],1)},[],!1,null,"78f87bb6",null);o.options.__file="distributorAudit.vue";e.default=o.exports},nP1G:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"t",function(){return a}),n.d(e,"n",function(){return o}),n.d(e,"r",function(){return r}),n.d(e,"p",function(){return l}),n.d(e,"o",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"i",function(){return d}),n.d(e,"e",function(){return p}),n.d(e,"h",function(){return h}),n.d(e,"f",function(){return m}),n.d(e,"q",function(){return f}),n.d(e,"m",function(){return g}),n.d(e,"l",function(){return b}),n.d(e,"d",function(){return v}),n.d(e,"k",function(){return y}),n.d(e,"a",function(){return _}),n.d(e,"g",function(){return w}),n.d(e,"s",function(){return C}),n.d(e,"j",function(){return k});var s=n("t3Un");function i(t){return Object(s.a)({url:"/sys/business/shopChannel/findChannelUserList",method:"post",data:t})}function a(t){return Object(s.a)({url:"/sys/business/shopChannel/updateChannelUserStatus",method:"post",data:t})}function o(t){return Object(s.a)({url:"/sys/business/shopChannel/findChannelUserByParentId",method:"post",data:t})}function r(t){return Object(s.a)({url:"/sys/business/shopChannel/removeBindByid",method:"post",data:t})}function l(t){return Object(s.a)({url:"/sys/business/shopChannel/initChannelGroupList",method:"post",data:t})}function u(t){return Object(s.a)({url:"/sys/business/shopChannel/verificationGroupCapacity",method:"post",data:t})}function c(t){return Object(s.a)({url:"/sys/business/shopChannel/changeChannelUserGroup",method:"post",data:t})}function d(t){return Object(s.a)({url:"/sys/business/shopChannel/findChannelGroupList",method:"post",data:t})}function p(t){return Object(s.a)({url:"/sys/business/shopChannel/verificationGroupName",method:"post",data:t})}function h(t){return Object(s.a)({url:"/sys/business/shopChannel/editChannelGroup",method:"post",data:t})}function m(t){return Object(s.a)({url:"/sys/business/shopChannel/deleteChannelGroup",method:"post",data:t})}function f(t){return Object(s.a)({url:"/sys/business/shopChannel/initChannelUserList",method:"post",data:t})}function g(t){return Object(s.a)({url:"/sys/business/shopChannel/findChannelUserByGroupId",method:"post",data:t})}function b(t){return Object(s.a)({url:"/sys/business/shopChannel/findChannelUserApplyRecordList",method:"post",data:t})}function v(t){return Object(s.a)({url:"/sys/business/shopChannel/checkApplyState",method:"post",data:t})}function y(t){return Object(s.a)({url:"/sys/business/shopChannel/findChannelRecruitInfoList",method:"post",data:t})}function _(t){return Object(s.a)({url:"/sys/business/shopChannel/addChannelRecruitInfo",method:"post",data:t})}function w(t){return Object(s.a)({url:"/sys/business/shopChannel/deleteChannelRecruitInfoById",method:"post",data:t})}function C(t){return Object(s.a)({url:"/sys/business/shopChannel/updateChannelRecruitInfo",method:"post",data:t})}function k(t){return Object(s.a)({url:"/sys/business/shopChannel/findChannelRecruitInfoById",method:"post",data:t})}}}]);
//# sourceMappingURL=chunk-bd64.8701106a.js.map