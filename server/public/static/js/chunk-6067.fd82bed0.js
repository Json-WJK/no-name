(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6067"],{BJ7B:function(t,e,o){"use strict";o.d(e,"g",function(){return r}),o.d(e,"j",function(){return a}),o.d(e,"k",function(){return s}),o.d(e,"a",function(){return c}),o.d(e,"d",function(){return i}),o.d(e,"b",function(){return u}),o.d(e,"e",function(){return l}),o.d(e,"c",function(){return d}),o.d(e,"l",function(){return p}),o.d(e,"i",function(){return h}),o.d(e,"h",function(){return f}),o.d(e,"f",function(){return g});var n=o("t3Un");function r(t){return Object(n.a)({url:"/sys/couponInfo/getCouponInfoPage",method:"post",data:t})}function a(t){return Object(n.a)({url:"/sys/couponProduct/getCouponProductPage",method:"post",data:t})}function s(t){return Object(n.a)({url:"/sys/couponProduct/getCouponUserPage",method:"post",data:t})}function c(t){return Object(n.a)({url:"/sys/couponInfo/addCouponInfo",method:"post",data:t})}function i(t){return Object(n.a)({url:"/sys/couponInfo/editCouponInfo",method:"post",data:t})}function u(t){return Object(n.a)({url:"/sys/couponInfo/couponData?couponId="+t,method:"get"})}function l(t){return Object(n.a)({url:"/sys/couponInfo/findCouponInfo?couponId="+t,method:"get"})}function d(t){return Object(n.a)({url:"/sys/couponInfo/deleteCouponInfo?couponId="+t,method:"DELETE"})}function p(t){return Object(n.a)({url:"/sys/couponProduct/userCouponProductPage",method:"post",data:t})}function h(t){return Object(n.a)({url:"/sys/couponInfo/getCouponInfoSubGroupPage",method:"post",data:t})}function f(t){return Object(n.a)({url:"/sys/couponInfo/getCouponInfoSubGroupInfo?couponIdStr="+t,method:"get"})}function g(t){return Object(n.a)({url:"/sys/couponInfo/getCouponCodeUrl?shopId="+t.shopId+"&couponId="+t.couponId,method:"get"})}},PRgn:function(t,e,o){"use strict";o.d(e,"b",function(){return r}),o.d(e,"e",function(){return a}),o.d(e,"a",function(){return s}),o.d(e,"f",function(){return c}),o.d(e,"h",function(){return i}),o.d(e,"g",function(){return u}),o.d(e,"d",function(){return l}),o.d(e,"c",function(){return d});var n=o("t3Un");function r(t){return Object(n.a)({url:"/product/business/productCategoryShop/getProductCategoryInfoList",method:"post",data:t})}function a(t){return Object(n.a)({url:"/product/business/productCategoryShop/insertProductCategoryShop",method:"post",data:t})}function s(t){return Object(n.a)({url:"/product/business/productCategoryShop/deleteProductCategoryShop",method:"post",data:t})}function c(t){return Object(n.a)({url:"/product/business/productCategoryShop/isCategoryNameExist?name="+t.name+"&level="+t.level+"&shopId="+t.shopId+"&parentId="+t.parentId,method:"get"})}function i(t){return Object(n.a)({url:"/product/business/productCategoryShop/updateProductCategoryShopOrderNo",method:"post",data:t})}function u(t){return Object(n.a)({url:"/product/business/productCategoryShop/updateProductCategoryShop",method:"post",data:t})}function l(t){return Object(n.a)({url:"/product/business/productCategoryShop/getProductCategoryShopAllList?shopId="+t,method:"get"})}function d(t){return Object(n.a)({url:"/product/business/productCategoryShop/getProductCategoryInfoPageList",method:"post",data:t})}},oC8U:function(t,e,o){"use strict";o.r(e);var n=o("QbLZ"),r=o.n(n),a=o("L2JU"),s=o("PRgn"),c=o("BJ7B"),i={props:["commodityIds","commodityShow"],watch:{commodityShow:function(t,e){t&&this.getData()}},data:function(){return{fromLoading:!1,searchList:{shopCategoryIdArr:[],pageNum:1,pageSize:5},category:[],list:[],listTotal:0,multipleSelection:[]}},created:function(){this.searchList.shopId=this.shop.shopId},methods:{sub:function(){console.log("multipleSelection",this.multipleSelection),0!=this.multipleSelection.length?(this.$emit("commodityFun",this.multipleSelection),this.$refs.multipleTable.clearSelection()):this.$message.error("请选择商品后再试")},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.searchList.pageSize=t,this.getData()},handleCurrentChange:function(t){console.log("当前页: "+t),this.searchList.pageNum=t,this.getData()},reset:function(){this.searchList.productName="",this.searchList.shopCategoryIdArr=[],this.getData()},getData:function(){var t=this;this.fromLoading=!0,this.searchList.productIds=this.commodityIds||"",this.searchList.shopCategoryPid=this.searchList.shopCategoryIdArr[0]||"",this.searchList.shopCategoryId=this.searchList.shopCategoryIdArr[1]||"",console.log("请求的数据",this.searchList),Object(c.j)(this.searchList).then(function(e){console.log("可添加优惠券的商品列表",e),200==e.code&&(t.list=e.data.list,t.listTotal=e.data.total,t.getCategory()),t.fromLoading=!1})},getCategory:function(){var t=this;Object(s.d)(this.shop.shopId).then(function(e){console.log("获取店铺分类",e),t.category=e.data})},close:function(){this.$emit("commodityClose",!0)},change:function(){this.$forceUpdate()}},computed:r()({},Object(a.c)(["user","shop"]))},u=o("KHd+"),l=Object(u.a)(i,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{attrs:{"append-to-body":!0,title:"新增商品列表",visible:t.commodityShow,width:"70%","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.commodityShow=e}}},[o("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[o("div",[o("i",{staticClass:"el-icon-search"}),t._v(" "),o("span",[t._v("筛选搜索")]),t._v(" "),o("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.getData}},[t._v("查询")]),t._v(" "),o("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:t.reset}},[t._v("重置")])],1),t._v(" "),o("div",{staticStyle:{"margin-top":"15px"}},[o("el-form",{attrs:{inline:!0,model:t.searchList,size:"small","label-width":"140px"}},[o("el-form-item",{attrs:{label:"商品名称："}},[o("el-input",{staticStyle:{width:"203px"},attrs:{clearable:"",placeholder:"商品名称"},on:{input:function(e){t.change(e)}},model:{value:t.searchList.productName,callback:function(e){t.$set(t.searchList,"productName",e)},expression:"searchList.productName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"商品类目："}},[o("el-cascader",{attrs:{options:t.category,props:{checkStrictly:!0},clearable:""},model:{value:t.searchList.shopCategoryIdArr,callback:function(e){t.$set(t.searchList,"shopCategoryIdArr",e)},expression:"searchList.shopCategoryIdArr"}})],1)],1)],1)]),t._v(" "),o("el-card",{staticClass:"filter-container",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[o("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),o("el-table-column",{attrs:{label:"商品图片",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-popover",{attrs:{placement:"right",title:"",trigger:"hover"}},[o("el-image",{staticStyle:{"max-height":"40px","max-width":"40px"},attrs:{slot:"reference",src:e.row.imageUrl,alt:e.row.imageUrl},slot:"reference"}),t._v(" "),o("el-image",{staticStyle:{"max-height":"350px","max-width":"350px"},attrs:{src:e.row.imageUrl}})],1)]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"商品名称",prop:"productName"}}),t._v(" "),o("el-table-column",{attrs:{label:"可用库存",width:"140",prop:"stock"}}),t._v(" "),o("el-table-column",{attrs:{label:"商品售价（元）",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s("￥"+e.row.minPrice+" ~ ￥"+e.row.maxPrice))]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"已参与活动",prop:"activeName"}})],1),t._v(" "),o("div",{staticStyle:{padding:"10px 0 20px 0"}},[o("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":t.searchList.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.listTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.close}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.sub}},[t._v("确 定")])],1)],1)},[],!1,null,null,null);l.options.__file="commodity.vue";e.default=l.exports}}]);
//# sourceMappingURL=chunk-6067.fd82bed0.js.map